function sD(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(e,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function iv(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var BT={exports:{}},Jf={},jT={exports:{}},_e={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ku=Symbol.for("react.element"),aD=Symbol.for("react.portal"),lD=Symbol.for("react.fragment"),uD=Symbol.for("react.strict_mode"),cD=Symbol.for("react.profiler"),dD=Symbol.for("react.provider"),fD=Symbol.for("react.context"),hD=Symbol.for("react.forward_ref"),pD=Symbol.for("react.suspense"),mD=Symbol.for("react.memo"),gD=Symbol.for("react.lazy"),y0=Symbol.iterator;function yD(e){return e===null||typeof e!="object"?null:(e=y0&&e[y0]||e["@@iterator"],typeof e=="function"?e:null)}var zT={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},WT=Object.assign,HT={};function ka(e,t,n){this.props=e,this.context=t,this.refs=HT,this.updater=n||zT}ka.prototype.isReactComponent={};ka.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ka.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function qT(){}qT.prototype=ka.prototype;function ov(e,t,n){this.props=e,this.context=t,this.refs=HT,this.updater=n||zT}var sv=ov.prototype=new qT;sv.constructor=ov;WT(sv,ka.prototype);sv.isPureReactComponent=!0;var v0=Array.isArray,GT=Object.prototype.hasOwnProperty,av={current:null},KT={key:!0,ref:!0,__self:!0,__source:!0};function QT(e,t,n){var r,i={},o=null,s=null;if(t!=null)for(r in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(o=""+t.key),t)GT.call(t,r)&&!KT.hasOwnProperty(r)&&(i[r]=t[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Ku,type:e,key:o,ref:s,props:i,_owner:av.current}}function vD(e,t){return{$$typeof:Ku,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function lv(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ku}function _D(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var _0=/\/+/g;function Fp(e,t){return typeof e=="object"&&e!==null&&e.key!=null?_D(""+e.key):t.toString(36)}function hd(e,t,n,r,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case Ku:case aD:s=!0}}if(s)return s=e,i=i(s),e=r===""?"."+Fp(s,0):r,v0(i)?(n="",e!=null&&(n=e.replace(_0,"$&/")+"/"),hd(i,t,n,"",function(u){return u})):i!=null&&(lv(i)&&(i=vD(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(_0,"$&/")+"/")+e)),t.push(i)),1;if(s=0,r=r===""?".":r+":",v0(e))for(var a=0;a<e.length;a++){o=e[a];var l=r+Fp(o,a);s+=hd(o,t,n,l,i)}else if(l=yD(e),typeof l=="function")for(e=l.call(e),a=0;!(o=e.next()).done;)o=o.value,l=r+Fp(o,a++),s+=hd(o,t,n,l,i);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function Dc(e,t,n){if(e==null)return e;var r=[],i=0;return hd(e,r,"","",function(o){return t.call(n,o,i++)}),r}function wD(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var cn={current:null},pd={transition:null},ED={ReactCurrentDispatcher:cn,ReactCurrentBatchConfig:pd,ReactCurrentOwner:av};_e.Children={map:Dc,forEach:function(e,t,n){Dc(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Dc(e,function(){t++}),t},toArray:function(e){return Dc(e,function(t){return t})||[]},only:function(e){if(!lv(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};_e.Component=ka;_e.Fragment=lD;_e.Profiler=cD;_e.PureComponent=ov;_e.StrictMode=uD;_e.Suspense=pD;_e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ED;_e.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=WT({},e.props),i=e.key,o=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,s=av.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)GT.call(t,l)&&!KT.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Ku,type:e.type,key:i,ref:o,props:r,_owner:s}};_e.createContext=function(e){return e={$$typeof:fD,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:dD,_context:e},e.Consumer=e};_e.createElement=QT;_e.createFactory=function(e){var t=QT.bind(null,e);return t.type=e,t};_e.createRef=function(){return{current:null}};_e.forwardRef=function(e){return{$$typeof:hD,render:e}};_e.isValidElement=lv;_e.lazy=function(e){return{$$typeof:gD,_payload:{_status:-1,_result:e},_init:wD}};_e.memo=function(e,t){return{$$typeof:mD,type:e,compare:t===void 0?null:t}};_e.startTransition=function(e){var t=pd.transition;pd.transition={};try{e()}finally{pd.transition=t}};_e.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};_e.useCallback=function(e,t){return cn.current.useCallback(e,t)};_e.useContext=function(e){return cn.current.useContext(e)};_e.useDebugValue=function(){};_e.useDeferredValue=function(e){return cn.current.useDeferredValue(e)};_e.useEffect=function(e,t){return cn.current.useEffect(e,t)};_e.useId=function(){return cn.current.useId()};_e.useImperativeHandle=function(e,t,n){return cn.current.useImperativeHandle(e,t,n)};_e.useInsertionEffect=function(e,t){return cn.current.useInsertionEffect(e,t)};_e.useLayoutEffect=function(e,t){return cn.current.useLayoutEffect(e,t)};_e.useMemo=function(e,t){return cn.current.useMemo(e,t)};_e.useReducer=function(e,t,n){return cn.current.useReducer(e,t,n)};_e.useRef=function(e){return cn.current.useRef(e)};_e.useState=function(e){return cn.current.useState(e)};_e.useSyncExternalStore=function(e,t,n){return cn.current.useSyncExternalStore(e,t,n)};_e.useTransition=function(){return cn.current.useTransition()};_e.version="18.2.0";jT.exports=_e;var E=jT.exports;const z=iv(E),ID=sD({__proto__:null,default:z},[E]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TD=E,SD=Symbol.for("react.element"),bD=Symbol.for("react.fragment"),RD=Object.prototype.hasOwnProperty,AD=TD.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,CD={key:!0,ref:!0,__self:!0,__source:!0};function YT(e,t,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(s=t.ref);for(r in t)RD.call(t,r)&&!CD.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:SD,type:e,key:o,ref:s,props:i,_owner:AD.current}}Jf.Fragment=bD;Jf.jsx=YT;Jf.jsxs=YT;BT.exports=Jf;var T=BT.exports;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XT=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},PD=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=e[n++];t[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=e[n++],s=e[n++],a=e[n++],l=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;t[r++]=String.fromCharCode(55296+(l>>10)),t[r++]=String.fromCharCode(56320+(l&1023))}else{const o=e[n++],s=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return t.join("")},JT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const o=e[i],s=i+1<e.length,a=s?e[i+1]:0,l=i+2<e.length,u=l?e[i+2]:0,c=o>>2,d=(o&3)<<4|a>>4;let f=(a&15)<<2|u>>6,h=u&63;l||(h=64,s||(f=64)),r.push(n[c],n[d],n[f],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(XT(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):PD(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const o=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0;++i;const u=i<e.length?n[e.charAt(i)]:64;++i;const d=i<e.length?n[e.charAt(i)]:64;if(++i,o==null||a==null||u==null||d==null)throw new xD;const f=o<<2|a>>4;if(r.push(f),u!==64){const h=a<<4&240|u>>2;if(r.push(h),d!==64){const p=u<<6&192|d;r.push(p)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class xD extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const kD=function(e){const t=XT(e);return JT.encodeByteArray(t,!0)},Vd=function(e){return kD(e).replace(/\./g,"")},ZT=function(e){try{return JT.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DD(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ND=()=>DD().__FIREBASE_DEFAULTS__,OD=()=>{if(typeof process>"u"||typeof process.env>"u")return;const e={}.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},LD=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&ZT(e[1]);return t&&JSON.parse(t)},Zf=()=>{try{return ND()||OD()||LD()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},eS=e=>{var t,n;return(n=(t=Zf())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},tS=e=>{const t=eS(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},nS=()=>{var e;return(e=Zf())===null||e===void 0?void 0:e.config},rS=e=>{var t;return(t=Zf())===null||t===void 0?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MD{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iS(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",i=e.iat||0,o=e.sub||e.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},e),a="";return[Vd(JSON.stringify(n)),Vd(JSON.stringify(s)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function VD(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Qt())}function FD(){var e;const t=(e=Zf())===null||e===void 0?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function $D(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function UD(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function BD(){const e=Qt();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function jD(){try{return typeof indexedDB=="object"}catch{return!1}}function zD(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;t(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WD="FirebaseError";class $r extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=WD,Object.setPrototypeOf(this,$r.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Qu.prototype.create)}}class Qu{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},i=`${this.service}/${t}`,o=this.errors[t],s=o?HD(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new $r(i,a,r)}}function HD(e,t){return e.replace(qD,(n,r)=>{const i=t[r];return i!=null?String(i):`<${r}?>`})}const qD=/\{\$([^}]+)}/g;function GD(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Fd(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const o=e[i],s=t[i];if(w0(o)&&w0(s)){if(!Fd(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function w0(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yu(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(i=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function wl(e){const t={};return e.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");t[decodeURIComponent(i)]=decodeURIComponent(o)}}),t}function El(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function KD(e,t){const n=new QD(e,t);return n.subscribe.bind(n)}class QD{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,r){let i;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");YD(t,["next","error","complete"])?i=t:i={next:t,error:n,complete:r},i.next===void 0&&(i.next=$p),i.error===void 0&&(i.error=$p),i.complete===void 0&&(i.complete=$p);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function YD(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function $p(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qe(e){return e&&e._delegate?e._delegate:e}class ro{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ro="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let XD=class{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new MD;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),i=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(ZD(t))try{this.getOrInitializeService({instanceIdentifier:Ro})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(t=Ro){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Ro){return this.instances.has(t)}getOptions(t=Ro){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(t,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(t),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&t(s,i),()=>{o.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:JD(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Ro){return this.component?this.component.multipleInstances?t:Ro:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function JD(e){return e===Ro?void 0:e}function ZD(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eN{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new XD(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ie;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(Ie||(Ie={}));const tN={debug:Ie.DEBUG,verbose:Ie.VERBOSE,info:Ie.INFO,warn:Ie.WARN,error:Ie.ERROR,silent:Ie.SILENT},nN=Ie.INFO,rN={[Ie.DEBUG]:"log",[Ie.VERBOSE]:"log",[Ie.INFO]:"info",[Ie.WARN]:"warn",[Ie.ERROR]:"error"},iN=(e,t,...n)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),i=rN[t];if(i)console[i](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class uv{constructor(t){this.name=t,this._logLevel=nN,this._logHandler=iN,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ie))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?tN[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ie.DEBUG,...t),this._logHandler(this,Ie.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ie.VERBOSE,...t),this._logHandler(this,Ie.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ie.INFO,...t),this._logHandler(this,Ie.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ie.WARN,...t),this._logHandler(this,Ie.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ie.ERROR,...t),this._logHandler(this,Ie.ERROR,...t)}}const oN=(e,t)=>t.some(n=>e instanceof n);let E0,I0;function sN(){return E0||(E0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function aN(){return I0||(I0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const oS=new WeakMap,mg=new WeakMap,sS=new WeakMap,Up=new WeakMap,cv=new WeakMap;function lN(e){const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("success",o),e.removeEventListener("error",s)},o=()=>{n(Bi(e.result)),i()},s=()=>{r(e.error),i()};e.addEventListener("success",o),e.addEventListener("error",s)});return t.then(n=>{n instanceof IDBCursor&&oS.set(n,e)}).catch(()=>{}),cv.set(t,e),t}function uN(e){if(mg.has(e))return;const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("complete",o),e.removeEventListener("error",s),e.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",o),e.addEventListener("error",s),e.addEventListener("abort",s)});mg.set(e,t)}let gg={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return mg.get(e);if(t==="objectStoreNames")return e.objectStoreNames||sS.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Bi(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function cN(e){gg=e(gg)}function dN(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(Bp(this),t,...n);return sS.set(r,t.sort?t.sort():[t]),Bi(r)}:aN().includes(e)?function(...t){return e.apply(Bp(this),t),Bi(oS.get(this))}:function(...t){return Bi(e.apply(Bp(this),t))}}function fN(e){return typeof e=="function"?dN(e):(e instanceof IDBTransaction&&uN(e),oN(e,sN())?new Proxy(e,gg):e)}function Bi(e){if(e instanceof IDBRequest)return lN(e);if(Up.has(e))return Up.get(e);const t=fN(e);return t!==e&&(Up.set(e,t),cv.set(t,e)),t}const Bp=e=>cv.get(e);function hN(e,t,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(e,t),a=Bi(s);return r&&s.addEventListener("upgradeneeded",l=>{r(Bi(s.result),l.oldVersion,l.newVersion,Bi(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const pN=["get","getKey","getAll","getAllKeys","count"],mN=["put","add","delete","clear"],jp=new Map;function T0(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(jp.get(t))return jp.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=mN.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||pN.includes(n)))return;const o=async function(s,...a){const l=this.transaction(s,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return jp.set(t,o),o}cN(e=>({...e,get:(t,n,r)=>T0(t,n)||e.get(t,n,r),has:(t,n)=>!!T0(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gN{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(yN(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function yN(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const yg="@firebase/app",S0="0.9.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qo=new uv("@firebase/app"),vN="@firebase/app-compat",_N="@firebase/analytics-compat",wN="@firebase/analytics",EN="@firebase/app-check-compat",IN="@firebase/app-check",TN="@firebase/auth",SN="@firebase/auth-compat",bN="@firebase/database",RN="@firebase/database-compat",AN="@firebase/functions",CN="@firebase/functions-compat",PN="@firebase/installations",xN="@firebase/installations-compat",kN="@firebase/messaging",DN="@firebase/messaging-compat",NN="@firebase/performance",ON="@firebase/performance-compat",LN="@firebase/remote-config",MN="@firebase/remote-config-compat",VN="@firebase/storage",FN="@firebase/storage-compat",$N="@firebase/firestore",UN="@firebase/firestore-compat",BN="firebase",jN="10.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vg="[DEFAULT]",zN={[yg]:"fire-core",[vN]:"fire-core-compat",[wN]:"fire-analytics",[_N]:"fire-analytics-compat",[IN]:"fire-app-check",[EN]:"fire-app-check-compat",[TN]:"fire-auth",[SN]:"fire-auth-compat",[bN]:"fire-rtdb",[RN]:"fire-rtdb-compat",[AN]:"fire-fn",[CN]:"fire-fn-compat",[PN]:"fire-iid",[xN]:"fire-iid-compat",[kN]:"fire-fcm",[DN]:"fire-fcm-compat",[NN]:"fire-perf",[ON]:"fire-perf-compat",[LN]:"fire-rc",[MN]:"fire-rc-compat",[VN]:"fire-gcs",[FN]:"fire-gcs-compat",[$N]:"fire-fst",[UN]:"fire-fst-compat","fire-js":"fire-js",[BN]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $d=new Map,_g=new Map;function WN(e,t){try{e.container.addComponent(t)}catch(n){qo.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Go(e){const t=e.name;if(_g.has(t))return qo.debug(`There were multiple attempts to register component ${t}.`),!1;_g.set(t,e);for(const n of $d.values())WN(n,e);return!0}function eh(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},ji=new Qu("app","Firebase",HN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qN{constructor(t,n,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ro("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw ji.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cs=jN;function aS(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const r=Object.assign({name:vg,automaticDataCollectionEnabled:!1},t),i=r.name;if(typeof i!="string"||!i)throw ji.create("bad-app-name",{appName:String(i)});if(n||(n=nS()),!n)throw ji.create("no-options");const o=$d.get(i);if(o){if(Fd(n,o.options)&&Fd(r,o.config))return o;throw ji.create("duplicate-app",{appName:i})}const s=new eN(i);for(const l of _g.values())s.addComponent(l);const a=new qN(n,r,s);return $d.set(i,a),a}function dv(e=vg){const t=$d.get(e);if(!t&&e===vg&&nS())return aS();if(!t)throw ji.create("no-app",{appName:e});return t}function Cr(e,t,n){var r;let i=(r=zN[e])!==null&&r!==void 0?r:e;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=t.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${t}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),qo.warn(a.join(" "));return}Go(new ro(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GN="firebase-heartbeat-database",KN=1,tu="firebase-heartbeat-store";let zp=null;function lS(){return zp||(zp=hN(GN,KN,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(tu)}}}).catch(e=>{throw ji.create("idb-open",{originalErrorMessage:e.message})})),zp}async function QN(e){try{return await(await lS()).transaction(tu).objectStore(tu).get(uS(e))}catch(t){if(t instanceof $r)qo.warn(t.message);else{const n=ji.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});qo.warn(n.message)}}}async function b0(e,t){try{const r=(await lS()).transaction(tu,"readwrite");await r.objectStore(tu).put(t,uS(e)),await r.done}catch(n){if(n instanceof $r)qo.warn(n.message);else{const r=ji.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});qo.warn(r.message)}}}function uS(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YN=1024,XN=30*24*60*60*1e3;class JN{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new eO(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=R0();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const o=new Date(i.date).valueOf();return Date.now()-o<=XN}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const t=R0(),{heartbeatsToSend:n,unsentEntries:r}=ZN(this._heartbeatsCache.heartbeats),i=Vd(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function R0(){return new Date().toISOString().substring(0,10)}function ZN(e,t=YN){const n=[];let r=e.slice();for(const i of e){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),A0(n)>t){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),A0(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class eO{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return jD()?zD().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await QN(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return b0(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return b0(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function A0(e){return Vd(JSON.stringify({version:2,heartbeats:e})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tO(e){Go(new ro("platform-logger",t=>new gN(t),"PRIVATE")),Go(new ro("heartbeat",t=>new JN(t),"PRIVATE")),Cr(yg,S0,e),Cr(yg,S0,"esm2017"),Cr("fire-js","")}tO("");function fv(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function C0(e){return e!==void 0&&e.enterprise!==void 0}class nO{constructor(t){if(this.siteKey="",this.emailPasswordEnabled=!1,t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.emailPasswordEnabled=t.recaptchaEnforcementState.some(n=>n.provider==="EMAIL_PASSWORD_PROVIDER"&&n.enforcementState!=="OFF")}}function cS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const rO=cS,dS=new Qu("auth","Firebase",cS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ud=new uv("@firebase/auth");function iO(e,...t){Ud.logLevel<=Ie.WARN&&Ud.warn(`Auth (${cs}): ${e}`,...t)}function md(e,...t){Ud.logLevel<=Ie.ERROR&&Ud.error(`Auth (${cs}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hr(e,...t){throw hv(e,...t)}function Pr(e,...t){return hv(e,...t)}function oO(e,t,n){const r=Object.assign(Object.assign({},rO()),{[t]:n});return new Qu("auth","Firebase",r).create(t,{appName:e.name})}function hv(e,...t){if(typeof e!="string"){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return dS.create(e,...t)}function ae(e,t,...n){if(!e)throw hv(t,...n)}function Qr(e){const t="INTERNAL ASSERTION FAILED: "+e;throw md(t),new Error(t)}function ii(e,t){e||Qr(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bd(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.href)||""}function fS(){return P0()==="http:"||P0()==="https:"}function P0(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sO(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(fS()||$D()||"connection"in navigator)?navigator.onLine:!0}function aO(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xu{constructor(t,n){this.shortDelay=t,this.longDelay=n,ii(n>t,"Short delay should be less than long delay!"),this.isMobile=VD()||UD()}get(){return sO()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pv(e,t){ii(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hS{static initialize(t,n,r){this.fetchImpl=t,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;Qr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;Qr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;Qr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lO={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uO=new Xu(3e4,6e4);function ho(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function mi(e,t,n,r,i={}){return pS(e,i,async()=>{let o={},s={};r&&(t==="GET"?s=r:o={body:JSON.stringify(r)});const a=Yu(Object.assign({key:e.config.apiKey},s)).slice(1),l=await e._getAdditionalHeaders();return l["Content-Type"]="application/json",e.languageCode&&(l["X-Firebase-Locale"]=e.languageCode),hS.fetch()(mS(e,e.config.apiHost,n,a),Object.assign({method:t,headers:l,referrerPolicy:"no-referrer"},o))})}async function pS(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},lO),t);try{const i=new cO(e),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=await o.json();if("needConfirmation"in s)throw Nc(e,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Nc(e,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw Nc(e,"email-already-in-use",s);if(l==="USER_DISABLED")throw Nc(e,"user-disabled",s);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw oO(e,c,u);hr(e,c)}}catch(i){if(i instanceof $r)throw i;hr(e,"network-request-failed",{message:String(i)})}}async function Ju(e,t,n,r,i={}){const o=await mi(e,t,n,r,i);return"mfaPendingCredential"in o&&hr(e,"multi-factor-auth-required",{_serverResponse:o}),o}function mS(e,t,n,r){const i=`${t}${n}?${r}`;return e.config.emulator?pv(e.config,i):`${e.config.apiScheme}://${i}`}class cO{constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Pr(this.auth,"network-request-failed")),uO.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Nc(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Pr(e,t,r);return i.customData._tokenResponse=n,i}async function dO(e,t){return mi(e,"GET","/v2/recaptchaConfig",ho(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fO(e,t){return mi(e,"POST","/v1/accounts:delete",t)}async function hO(e,t){return mi(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nl(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function pO(e,t=!1){const n=Qe(e),r=await n.getIdToken(t),i=mv(r);ae(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,s=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:Nl(Wp(i.auth_time)),issuedAtTime:Nl(Wp(i.iat)),expirationTime:Nl(Wp(i.exp)),signInProvider:s||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function Wp(e){return Number(e)*1e3}function mv(e){const[t,n,r]=e.split(".");if(t===void 0||n===void 0||r===void 0)return md("JWT malformed, contained fewer than 3 sections"),null;try{const i=ZT(n);return i?JSON.parse(i):(md("Failed to decode base64 JWT payload"),null)}catch(i){return md("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function mO(e){const t=mv(e);return ae(t,"internal-error"),ae(typeof t.exp<"u","internal-error"),ae(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ko(e,t,n=!1){if(n)return t;try{return await t}catch(r){throw r instanceof $r&&gO(r)&&e.auth.currentUser===e&&await e.auth.signOut(),r}}function gO({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yO{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gS{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Nl(this.lastLoginAt),this.creationTime=Nl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jd(e){var t;const n=e.auth,r=await e.getIdToken(),i=await Ko(e,hO(n,{idToken:r}));ae(i==null?void 0:i.users.length,n,"internal-error");const o=i.users[0];e._notifyReloadListener(o);const s=!((t=o.providerUserInfo)===null||t===void 0)&&t.length?wO(o.providerUserInfo):[],a=_O(e.providerData,s),l=e.isAnonymous,u=!(e.email&&o.passwordHash)&&!(a!=null&&a.length),c=l?u:!1,d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new gS(o.createdAt,o.lastLoginAt),isAnonymous:c};Object.assign(e,d)}async function vO(e){const t=Qe(e);await jd(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function _O(e,t){return[...e.filter(r=>!t.some(i=>i.providerId===r.providerId)),...t]}function wO(e){return e.map(t=>{var{providerId:n}=t,r=fv(t,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EO(e,t){const n=await pS(e,{},async()=>{const r=Yu({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:i,apiKey:o}=e.config,s=mS(e,i,"/v1/token",`key=${o}`),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",hS.fetch()(s,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){ae(t.idToken,"internal-error"),ae(typeof t.idToken<"u","internal-error"),ae(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):mO(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}async getToken(t,n=!1){return ae(!this.accessToken||this.refreshToken,t,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await EO(t,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(t,n,r){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new nu;return r&&(ae(typeof r=="string","internal-error",{appName:t}),s.refreshToken=r),i&&(ae(typeof i=="string","internal-error",{appName:t}),s.accessToken=i),o&&(ae(typeof o=="number","internal-error",{appName:t}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new nu,this.toJSON())}_performRefresh(){return Qr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ei(e,t){ae(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class Bo{constructor(t){var{uid:n,auth:r,stsTokenManager:i}=t,o=fv(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new yO(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new gS(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const n=await Ko(this,this.stsTokenManager.getToken(this.auth,t));return ae(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return pO(this,t)}reload(){return vO(this)}_assign(t){this!==t&&(ae(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new Bo(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),n&&await jd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const t=await this.getIdToken();return await Ko(this,fO(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var r,i,o,s,a,l,u,c;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,h=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,p=(s=n.photoURL)!==null&&s!==void 0?s:void 0,y=(a=n.tenantId)!==null&&a!==void 0?a:void 0,_=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,g=(u=n.createdAt)!==null&&u!==void 0?u:void 0,m=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:w,emailVerified:v,isAnonymous:I,providerData:b,stsTokenManager:R}=n;ae(w&&R,t,"internal-error");const A=nu.fromJSON(this.name,R);ae(typeof w=="string",t,"internal-error"),Ei(d,t.name),Ei(f,t.name),ae(typeof v=="boolean",t,"internal-error"),ae(typeof I=="boolean",t,"internal-error"),Ei(h,t.name),Ei(p,t.name),Ei(y,t.name),Ei(_,t.name),Ei(g,t.name),Ei(m,t.name);const O=new Bo({uid:w,auth:t,email:f,emailVerified:v,displayName:d,isAnonymous:I,photoURL:p,phoneNumber:h,tenantId:y,stsTokenManager:A,createdAt:g,lastLoginAt:m});return b&&Array.isArray(b)&&(O.providerData=b.map(k=>Object.assign({},k))),_&&(O._redirectEventId=_),O}static async _fromIdTokenResponse(t,n,r=!1){const i=new nu;i.updateFromServerResponse(n);const o=new Bo({uid:n.localId,auth:t,stsTokenManager:i,isAnonymous:r});return await jd(o),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x0=new Map;function Yr(e){ii(e instanceof Function,"Expected a class definition");let t=x0.get(e);return t?(ii(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,x0.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}yS.type="NONE";const k0=yS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gd(e,t,n){return`firebase:${e}:${t}:${n}`}class Gs{constructor(t,n,r){this.persistence=t,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=gd(this.userKey,i.apiKey,o),this.fullPersistenceKey=gd("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?Bo._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,r="authUser"){if(!n.length)return new Gs(Yr(k0),t,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let o=i[0]||Yr(k0);const s=gd(r,t.config.apiKey,t.name);let a=null;for(const u of n)try{const c=await u._get(s);if(c){const d=Bo._fromJSON(t,c);u!==o&&(a=d),o=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new Gs(o,t,r):(o=l[0],a&&await o._set(s,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==o)try{await u._remove(s)}catch{}})),new Gs(o,t,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D0(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(wS(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(vS(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(IS(t))return"Blackberry";if(TS(t))return"Webos";if(gv(t))return"Safari";if((t.includes("chrome/")||_S(t))&&!t.includes("edge/"))return"Chrome";if(ES(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=e.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function vS(e=Qt()){return/firefox\//i.test(e)}function gv(e=Qt()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function _S(e=Qt()){return/crios\//i.test(e)}function wS(e=Qt()){return/iemobile/i.test(e)}function ES(e=Qt()){return/android/i.test(e)}function IS(e=Qt()){return/blackberry/i.test(e)}function TS(e=Qt()){return/webos/i.test(e)}function th(e=Qt()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function IO(e=Qt()){var t;return th(e)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function TO(){return BD()&&document.documentMode===10}function SS(e=Qt()){return th(e)||ES(e)||TS(e)||IS(e)||/windows phone/i.test(e)||wS(e)}function SO(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bS(e,t=[]){let n;switch(e){case"Browser":n=D0(Qt());break;case"Worker":n=`${D0(Qt())}-${e}`;break;default:n=e}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${cs}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bO{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const r=o=>new Promise((s,a)=>{try{const l=t(o);s(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const r of this.queue)await r(t),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RO(e,t={}){return mi(e,"GET","/v2/passwordPolicy",ho(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AO=6;class CO{constructor(t){var n,r,i,o;const s=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:AO,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=t.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=t.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var n,r,i,o,s,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,l),this.validatePasswordCharacterOptions(t,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsUppercaseLetter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(s=l.containsNumericCharacter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(t,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=t.length>=r),i&&(n.meetsMaxPasswordLength=t.length<=i)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<t.length;i++)r=t.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PO{constructor(t,n,r,i){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new N0(this),this.idTokenSubscription=new N0(this),this.beforeStateQueue=new bO(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=dS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=Yr(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Gs.create(this,t),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUser(t){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(t);(!s||s===a)&&(l!=null&&l.user)&&(i=l.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ae(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await jd(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=aO()}async _delete(){this._deleted=!0}async updateCurrentUser(t){const n=t?Qe(t):null;return n&&ae(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&ae(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(t){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Yr(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await RO(this),n=new CO(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new Qu("auth","Firebase",t())}onAuthStateChanged(t,n,r){return this.registerStateListener(this.authStateSubscription,t,n,r)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,r){return this.registerStateListener(this.idTokenSubscription,t,n,r)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},n)}})}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const r=await this.getOrInitRedirectPersistenceManager(n);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&Yr(t)||this._popupRedirectResolver;ae(n,this,"argument-error"),this.redirectPersistenceManager=await Gs.create(this,[Yr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ae(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){const l=t.addObserver(n,r,i);return()=>{s=!0,l()}}else{const l=t.addObserver(n);return()=>{s=!0,l()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=bS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var t;const n=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return n!=null&&n.error&&iO(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function ds(e){return Qe(e)}class N0{constructor(t){this.auth=t,this.observer=null,this.addObserver=KD(n=>this.observer=n)}get next(){return ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xO(){var e,t;return(t=(e=document.getElementsByTagName("head"))===null||e===void 0?void 0:e[0])!==null&&t!==void 0?t:document}function RS(e){return new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=i=>{const o=Pr("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",xO().appendChild(r)})}function kO(e){return`__${e}${Math.floor(Math.random()*1e6)}`}const DO="https://www.google.com/recaptcha/enterprise.js?render=",NO="recaptcha-enterprise",OO="NO_RECAPTCHA";class LO{constructor(t){this.type=NO,this.auth=ds(t)}async verify(t="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(s,a)=>{dO(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new nO(l);return o.tenantId==null?o._agentRecaptchaConfig=u:o._tenantRecaptchaConfigs[o.tenantId]=u,s(u.siteKey)}}).catch(l=>{a(l)})})}function i(o,s,a){const l=window.grecaptcha;C0(l)?l.enterprise.ready(()=>{l.enterprise.execute(o,{action:t}).then(u=>{s(u)}).catch(()=>{s(OO)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((o,s)=>{r(this.auth).then(a=>{if(!n&&C0(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}RS(DO+a).then(()=>{i(a,o,s)}).catch(l=>{s(l)})}}).catch(a=>{s(a)})})}}async function zd(e,t,n,r=!1){const i=new LO(e);let o;try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const s=Object.assign({},t);return r?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MO(e,t){const n=eh(e,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(Fd(o,t??{}))return i;hr(i,"already-initialized")}return n.initialize({options:t})}function VO(e,t){const n=(t==null?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Yr);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,t==null?void 0:t.popupRedirectResolver)}function FO(e,t,n){const r=ds(e);ae(r._canInitEmulator,r,"emulator-config-failed"),ae(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),o=AS(t),{host:s,port:a}=$O(t),l=a===null?"":`:${a}`;r.config.emulator={url:`${o}//${s}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||UO()}function AS(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function $O(e){const t=AS(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:O0(r.substr(o.length+1))}}else{const[o,s]=r.split(":");return{host:o,port:O0(s)}}}function O0(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function UO(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yv{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return Qr("not implemented")}_getIdTokenResponse(t){return Qr("not implemented")}_linkToIdToken(t,n){return Qr("not implemented")}_getReauthenticationResolver(t){return Qr("not implemented")}}async function CS(e,t){return mi(e,"POST","/v1/accounts:update",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hp(e,t){return Ju(e,"POST","/v1/accounts:signInWithPassword",ho(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BO(e,t){return Ju(e,"POST","/v1/accounts:signInWithEmailLink",ho(e,t))}async function jO(e,t){return Ju(e,"POST","/v1/accounts:signInWithEmailLink",ho(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ru extends yv{constructor(t,n,r,i=null){super("password",r),this._email=t,this._password=n,this._tenantId=i}static _fromEmailAndPassword(t,n){return new ru(t,n,"password")}static _fromEmailAndCode(t,n,r=null){return new ru(t,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){var n;switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(!((n=t._getRecaptchaConfig())===null||n===void 0)&&n.emailPasswordEnabled){const i=await zd(t,r,"signInWithPassword");return Hp(t,i)}else return Hp(t,r).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const o=await zd(t,r,"signInWithPassword");return Hp(t,o)}else return Promise.reject(i)});case"emailLink":return BO(t,{email:this._email,oobCode:this._password});default:hr(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":return CS(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return jO(t,{idToken:n,email:this._email,oobCode:this._password});default:hr(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ks(e,t){return Ju(e,"POST","/v1/accounts:signInWithIdp",ho(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zO="http://localhost";class Qo extends yv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Qo(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):hr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:i}=n,o=fv(n,["providerId","signInMethod"]);if(!r||!i)return null;const s=new Qo(r,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(t){const n=this.buildRequest();return Ks(t,n)}_linkToIdToken(t,n){const r=this.buildRequest();return r.idToken=n,Ks(t,r)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,Ks(t,n)}buildRequest(){const t={requestUri:zO,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=Yu(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WO(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function HO(e){const t=wl(El(e)).link,n=t?wl(El(t)).deep_link_id:null,r=wl(El(e)).deep_link_id;return(r?wl(El(r)).link:null)||r||n||t||e}class vv{constructor(t){var n,r,i,o,s,a;const l=wl(El(t)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,c=(r=l.oobCode)!==null&&r!==void 0?r:null,d=WO((i=l.mode)!==null&&i!==void 0?i:null);ae(u&&c&&d,"argument-error"),this.apiKey=u,this.operation=d,this.code=c,this.continueUrl=(o=l.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=l.languageCode)!==null&&s!==void 0?s:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(t){const n=HO(t);try{return new vv(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Da{constructor(){this.providerId=Da.PROVIDER_ID}static credential(t,n){return ru._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const r=vv.parseLink(n);return ae(r,"argument-error"),ru._fromEmailAndCode(t,r.code,r.tenantId)}}Da.PROVIDER_ID="password";Da.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Da.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PS{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zu extends PS{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri extends Zu{constructor(){super("facebook.com")}static credential(t){return Qo._fromParams({providerId:Ri.PROVIDER_ID,signInMethod:Ri.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ri.credentialFromTaggedObject(t)}static credentialFromError(t){return Ri.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ri.credential(t.oauthAccessToken)}catch{return null}}}Ri.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ri.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai extends Zu{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Qo._fromParams({providerId:Ai.PROVIDER_ID,signInMethod:Ai.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return Ai.credentialFromTaggedObject(t)}static credentialFromError(t){return Ai.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return Ai.credential(n,r)}catch{return null}}}Ai.GOOGLE_SIGN_IN_METHOD="google.com";Ai.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci extends Zu{constructor(){super("github.com")}static credential(t){return Qo._fromParams({providerId:Ci.PROVIDER_ID,signInMethod:Ci.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ci.credentialFromTaggedObject(t)}static credentialFromError(t){return Ci.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ci.credential(t.oauthAccessToken)}catch{return null}}}Ci.GITHUB_SIGN_IN_METHOD="github.com";Ci.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi extends Zu{constructor(){super("twitter.com")}static credential(t,n){return Qo._fromParams({providerId:Pi.PROVIDER_ID,signInMethod:Pi.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return Pi.credentialFromTaggedObject(t)}static credentialFromError(t){return Pi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return Pi.credential(n,r)}catch{return null}}}Pi.TWITTER_SIGN_IN_METHOD="twitter.com";Pi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qp(e,t){return Ju(e,"POST","/v1/accounts:signUp",ho(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,r,i=!1){const o=await Bo._fromIdTokenResponse(t,r,i),s=L0(r);return new Yo({user:o,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(t,n,r){await t._updateTokensIfNecessary(r,!0);const i=L0(r);return new Yo({user:t,providerId:i,_tokenResponse:r,operationType:n})}}function L0(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wd extends $r{constructor(t,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Wd.prototype),this.customData={appName:t.name,tenantId:(o=t.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,n,r,i){return new Wd(t,n,r,i)}}function xS(e,t,n,r){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Wd._fromErrorAndOperation(e,o,t,r):o})}async function qO(e,t,n=!1){const r=await Ko(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Yo._forOperation(e,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GO(e,t,n=!1){const{auth:r}=e,i="reauthenticate";try{const o=await Ko(e,xS(r,i,t,e),n);ae(o.idToken,r,"internal-error");const s=mv(o.idToken);ae(s,r,"internal-error");const{sub:a}=s;return ae(e.uid===a,r,"user-mismatch"),Yo._forOperation(e,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&hr(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kS(e,t,n=!1){const r="signIn",i=await xS(e,r,t),o=await Yo._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(o.user),o}async function KO(e,t){return kS(ds(e),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DS(e){const t=ds(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function QO(e,t,n){var r;const i=ds(e),o={returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"};let s;if(!((r=i._getRecaptchaConfig())===null||r===void 0)&&r.emailPasswordEnabled){const u=await zd(i,o,"signUpPassword");s=qp(i,u)}else s=qp(i,o).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const c=await zd(i,o,"signUpPassword");return qp(i,c)}throw u});const a=await s.catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&DS(e),u}),l=await Yo._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(l.user),l}function YO(e,t,n){return KO(Qe(e),Da.credential(t,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&DS(e),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XO(e,t){return mi(e,"POST","/v1/accounts:createAuthUri",ho(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JO(e,t){const n=fS()?Bd():"http://localhost",r={identifier:t,continueUri:n},{signinMethods:i}=await XO(Qe(e),r);return i||[]}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZO(e,t){return mi(e,"POST","/v1/accounts:update",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NS(e,{displayName:t,photoURL:n}){if(t===void 0&&n===void 0)return;const r=Qe(e),o={idToken:await r.getIdToken(),displayName:t,photoUrl:n,returnSecureToken:!0},s=await Ko(r,ZO(r.auth,o));r.displayName=s.displayName||null,r.photoURL=s.photoUrl||null;const a=r.providerData.find(({providerId:l})=>l==="password");a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(s)}function eL(e,t){return tL(Qe(e),t,null)}async function tL(e,t,n){const{auth:r}=e,o={idToken:await e.getIdToken(),returnSecureToken:!0};t&&(o.email=t),n&&(o.password=n);const s=await Ko(e,CS(r,o));await e._updateTokensIfNecessary(s,!0)}function nL(e,t,n,r){return Qe(e).onIdTokenChanged(t,n,r)}function rL(e,t,n){return Qe(e).beforeAuthStateChanged(t,n)}function iL(e,t,n,r){return Qe(e).onAuthStateChanged(t,n,r)}const Hd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OS{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Hd,"1"),this.storage.removeItem(Hd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oL(){const e=Qt();return gv(e)||th(e)}const sL=1e3,aL=10;class LS extends OS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=oL()&&SO(),this.fallbackToPolling=SS(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&t(n,i,r)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((s,a,l)=>{this.notifyListeners(s,l)});return}const r=t.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const s=this.storage.getItem(r);if(t.newValue!==s)t.newValue!==null?this.storage.setItem(r,t.newValue):this.storage.removeItem(r);else if(this.localCache[r]===t.newValue&&!n)return}const i=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},o=this.storage.getItem(r);TO()&&o!==t.newValue&&t.newValue!==t.oldValue?setTimeout(i,aL):i()}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)})},sL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}LS.type="LOCAL";const lL=LS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MS extends OS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}MS.type="SESSION";const VS=MS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uL(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(i=>i.isListeningto(t));if(n)return n;const r=new nh(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:r,eventType:i,data:o}=n.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(s).map(async u=>u(n.origin,o)),l=await uL(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}nh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _v(e="",t=10){let n="";for(let r=0;r<t;r++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cL{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,l)=>{const u=_v("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(d){const f=d;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(c),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(f.data.response);break;default:clearTimeout(c),clearTimeout(o),l(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:t,eventId:u,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xr(){return window}function dL(e){xr().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FS(){return typeof xr().WorkerGlobalScope<"u"&&typeof xr().importScripts=="function"}async function fL(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function hL(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)===null||e===void 0?void 0:e.controller)||null}function pL(){return FS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $S="firebaseLocalStorageDb",mL=1,qd="firebaseLocalStorage",US="fbase_key";class ec{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function rh(e,t){return e.transaction([qd],t?"readwrite":"readonly").objectStore(qd)}function gL(){const e=indexedDB.deleteDatabase($S);return new ec(e).toPromise()}function wg(){const e=indexedDB.open($S,mL);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const r=e.result;try{r.createObjectStore(qd,{keyPath:US})}catch(i){n(i)}}),e.addEventListener("success",async()=>{const r=e.result;r.objectStoreNames.contains(qd)?t(r):(r.close(),await gL(),t(await wg()))})})}async function M0(e,t,n){const r=rh(e,!0).put({[US]:t,value:n});return new ec(r).toPromise()}async function yL(e,t){const n=rh(e,!1).get(t),r=await new ec(n).toPromise();return r===void 0?null:r.value}function V0(e,t){const n=rh(e,!0).delete(t);return new ec(n).toPromise()}const vL=800,_L=3;class BS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await wg(),this.db)}async _withRetries(t){let n=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(n++>_L)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return FS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=nh._getInstance(pL()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await fL(),!this.activeServiceWorker)return;this.sender=new cL(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((t=r[0])===null||t===void 0)&&t.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||hL()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await wg();return await M0(t,Hd,"1"),await V0(t,Hd),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>M0(r,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(r=>yL(r,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>V0(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(i=>{const o=rh(i,!1).getAll();return new ec(o).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:i,value:o}of t)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),vL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}BS.type="LOCAL";const wL=BS;new Xu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EL(e,t){return t?Yr(t):(ae(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wv extends yv{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Ks(t,this._buildIdpRequest())}_linkToIdToken(t,n){return Ks(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return Ks(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function IL(e){return kS(e.auth,new wv(e),e.bypassAuthState)}function TL(e){const{auth:t,user:n}=e;return ae(n,t,"internal-error"),GO(n,new wv(e),e.bypassAuthState)}async function SL(e){const{auth:t,user:n}=e;return ae(n,t,"internal-error"),qO(n,new wv(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jS{constructor(t,n,r,i,o=!1){this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=t;if(s){this.reject(s);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return IL;case"linkViaPopup":case"linkViaRedirect":return SL;case"reauthViaPopup":case"reauthViaRedirect":return TL;default:hr(this.auth,"internal-error")}}resolve(t){ii(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){ii(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bL=new Xu(2e3,1e4);class xs extends jS{constructor(t,n,r,i,o){super(t,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,xs.currentPopupAction&&xs.currentPopupAction.cancel(),xs.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return ae(t,this.auth,"internal-error"),t}async onExecution(){ii(this.filter.length===1,"Popup operations only handle one event");const t=_v();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Pr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(Pr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,xs.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Pr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,bL.get())};t()}}xs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RL="pendingRedirect",yd=new Map;class AL extends jS{constructor(t,n,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let t=yd.get(this.auth._key());if(!t){try{const r=await CL(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(n){t=()=>Promise.reject(n)}yd.set(this.auth._key(),t)}return this.bypassAuthState||yd.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function CL(e,t){const n=kL(t),r=xL(e);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function PL(e,t){yd.set(e._key(),t)}function xL(e){return Yr(e._redirectPersistence)}function kL(e){return gd(RL,e.config.apiKey,e.name)}async function DL(e,t,n=!1){const r=ds(e),i=EL(r,t),s=await new AL(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,t)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NL=10*60*1e3;class OL{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(n=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!LL(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var r;if(t.error&&!zS(t)){const i=((r=t.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Pr(this.auth,i))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const r=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=NL&&this.cachedEventUids.clear(),this.cachedEventUids.has(F0(t))}saveEventToCache(t){this.cachedEventUids.add(F0(t)),this.lastProcessedEventTime=Date.now()}}function F0(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function zS({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function LL(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return zS(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ML(e,t={}){return mi(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VL=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,FL=/^https?/;async function $L(e){if(e.config.emulator)return;const{authorizedDomains:t}=await ML(e);for(const n of t)try{if(UL(n))return}catch{}hr(e,"unauthorized-domain")}function UL(e){const t=Bd(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const s=new URL(e);return s.hostname===""&&r===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!FL.test(n))return!1;if(VL.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BL=new Xu(3e4,6e4);function $0(){const e=xr().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function jL(e){return new Promise((t,n)=>{var r,i,o;function s(){$0(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{$0(),n(Pr(e,"network-request-failed"))},timeout:BL.get()})}if(!((i=(r=xr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)t(gapi.iframes.getContext());else if(!((o=xr().gapi)===null||o===void 0)&&o.load)s();else{const a=kO("iframefcb");return xr()[a]=()=>{gapi.load?s():n(Pr(e,"network-request-failed"))},RS(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>n(l))}}).catch(t=>{throw vd=null,t})}let vd=null;function zL(e){return vd=vd||jL(e),vd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WL=new Xu(5e3,15e3),HL="__/auth/iframe",qL="emulator/auth/iframe",GL={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},KL=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function QL(e){const t=e.config;ae(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?pv(t,qL):`https://${e.config.authDomain}/${HL}`,r={apiKey:t.apiKey,appName:e.name,v:cs},i=KL.get(e.config.apiHost);i&&(r.eid=i);const o=e._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Yu(r).slice(1)}`}async function YL(e){const t=await zL(e),n=xr().gapi;return ae(n,e,"internal-error"),t.open({where:document.body,url:QL(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:GL,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const s=Pr(e,"network-request-failed"),a=xr().setTimeout(()=>{o(s)},WL.get());function l(){xr().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{o(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XL={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},JL=500,ZL=600,eM="_blank",tM="http://localhost";class U0{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function nM(e,t,n,r=JL,i=ZL){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},XL),{width:r.toString(),height:i.toString(),top:o,left:s}),u=Qt().toLowerCase();n&&(a=_S(u)?eM:n),vS(u)&&(t=t||tM,l.scrollbars="yes");const c=Object.entries(l).reduce((f,[h,p])=>`${f}${h}=${p},`,"");if(IO(u)&&a!=="_self")return rM(t||"",a),new U0(null);const d=window.open(t||"",a,c);ae(d,e,"popup-blocked");try{d.focus()}catch{}return new U0(d)}function rM(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iM="__/auth/handler",oM="emulator/auth/handler",sM=encodeURIComponent("fac");async function B0(e,t,n,r,i,o){ae(e.config.authDomain,e,"auth-domain-config-required"),ae(e.config.apiKey,e,"invalid-api-key");const s={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:cs,eventId:i};if(t instanceof PS){t.setDefaultLanguage(e.languageCode),s.providerId=t.providerId||"",GD(t.getCustomParameters())||(s.customParameters=JSON.stringify(t.getCustomParameters()));for(const[c,d]of Object.entries(o||{}))s[c]=d}if(t instanceof Zu){const c=t.getScopes().filter(d=>d!=="");c.length>0&&(s.scopes=c.join(","))}e.tenantId&&(s.tid=e.tenantId);const a=s;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const l=await e._getAppCheckToken(),u=l?`#${sM}=${encodeURIComponent(l)}`:"";return`${aM(e)}?${Yu(a).slice(1)}${u}`}function aM({config:e}){return e.emulator?pv(e,oM):`https://${e.authDomain}/${iM}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gp="webStorageSupport";class lM{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=VS,this._completeRedirectFn=DL,this._overrideRedirectResult=PL}async _openPopup(t,n,r,i){var o;ii((o=this.eventManagers[t._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const s=await B0(t,n,r,Bd(),i);return nM(t,s,_v())}async _openRedirect(t,n,r,i){await this._originValidation(t);const o=await B0(t,n,r,Bd(),i);return dL(o),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(ii(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(t);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(t){const n=await YL(t),r=new OL(t);return n.register("authEvent",i=>(ae(i==null?void 0:i.authEvent,t,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,r}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(Gp,{type:Gp},i=>{var o;const s=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[Gp];s!==void 0&&n(!!s),hr(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=$L(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return SS()||gv()||th()}}const uM=lM;var j0="@firebase/auth",z0="1.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cM{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(r=>{t((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dM(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function fM(e){Go(new ro("auth",(t,{options:n})=>{const r=t.getProvider("app").getImmediate(),i=t.getProvider("heartbeat"),o=t.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;ae(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:a,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:bS(e)},u=new PO(r,i,o,l);return VO(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,r)=>{t.getProvider("auth-internal").initialize()})),Go(new ro("auth-internal",t=>{const n=ds(t.getProvider("auth").getImmediate());return(r=>new cM(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Cr(j0,z0,dM(e)),Cr(j0,z0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hM=5*60,pM=rS("authIdTokenMaxAge")||hM;let W0=null;const mM=e=>async t=>{const n=t&&await t.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>pM)return;const i=n==null?void 0:n.token;W0!==i&&(W0=i,await fetch(e,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function gM(e=dv()){const t=eh(e,"auth");if(t.isInitialized())return t.getImmediate();const n=MO(e,{popupRedirectResolver:uM,persistence:[wL,lL,VS]}),r=rS("authTokenSyncURL");if(r){const o=mM(r);rL(n,o,()=>o(n.currentUser)),nL(n,s=>o(s))}const i=eS("auth");return i&&FO(n,`http://${i}`),n}fM("Browser");var yM="firebase",vM="10.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Cr(yM,vM,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WS="firebasestorage.googleapis.com",HS="storageBucket",_M=2*60*1e3,wM=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot extends $r{constructor(t,n,r=0){super(Kp(t),`Firebase Storage: ${n} (${Kp(t)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ot.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return Kp(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var rt;(function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(rt||(rt={}));function Kp(e){return"storage/"+e}function Ev(){const e="An unknown error occurred, please check the error payload for server response.";return new ot(rt.UNKNOWN,e)}function EM(e){return new ot(rt.OBJECT_NOT_FOUND,"Object '"+e+"' does not exist.")}function IM(e){return new ot(rt.QUOTA_EXCEEDED,"Quota for bucket '"+e+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function TM(){const e="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new ot(rt.UNAUTHENTICATED,e)}function SM(){return new ot(rt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function bM(e){return new ot(rt.UNAUTHORIZED,"User does not have permission to access '"+e+"'.")}function RM(){return new ot(rt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function AM(){return new ot(rt.CANCELED,"User canceled the upload/download.")}function CM(e){return new ot(rt.INVALID_URL,"Invalid URL '"+e+"'.")}function PM(e){return new ot(rt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+e+"'.")}function xM(){return new ot(rt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+HS+"' property when initializing the app?")}function kM(){return new ot(rt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function DM(){return new ot(rt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function NM(e){return new ot(rt.UNSUPPORTED_ENVIRONMENT,`${e} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Eg(e){return new ot(rt.INVALID_ARGUMENT,e)}function qS(){return new ot(rt.APP_DELETED,"The Firebase app was deleted.")}function OM(e){return new ot(rt.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Ol(e,t){return new ot(rt.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function Xa(e){throw new ot(rt.INTERNAL_ERROR,"Internal error: "+e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(t,n){this.bucket=t,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,n){let r;try{r=In.makeFromUrl(t,n)}catch{return new In(t,"")}if(r.path==="")return r;throw PM(t)}static makeFromUrl(t,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function o(v){v.path.charAt(v.path.length-1)==="/"&&(v.path_=v.path_.slice(0,-1))}const s="(/(.*))?$",a=new RegExp("^gs://"+i+s,"i"),l={bucket:1,path:3};function u(v){v.path_=decodeURIComponent(v.path)}const c="v[A-Za-z0-9_]+",d=n.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",h=new RegExp(`^https?://${d}/${c}/b/${i}/o${f}`,"i"),p={bucket:1,path:3},y=n===WS?"(?:storage.googleapis.com|storage.cloud.google.com)":n,_="([^?#]*)",g=new RegExp(`^https?://${y}/${i}/${_}`,"i"),w=[{regex:a,indices:l,postModify:o},{regex:h,indices:p,postModify:u},{regex:g,indices:{bucket:1,path:2},postModify:u}];for(let v=0;v<w.length;v++){const I=w[v],b=I.regex.exec(t);if(b){const R=b[I.indices.bucket];let A=b[I.indices.path];A||(A=""),r=new In(R,A),I.postModify(r);break}}if(r==null)throw CM(t);return r}}class LM{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MM(e,t,n){let r=1,i=null,o=null,s=!1,a=0;function l(){return a===2}let u=!1;function c(..._){u||(u=!0,t.apply(null,_))}function d(_){i=setTimeout(()=>{i=null,e(h,l())},_)}function f(){o&&clearTimeout(o)}function h(_,...g){if(u){f();return}if(_){f(),c.call(null,_,...g);return}if(l()||s){f(),c.call(null,_,...g);return}r<64&&(r*=2);let w;a===1?(a=2,w=0):w=(r+Math.random())*1e3,d(w)}let p=!1;function y(_){p||(p=!0,f(),!u&&(i!==null?(_||(a=2),clearTimeout(i),d(0)):_||(a=1)))}return d(0),o=setTimeout(()=>{s=!0,y(!0)},n),y}function VM(e){e(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FM(e){return e!==void 0}function $M(e){return typeof e=="object"&&!Array.isArray(e)}function Iv(e){return typeof e=="string"||e instanceof String}function H0(e){return Tv()&&e instanceof Blob}function Tv(){return typeof Blob<"u"&&!FD()}function q0(e,t,n,r){if(r<t)throw Eg(`Invalid value for '${e}'. Expected ${t} or greater.`);if(r>n)throw Eg(`Invalid value for '${e}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sv(e,t,n){let r=t;return n==null&&(r=`https://${t}`),`${n}://${r}/v0${e}`}function GS(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){const i=t(r)+"="+t(e[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jo;(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"})(jo||(jo={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UM(e,t){const n=e>=500&&e<600,i=[408,429].indexOf(e)!==-1,o=t.indexOf(e)!==-1;return n||i||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BM{constructor(t,n,r,i,o,s,a,l,u,c,d,f=!0){this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=s,this.callback_=a,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=c,this.connectionFactory_=d,this.retry=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((h,p)=>{this.resolve_=h,this.reject_=p,this.start_()})}start_(){const t=(r,i)=>{if(i){r(!1,new Oc(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const s=a=>{const l=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&o.addUploadProgressListener(s),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(s),this.pendingConnection_=null;const a=o.getErrorCode()===jo.NO_ERROR,l=o.getStatus();if(!a||UM(l,this.additionalRetryCodes_)&&this.retry){const c=o.getErrorCode()===jo.ABORT;r(!1,new Oc(!1,null,c));return}const u=this.successCodes_.indexOf(l)!==-1;r(!0,new Oc(u,o))})},n=(r,i)=>{const o=this.resolve_,s=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());FM(l)?o(l):o()}catch(l){s(l)}else if(a!==null){const l=Ev();l.serverResponse=a.getErrorText(),this.errorCallback_?s(this.errorCallback_(a,l)):s(l)}else if(i.canceled){const l=this.appDelete_?qS():AM();s(l)}else{const l=RM();s(l)}};this.canceled_?n(!1,new Oc(!1,null,!0)):this.backoffId_=MM(t,n,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&VM(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Oc{constructor(t,n,r){this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}}function jM(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function zM(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function WM(e,t){t&&(e["X-Firebase-GMPID"]=t)}function HM(e,t){t!==null&&(e["X-Firebase-AppCheck"]=t)}function qM(e,t,n,r,i,o,s=!0){const a=GS(e.urlParams),l=e.url+a,u=Object.assign({},e.headers);return WM(u,t),jM(u,n),zM(u,o),HM(u,r),new BM(l,e.method,u,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GM(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function KM(...e){const t=GM();if(t!==void 0){const n=new t;for(let r=0;r<e.length;r++)n.append(e[r]);return n.getBlob()}else{if(Tv())return new Blob(e);throw new ot(rt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function QM(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YM(e){if(typeof atob>"u")throw NM("base-64");return atob(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Qp{constructor(t,n){this.data=t,this.contentType=n||null}}function XM(e,t){switch(e){case Sr.RAW:return new Qp(KS(t));case Sr.BASE64:case Sr.BASE64URL:return new Qp(QS(e,t));case Sr.DATA_URL:return new Qp(ZM(t),eV(t))}throw Ev()}function KS(e){const t=[];for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<e.length-1&&(e.charCodeAt(n+1)&64512)===56320))t.push(239,191,189);else{const o=r,s=e.charCodeAt(++n);r=65536|(o&1023)<<10|s&1023,t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(t)}function JM(e){let t;try{t=decodeURIComponent(e)}catch{throw Ol(Sr.DATA_URL,"Malformed data URL.")}return KS(t)}function QS(e,t){switch(e){case Sr.BASE64:{const i=t.indexOf("-")!==-1,o=t.indexOf("_")!==-1;if(i||o)throw Ol(e,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Sr.BASE64URL:{const i=t.indexOf("+")!==-1,o=t.indexOf("/")!==-1;if(i||o)throw Ol(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=YM(t)}catch(i){throw i.message.includes("polyfill")?i:Ol(e,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class YS{constructor(t){this.base64=!1,this.contentType=null;const n=t.match(/^data:([^,]+)?,/);if(n===null)throw Ol(Sr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=tV(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=t.substring(t.indexOf(",")+1)}}function ZM(e){const t=new YS(e);return t.base64?QS(Sr.BASE64,t.rest):JM(t.rest)}function eV(e){return new YS(e).contentType}function tV(e,t){return e.length>=t.length?e.substring(e.length-t.length)===t:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi{constructor(t,n){let r=0,i="";H0(t)?(this.data_=t,r=t.size,i=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(t,n){if(H0(this.data_)){const r=this.data_,i=QM(r,t,n);return i===null?null:new xi(i)}else{const r=new Uint8Array(this.data_.buffer,t,n-t);return new xi(r,!0)}}static getBlob(...t){if(Tv()){const n=t.map(r=>r instanceof xi?r.data_:r);return new xi(KM.apply(null,n))}else{const n=t.map(s=>Iv(s)?XM(Sr.RAW,s).data:s.data_);let r=0;n.forEach(s=>{r+=s.byteLength});const i=new Uint8Array(r);let o=0;return n.forEach(s=>{for(let a=0;a<s.length;a++)i[o++]=s[a]}),new xi(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XS(e){let t;try{t=JSON.parse(e)}catch{return null}return $M(t)?t:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nV(e){if(e.length===0)return null;const t=e.lastIndexOf("/");return t===-1?"":e.slice(0,t)}function rV(e,t){const n=t.split("/").filter(r=>r.length>0).join("/");return e.length===0?n:e+"/"+n}function JS(e){const t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iV(e,t){return t}class en{constructor(t,n,r,i){this.server=t,this.local=n||t,this.writable=!!r,this.xform=i||iV}}let Lc=null;function oV(e){return!Iv(e)||e.length<2?e:JS(e)}function ZS(){if(Lc)return Lc;const e=[];e.push(new en("bucket")),e.push(new en("generation")),e.push(new en("metageneration")),e.push(new en("name","fullPath",!0));function t(o,s){return oV(s)}const n=new en("name");n.xform=t,e.push(n);function r(o,s){return s!==void 0?Number(s):s}const i=new en("size");return i.xform=r,e.push(i),e.push(new en("timeCreated")),e.push(new en("updated")),e.push(new en("md5Hash",null,!0)),e.push(new en("cacheControl",null,!0)),e.push(new en("contentDisposition",null,!0)),e.push(new en("contentEncoding",null,!0)),e.push(new en("contentLanguage",null,!0)),e.push(new en("contentType",null,!0)),e.push(new en("metadata","customMetadata",!0)),Lc=e,Lc}function sV(e,t){function n(){const r=e.bucket,i=e.fullPath,o=new In(r,i);return t._makeStorageReference(o)}Object.defineProperty(e,"ref",{get:n})}function aV(e,t,n){const r={};r.type="file";const i=n.length;for(let o=0;o<i;o++){const s=n[o];r[s.local]=s.xform(r,t[s.server])}return sV(r,e),r}function eb(e,t,n){const r=XS(t);return r===null?null:aV(e,r,n)}function lV(e,t,n,r){const i=XS(t);if(i===null||!Iv(i.downloadTokens))return null;const o=i.downloadTokens;if(o.length===0)return null;const s=encodeURIComponent;return o.split(",").map(u=>{const c=e.bucket,d=e.fullPath,f="/b/"+s(c)+"/o/"+s(d),h=Sv(f,n,r),p=GS({alt:"media",token:u});return h+p})[0]}function uV(e,t){const n={},r=t.length;for(let i=0;i<r;i++){const o=t[i];o.writable&&(n[o.server]=e[o.local])}return JSON.stringify(n)}class tb{constructor(t,n,r,i){this.url=t,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nb(e){if(!e)throw Ev()}function cV(e,t){function n(r,i){const o=eb(e,i,t);return nb(o!==null),o}return n}function dV(e,t){function n(r,i){const o=eb(e,i,t);return nb(o!==null),lV(o,i,e.host,e._protocol)}return n}function rb(e){function t(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=SM():i=TM():n.getStatus()===402?i=IM(e.bucket):n.getStatus()===403?i=bM(e.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return t}function fV(e){const t=rb(e);function n(r,i){let o=t(r,i);return r.getStatus()===404&&(o=EM(e.path)),o.serverResponse=i.serverResponse,o}return n}function hV(e,t,n){const r=t.fullServerUrl(),i=Sv(r,e.host,e._protocol),o="GET",s=e.maxOperationRetryTime,a=new tb(i,o,dV(e,n),s);return a.errorHandler=fV(t),a}function pV(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}function mV(e,t,n){const r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=pV(null,t)),r}function gV(e,t,n,r,i){const o=t.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"};function a(){let w="";for(let v=0;v<2;v++)w=w+Math.random().toString().slice(2);return w}const l=a();s["Content-Type"]="multipart/related; boundary="+l;const u=mV(t,r,i),c=uV(u,n),d="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+c+`\r
--`+l+`\r
Content-Type: `+u.contentType+`\r
\r
`,f=`\r
--`+l+"--",h=xi.getBlob(d,r,f);if(h===null)throw kM();const p={name:u.fullPath},y=Sv(o,e.host,e._protocol),_="POST",g=e.maxUploadRetryTime,m=new tb(y,_,cV(e,n),g);return m.urlParams=p,m.headers=s,m.body=h.uploadData(),m.errorHandler=rb(t),m}class yV{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=jo.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=jo.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=jo.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,n,r,i){if(this.sent_)throw Xa("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,t,!0),i!==void 0)for(const o in i)i.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,i[o].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Xa("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Xa("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Xa("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Xa("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)}}class vV extends yV{initXhr(){this.xhr_.responseType="text"}}function ib(){return new vV}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{constructor(t,n){this._service=t,n instanceof In?this._location=n:this._location=In.makeFromUrl(n,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,n){return new Xo(t,n)}get root(){const t=new In(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return JS(this._location.path)}get storage(){return this._service}get parent(){const t=nV(this._location.path);if(t===null)return null;const n=new In(this._location.bucket,t);return new Xo(this._service,n)}_throwIfRoot(t){if(this._location.path==="")throw OM(t)}}function _V(e,t,n){e._throwIfRoot("uploadBytes");const r=gV(e.storage,e._location,ZS(),new xi(t,!0),n);return e.storage.makeRequestWithTokens(r,ib).then(i=>({metadata:i,ref:e}))}function wV(e){e._throwIfRoot("getDownloadURL");const t=hV(e.storage,e._location,ZS());return e.storage.makeRequestWithTokens(t,ib).then(n=>{if(n===null)throw DM();return n})}function EV(e,t){const n=rV(e._location.path,t),r=new In(e._location.bucket,n);return new Xo(e.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IV(e){return/^[A-Za-z]+:\/\//.test(e)}function TV(e,t){return new Xo(e,t)}function ob(e,t){if(e instanceof bv){const n=e;if(n._bucket==null)throw xM();const r=new Xo(n,n._bucket);return t!=null?ob(r,t):r}else return t!==void 0?EV(e,t):e}function SV(e,t){if(t&&IV(t)){if(e instanceof bv)return TV(e,t);throw Eg("To use ref(service, url), the first argument must be a Storage instance.")}else return ob(e,t)}function G0(e,t){const n=t==null?void 0:t[HS];return n==null?null:In.makeFromBucketSpec(n,e)}function bV(e,t,n,r={}){e.host=`${t}:${n}`,e._protocol="http";const{mockUserToken:i}=r;i&&(e._overrideAuthToken=typeof i=="string"?i:iS(i,e.app.options.projectId))}class bv{constructor(t,n,r,i,o){this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=WS,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=_M,this._maxUploadRetryTime=wM,this._requests=new Set,i!=null?this._bucket=In.makeFromBucketSpec(i,this._host):this._bucket=G0(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=In.makeFromBucketSpec(this._url,t):this._bucket=G0(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){q0("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){q0("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const n=await t.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new Xo(this,t)}_makeRequest(t,n,r,i,o=!0){if(this._deleted)return new LM(qS());{const s=qM(t,this._appId,r,i,n,this._firebaseVersion,o);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}async makeRequestWithTokens(t,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,n,r,i).getPromise()}}const K0="@firebase/storage",Q0="0.11.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sb="storage";function RV(e,t,n){return e=Qe(e),_V(e,t,n)}function AV(e){return e=Qe(e),wV(e)}function CV(e,t){return e=Qe(e),SV(e,t)}function PV(e=dv(),t){e=Qe(e);const r=eh(e,sb).getImmediate({identifier:t}),i=tS("storage");return i&&xV(r,...i),r}function xV(e,t,n,r={}){bV(e,t,n,r)}function kV(e,{instanceIdentifier:t}){const n=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),i=e.getProvider("app-check-internal");return new bv(n,r,i,t,cs)}function DV(){Go(new ro(sb,kV,"PUBLIC").setMultipleInstances(!0)),Cr(K0,Q0,""),Cr(K0,Q0,"esm2017")}DV();var NV=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},H,Rv=Rv||{},ce=NV||self;function ih(e){var t=typeof e;return t=t!="object"?t:e?Array.isArray(e)?"array":t:"null",t=="array"||t=="object"&&typeof e.length=="number"}function tc(e){var t=typeof e;return t=="object"&&e!=null||t=="function"}function OV(e){return Object.prototype.hasOwnProperty.call(e,Yp)&&e[Yp]||(e[Yp]=++LV)}var Yp="closure_uid_"+(1e9*Math.random()>>>0),LV=0;function MV(e,t,n){return e.call.apply(e.bind,arguments)}function VV(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),e.apply(t,i)}}return function(){return e.apply(t,arguments)}}function qt(e,t,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?qt=MV:qt=VV,qt.apply(null,arguments)}function Mc(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),e.apply(this,r)}}function At(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(r,i,o){for(var s=Array(arguments.length-2),a=2;a<arguments.length;a++)s[a-2]=arguments[a];return t.prototype[i].apply(r,s)}}function po(){this.s=this.s,this.o=this.o}var FV=0;po.prototype.s=!1;po.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),FV!=0)&&OV(this)};po.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const ab=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(typeof e=="string")return typeof t!="string"||t.length!=1?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function Av(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function Y0(e,t){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(ih(r)){const i=e.length||0,o=r.length||0;e.length=i+o;for(let s=0;s<o;s++)e[i+s]=r[s]}else e.push(r)}}function Gt(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}Gt.prototype.h=function(){this.defaultPrevented=!0};var $V=function(){if(!ce.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{ce.addEventListener("test",()=>{},t),ce.removeEventListener("test",()=>{},t)}catch{}return e}();function iu(e){return/^[\s\xa0]*$/.test(e)}function oh(){var e=ce.navigator;return e&&(e=e.userAgent)?e:""}function Ir(e){return oh().indexOf(e)!=-1}function Cv(e){return Cv[" "](e),e}Cv[" "]=function(){};function UV(e,t){var n=D2;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}var BV=Ir("Opera"),la=Ir("Trident")||Ir("MSIE"),lb=Ir("Edge"),Ig=lb||la,ub=Ir("Gecko")&&!(oh().toLowerCase().indexOf("webkit")!=-1&&!Ir("Edge"))&&!(Ir("Trident")||Ir("MSIE"))&&!Ir("Edge"),jV=oh().toLowerCase().indexOf("webkit")!=-1&&!Ir("Edge");function cb(){var e=ce.document;return e?e.documentMode:void 0}var Tg;e:{var Xp="",Jp=function(){var e=oh();if(ub)return/rv:([^\);]+)(\)|;)/.exec(e);if(lb)return/Edge\/([\d\.]+)/.exec(e);if(la)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e);if(jV)return/WebKit\/(\S+)/.exec(e);if(BV)return/(?:Version)[ \/]?(\S+)/.exec(e)}();if(Jp&&(Xp=Jp?Jp[1]:""),la){var Zp=cb();if(Zp!=null&&Zp>parseFloat(Xp)){Tg=String(Zp);break e}}Tg=Xp}var Sg;if(ce.document&&la){var X0=cb();Sg=X0||parseInt(Tg,10)||void 0}else Sg=void 0;var zV=Sg;function ou(e,t){if(Gt.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(ub){e:{try{Cv(t.nodeName);var i=!0;break e}catch{}i=!1}i||(t=null)}}else n=="mouseover"?t=e.fromElement:n=="mouseout"&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=e.clientX!==void 0?e.clientX:e.pageX,this.clientY=e.clientY!==void 0?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=typeof e.pointerType=="string"?e.pointerType:WV[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&ou.$.h.call(this)}}At(ou,Gt);var WV={2:"touch",3:"pen",4:"mouse"};ou.prototype.h=function(){ou.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var nc="closure_listenable_"+(1e6*Math.random()|0),HV=0;function qV(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++HV,this.fa=this.ia=!1}function sh(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function Pv(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function GV(e,t){for(const n in e)t.call(void 0,e[n],n,e)}function db(e){const t={};for(const n in e)t[n]=e[n];return t}const J0="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function fb(e,t){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)e[n]=r[n];for(let o=0;o<J0.length;o++)n=J0[o],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function ah(e){this.src=e,this.g={},this.h=0}ah.prototype.add=function(e,t,n,r,i){var o=e.toString();e=this.g[o],e||(e=this.g[o]=[],this.h++);var s=Rg(e,t,r,i);return-1<s?(t=e[s],n||(t.ia=!1)):(t=new qV(t,this.src,o,!!r,i),t.ia=n,e.push(t)),t};function bg(e,t){var n=t.type;if(n in e.g){var r=e.g[n],i=ab(r,t),o;(o=0<=i)&&Array.prototype.splice.call(r,i,1),o&&(sh(t),e.g[n].length==0&&(delete e.g[n],e.h--))}}function Rg(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.fa&&o.listener==t&&o.capture==!!n&&o.la==r)return i}return-1}var xv="closure_lm_"+(1e6*Math.random()|0),em={};function hb(e,t,n,r,i){if(r&&r.once)return mb(e,t,n,r,i);if(Array.isArray(t)){for(var o=0;o<t.length;o++)hb(e,t[o],n,r,i);return null}return n=Nv(n),e&&e[nc]?e.O(t,n,tc(r)?!!r.capture:!!r,i):pb(e,t,n,!1,r,i)}function pb(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var s=tc(i)?!!i.capture:!!i,a=Dv(e);if(a||(e[xv]=a=new ah(e)),n=a.add(t,n,r,s,o),n.proxy)return n;if(r=KV(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)$V||(i=s),i===void 0&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(yb(t.toString()),r);else if(e.addListener&&e.removeListener)e.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function KV(){function e(n){return t.call(e.src,e.listener,n)}const t=QV;return e}function mb(e,t,n,r,i){if(Array.isArray(t)){for(var o=0;o<t.length;o++)mb(e,t[o],n,r,i);return null}return n=Nv(n),e&&e[nc]?e.P(t,n,tc(r)?!!r.capture:!!r,i):pb(e,t,n,!0,r,i)}function gb(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)gb(e,t[o],n,r,i);else r=tc(r)?!!r.capture:!!r,n=Nv(n),e&&e[nc]?(e=e.i,t=String(t).toString(),t in e.g&&(o=e.g[t],n=Rg(o,n,r,i),-1<n&&(sh(o[n]),Array.prototype.splice.call(o,n,1),o.length==0&&(delete e.g[t],e.h--)))):e&&(e=Dv(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Rg(t,n,r,i)),(n=-1<e?t[e]:null)&&kv(n))}function kv(e){if(typeof e!="number"&&e&&!e.fa){var t=e.src;if(t&&t[nc])bg(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(yb(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Dv(t))?(bg(n,e),n.h==0&&(n.src=null,t[xv]=null)):sh(e)}}}function yb(e){return e in em?em[e]:em[e]="on"+e}function QV(e,t){if(e.fa)e=!0;else{t=new ou(t,this);var n=e.listener,r=e.la||e.src;e.ia&&kv(e),e=n.call(r,t)}return e}function Dv(e){return e=e[xv],e instanceof ah?e:null}var tm="__closure_events_fn_"+(1e9*Math.random()>>>0);function Nv(e){return typeof e=="function"?e:(e[tm]||(e[tm]=function(t){return e.handleEvent(t)}),e[tm])}function bt(){po.call(this),this.i=new ah(this),this.S=this,this.J=null}At(bt,po);bt.prototype[nc]=!0;bt.prototype.removeEventListener=function(e,t,n,r){gb(this,e,t,n,r)};function Lt(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,typeof t=="string")t=new Gt(t,e);else if(t instanceof Gt)t.target=t.target||e;else{var i=t;t=new Gt(r,e),fb(t,i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=t.g=n[o];i=Vc(s,r,!0,t)&&i}if(s=t.g=e,i=Vc(s,r,!0,t)&&i,i=Vc(s,r,!1,t)&&i,n)for(o=0;o<n.length;o++)s=t.g=n[o],i=Vc(s,r,!1,t)&&i}bt.prototype.N=function(){if(bt.$.N.call(this),this.i){var e=this.i,t;for(t in e.g){for(var n=e.g[t],r=0;r<n.length;r++)sh(n[r]);delete e.g[t],e.h--}}this.J=null};bt.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)};bt.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};function Vc(e,t,n,r){if(t=e.i.g[String(t)],!t)return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var s=t[o];if(s&&!s.fa&&s.capture==n){var a=s.listener,l=s.la||s.src;s.ia&&bg(e.i,s),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var Ov=ce.JSON.stringify;let YV=class{constructor(t,n){this.i=t,this.j=n,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}};function XV(){var e=Lv;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}let JV=class{constructor(){this.h=this.g=null}add(t,n){const r=vb.get();r.set(t,n),this.h?this.h.next=r:this.g=r,this.h=r}};var vb=new YV(()=>new ZV,e=>e.reset());let ZV=class{constructor(){this.next=this.g=this.h=null}set(t,n){this.h=t,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}};function e2(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function t2(e){ce.setTimeout(()=>{throw e},0)}let su,au=!1,Lv=new JV,_b=()=>{const e=ce.Promise.resolve(void 0);su=()=>{e.then(n2)}};var n2=()=>{for(var e;e=XV();){try{e.h.call(e.g)}catch(n){t2(n)}var t=vb;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}au=!1};function lh(e,t){bt.call(this),this.h=e||1,this.g=t||ce,this.j=qt(this.qb,this),this.l=Date.now()}At(lh,bt);H=lh.prototype;H.ga=!1;H.T=null;H.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Lt(this,"tick"),this.ga&&(Mv(this),this.start()))}};H.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Mv(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}H.N=function(){lh.$.N.call(this),Mv(this),delete this.g};function Vv(e,t,n){if(typeof e=="function")n&&(e=qt(e,n));else if(e&&typeof e.handleEvent=="function")e=qt(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(t)?-1:ce.setTimeout(e,t||0)}function wb(e){e.g=Vv(()=>{e.g=null,e.i&&(e.i=!1,wb(e))},e.j);const t=e.h;e.h=null,e.m.apply(null,t)}let r2=class extends po{constructor(t,n){super(),this.m=t,this.j=n,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:wb(this)}N(){super.N(),this.g&&(ce.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}};function lu(e){po.call(this),this.h=e,this.g={}}At(lu,po);var Z0=[];function Eb(e,t,n,r){Array.isArray(n)||(n&&(Z0[0]=n.toString()),n=Z0);for(var i=0;i<n.length;i++){var o=hb(t,n[i],r||e.handleEvent,!1,e.h||e);if(!o)break;e.g[o.key]=o}}function Ib(e){Pv(e.g,function(t,n){this.g.hasOwnProperty(n)&&kv(t)},e),e.g={}}lu.prototype.N=function(){lu.$.N.call(this),Ib(this)};lu.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function uh(){this.g=!0}uh.prototype.Ea=function(){this.g=!1};function i2(e,t,n,r,i,o){e.info(function(){if(e.g)if(o)for(var s="",a=o.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var d=c.split("_");s=2<=d.length&&d[1]=="type"?s+(c+"="+u+"&"):s+(c+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+`
`+n+`
`+s})}function o2(e,t,n,r,i,o,s){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+`
`+n+`
`+o+" "+s})}function ks(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+a2(e,n)+(r?" "+r:"")})}function s2(e,t){e.info(function(){return"TIMEOUT: "+t})}uh.prototype.info=function(){};function a2(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n){for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if(o!="noop"&&o!="stop"&&o!="close")for(var s=1;s<i.length;s++)i[s]=""}}}}return Ov(n)}catch{return t}}var fs={},eE=null;function ch(){return eE=eE||new bt}fs.Ta="serverreachability";function Tb(e){Gt.call(this,fs.Ta,e)}At(Tb,Gt);function uu(e){const t=ch();Lt(t,new Tb(t))}fs.STAT_EVENT="statevent";function Sb(e,t){Gt.call(this,fs.STAT_EVENT,e),this.stat=t}At(Sb,Gt);function an(e){const t=ch();Lt(t,new Sb(t,e))}fs.Ua="timingevent";function bb(e,t){Gt.call(this,fs.Ua,e),this.size=t}At(bb,Gt);function rc(e,t){if(typeof e!="function")throw Error("Fn must not be null and must be a function");return ce.setTimeout(function(){e()},t)}var dh={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Rb={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Fv(){}Fv.prototype.h=null;function tE(e){return e.h||(e.h=e.i())}function Ab(){}var ic={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function $v(){Gt.call(this,"d")}At($v,Gt);function Uv(){Gt.call(this,"c")}At(Uv,Gt);var Ag;function fh(){}At(fh,Fv);fh.prototype.g=function(){return new XMLHttpRequest};fh.prototype.i=function(){return{}};Ag=new fh;function oc(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new lu(this),this.P=l2,e=Ig?125:void 0,this.V=new lh(e),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Cb}function Cb(){this.i=null,this.g="",this.h=!1}var l2=45e3,Cg={},Gd={};H=oc.prototype;H.setTimeout=function(e){this.P=e};function Pg(e,t,n){e.L=1,e.v=ph(oi(t)),e.s=n,e.S=!0,Pb(e,null)}function Pb(e,t){e.G=Date.now(),sc(e),e.A=oi(e.v);var n=e.A,r=e.W;Array.isArray(r)||(r=[String(r)]),Vb(n.i,"t",r),e.C=0,n=e.l.J,e.h=new Cb,e.g=iR(e.l,n?t:null,!e.s),0<e.O&&(e.M=new r2(qt(e.Pa,e,e.g),e.O)),Eb(e.U,e.g,"readystatechange",e.nb),t=e.I?db(e.I):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.A,e.u,e.s,t)):(e.u="GET",e.g.ha(e.A,e.u,null,t)),uu(),i2(e.j,e.u,e.A,e.m,e.W,e.s)}H.nb=function(e){e=e.target;const t=this.M;t&&br(e)==3?t.l():this.Pa(e)};H.Pa=function(e){try{if(e==this.g)e:{const c=br(this.g);var t=this.g.Ia();const d=this.g.da();if(!(3>c)&&(c!=3||Ig||this.g&&(this.h.h||this.g.ja()||oE(this.g)))){this.J||c!=4||t==7||(t==8||0>=d?uu(3):uu(2)),hh(this);var n=this.g.da();this.ca=n;t:if(xb(this)){var r=oE(this.g);e="";var i=r.length,o=br(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Do(this),Ll(this);var s="";break t}this.h.i=new ce.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:o&&t==i-1});r.splice(0,i),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.ja();if(this.i=n==200,o2(this.j,this.u,this.A,this.m,this.W,c,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!iu(a)){var u=a;break t}}u=null}if(n=u)ks(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,xg(this,n);else{this.i=!1,this.o=3,an(12),Do(this),Ll(this);break e}}this.S?(kb(this,c,s),Ig&&this.i&&c==3&&(Eb(this.U,this.V,"tick",this.mb),this.V.start())):(ks(this.j,this.m,s,null),xg(this,s)),c==4&&Do(this),this.i&&!this.J&&(c==4?eR(this.l,this):(this.i=!1,sc(this)))}else P2(this.g),n==400&&0<s.indexOf("Unknown SID")?(this.o=3,an(12)):(this.o=0,an(13)),Do(this),Ll(this)}}}catch{}finally{}};function xb(e){return e.g?e.u=="GET"&&e.L!=2&&e.l.Ha:!1}function kb(e,t,n){let r=!0,i;for(;!e.J&&e.C<n.length;)if(i=u2(e,n),i==Gd){t==4&&(e.o=4,an(14),r=!1),ks(e.j,e.m,null,"[Incomplete Response]");break}else if(i==Cg){e.o=4,an(15),ks(e.j,e.m,n,"[Invalid Chunk]"),r=!1;break}else ks(e.j,e.m,i,null),xg(e,i);xb(e)&&i!=Gd&&i!=Cg&&(e.h.g="",e.C=0),t!=4||n.length!=0||e.h.h||(e.o=1,an(16),r=!1),e.i=e.i&&r,r?0<n.length&&!e.ba&&(e.ba=!0,t=e.l,t.g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),qv(t),t.M=!0,an(11))):(ks(e.j,e.m,n,"[Invalid Chunked Response]"),Do(e),Ll(e))}H.mb=function(){if(this.g){var e=br(this.g),t=this.g.ja();this.C<t.length&&(hh(this),kb(this,e,t),this.i&&e!=4&&sc(this))}};function u2(e,t){var n=e.C,r=t.indexOf(`
`,n);return r==-1?Gd:(n=Number(t.substring(n,r)),isNaN(n)?Cg:(r+=1,r+n>t.length?Gd:(t=t.slice(r,r+n),e.C=r+n,t)))}H.cancel=function(){this.J=!0,Do(this)};function sc(e){e.Y=Date.now()+e.P,Db(e,e.P)}function Db(e,t){if(e.B!=null)throw Error("WatchDog timer not null");e.B=rc(qt(e.lb,e),t)}function hh(e){e.B&&(ce.clearTimeout(e.B),e.B=null)}H.lb=function(){this.B=null;const e=Date.now();0<=e-this.Y?(s2(this.j,this.A),this.L!=2&&(uu(),an(17)),Do(this),this.o=2,Ll(this)):Db(this,this.Y-e)};function Ll(e){e.l.H==0||e.J||eR(e.l,e)}function Do(e){hh(e);var t=e.M;t&&typeof t.sa=="function"&&t.sa(),e.M=null,Mv(e.V),Ib(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function xg(e,t){try{var n=e.l;if(n.H!=0&&(n.g==e||kg(n.i,e))){if(!e.K&&kg(n.i,e)&&n.H==3){try{var r=n.Ja.g.parse(t)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<e.G)Yd(n),vh(n);else break e;Hv(n),an(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=rc(qt(n.ib,n),6e3));if(1>=Ub(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else No(n,11)}else if((e.K||n.g==e)&&Yd(n),!iu(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){let u=i[t];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.K=u[1],n.pa=u[2];const c=u[3];c!=null&&(n.ra=c,n.l.info("VER="+n.ra));const d=u[4];d!=null&&(n.Ga=d,n.l.info("SVER="+n.Ga));const f=u[5];f!=null&&typeof f=="number"&&0<f&&(r=1.5*f,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=e.g;if(h){const p=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var o=r.i;o.g||p.indexOf("spdy")==-1&&p.indexOf("quic")==-1&&p.indexOf("h2")==-1||(o.j=o.l,o.g=new Set,o.h&&(Bv(o,o.h),o.h=null))}if(r.F){const y=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;y&&(r.Da=y,Ue(r.I,r.F,y))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var s=e;if(r.wa=rR(r,r.J?r.pa:null,r.Y),s.K){Bb(r.i,s);var a=s,l=r.L;l&&a.setTimeout(l),a.B&&(hh(a),sc(a)),r.g=s}else Jb(r);0<n.j.length&&_h(n)}else u[0]!="stop"&&u[0]!="close"||No(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?No(n,7):Wv(n):u[0]!="noop"&&n.h&&n.h.Aa(u),n.A=0)}}uu(4)}catch{}}function c2(e){if(e.Z&&typeof e.Z=="function")return e.Z();if(typeof Map<"u"&&e instanceof Map||typeof Set<"u"&&e instanceof Set)return Array.from(e.values());if(typeof e=="string")return e.split("");if(ih(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}t=[],n=0;for(r in e)t[n++]=e[r];return t}function d2(e){if(e.ta&&typeof e.ta=="function")return e.ta();if(!e.Z||typeof e.Z!="function"){if(typeof Map<"u"&&e instanceof Map)return Array.from(e.keys());if(!(typeof Set<"u"&&e instanceof Set)){if(ih(e)||typeof e=="string"){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}function Nb(e,t){if(e.forEach&&typeof e.forEach=="function")e.forEach(t,void 0);else if(ih(e)||typeof e=="string")Array.prototype.forEach.call(e,t,void 0);else for(var n=d2(e),r=c2(e),i=r.length,o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}var Ob=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function f2(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function zo(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof zo){this.h=e.h,Kd(this,e.j),this.s=e.s,this.g=e.g,Qd(this,e.m),this.l=e.l;var t=e.i,n=new cu;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),nE(this,n),this.o=e.o}else e&&(t=String(e).match(Ob))?(this.h=!1,Kd(this,t[1]||"",!0),this.s=Il(t[2]||""),this.g=Il(t[3]||"",!0),Qd(this,t[4]),this.l=Il(t[5]||"",!0),nE(this,t[6]||"",!0),this.o=Il(t[7]||"")):(this.h=!1,this.i=new cu(null,this.h))}zo.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Tl(t,rE,!0),":");var n=this.g;return(n||t=="file")&&(e.push("//"),(t=this.s)&&e.push(Tl(t,rE,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&e.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&e.push("/"),e.push(Tl(n,n.charAt(0)=="/"?m2:p2,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Tl(n,y2)),e.join("")};function oi(e){return new zo(e)}function Kd(e,t,n){e.j=n?Il(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Qd(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function nE(e,t,n){t instanceof cu?(e.i=t,v2(e.i,e.h)):(n||(t=Tl(t,g2)),e.i=new cu(t,e.h))}function Ue(e,t,n){e.i.set(t,n)}function ph(e){return Ue(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Il(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Tl(e,t,n){return typeof e=="string"?(e=encodeURI(e).replace(t,h2),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function h2(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(e&15).toString(16)}var rE=/[#\/\?@]/g,p2=/[#\?:]/g,m2=/[#\?]/g,g2=/[#\?@]/g,y2=/#/g;function cu(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function mo(e){e.g||(e.g=new Map,e.h=0,e.i&&f2(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}H=cu.prototype;H.add=function(e,t){mo(this),this.i=null,e=Na(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this};function Lb(e,t){mo(e),t=Na(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Mb(e,t){return mo(e),t=Na(e,t),e.g.has(t)}H.forEach=function(e,t){mo(this),this.g.forEach(function(n,r){n.forEach(function(i){e.call(t,i,r,this)},this)},this)};H.ta=function(){mo(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let o=0;o<i.length;o++)n.push(t[r])}return n};H.Z=function(e){mo(this);let t=[];if(typeof e=="string")Mb(this,e)&&(t=t.concat(this.g.get(Na(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t};H.set=function(e,t){return mo(this),this.i=null,e=Na(this,e),Mb(this,e)&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this};H.get=function(e,t){return e?(e=this.Z(e),0<e.length?String(e[0]):t):t};function Vb(e,t,n){Lb(e,t),0<n.length&&(e.i=null,e.g.set(Na(e,t),Av(n)),e.h+=n.length)}H.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const o=encodeURIComponent(String(r)),s=this.Z(r);for(r=0;r<s.length;r++){var i=o;s[r]!==""&&(i+="="+encodeURIComponent(String(s[r]))),e.push(i)}}return this.i=e.join("&")};function Na(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function v2(e,t){t&&!e.j&&(mo(e),e.i=null,e.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(Lb(this,r),Vb(this,i,n))},e)),e.j=t}var _2=class{constructor(t,n){this.g=t,this.map=n}};function Fb(e){this.l=e||w2,ce.PerformanceNavigationTiming?(e=ce.performance.getEntriesByType("navigation"),e=0<e.length&&(e[0].nextHopProtocol=="hq"||e[0].nextHopProtocol=="h2")):e=!!(ce.g&&ce.g.Ka&&ce.g.Ka()&&ce.g.Ka().dc),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var w2=10;function $b(e){return e.h?!0:e.g?e.g.size>=e.j:!1}function Ub(e){return e.h?1:e.g?e.g.size:0}function kg(e,t){return e.h?e.h==t:e.g?e.g.has(t):!1}function Bv(e,t){e.g?e.g.add(t):e.h=t}function Bb(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}Fb.prototype.cancel=function(){if(this.i=jb(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const e of this.g.values())e.cancel();this.g.clear()}};function jb(e){if(e.h!=null)return e.i.concat(e.h.F);if(e.g!=null&&e.g.size!==0){let t=e.i;for(const n of e.g.values())t=t.concat(n.F);return t}return Av(e.i)}var E2=class{stringify(t){return ce.JSON.stringify(t,void 0)}parse(t){return ce.JSON.parse(t,void 0)}};function I2(){this.g=new E2}function T2(e,t,n){const r=n||"";try{Nb(e,function(i,o){let s=i;tc(i)&&(s=Ov(i)),t.push(r+o+"="+encodeURIComponent(s))})}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function S2(e,t){const n=new uh;if(ce.Image){const r=new Image;r.onload=Mc(Fc,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Mc(Fc,n,r,"TestLoadImage: error",!1,t),r.onabort=Mc(Fc,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Mc(Fc,n,r,"TestLoadImage: timeout",!1,t),ce.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}function Fc(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch{}}function mh(e){this.l=e.ec||null,this.j=e.ob||!1}At(mh,Fv);mh.prototype.g=function(){return new gh(this.l,this.j)};mh.prototype.i=function(e){return function(){return e}}({});function gh(e,t){bt.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=jv,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}At(gh,bt);var jv=0;H=gh.prototype;H.open=function(e,t){if(this.readyState!=jv)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,du(this)};H.send=function(e){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||ce).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))};H.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ac(this)),this.readyState=jv};H.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,du(this)),this.g&&(this.readyState=3,du(this),this.g)))if(this.responseType==="arraybuffer")e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof ce.ReadableStream<"u"&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;zb(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))};function zb(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}H.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?ac(this):du(this),this.readyState==3&&zb(this)}};H.Za=function(e){this.g&&(this.response=this.responseText=e,ac(this))};H.Ya=function(e){this.g&&(this.response=e,ac(this))};H.ka=function(){this.g&&ac(this)};function ac(e){e.readyState=4,e.l=null,e.j=null,e.A=null,du(e)}H.setRequestHeader=function(e,t){this.v.append(e,t)};H.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""};H.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join(`\r
`)};function du(e){e.onreadystatechange&&e.onreadystatechange.call(e)}Object.defineProperty(gh.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(e){this.m=e?"include":"same-origin"}});var b2=ce.JSON.parse;function it(e){bt.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Wb,this.L=this.M=!1}At(it,bt);var Wb="",R2=/^https?$/i,A2=["POST","PUT"];H=it.prototype;H.Oa=function(e){this.M=e};H.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Ag.g(),this.C=this.u?tE(this.u):tE(Ag),this.g.onreadystatechange=qt(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(o){iE(this,o);return}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const o of r.keys())n.set(o,r.get(o));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(o=>o.toLowerCase()=="content-type"),i=ce.FormData&&e instanceof ce.FormData,!(0<=ab(A2,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,s]of n)this.g.setRequestHeader(o,s);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Gb(this),0<this.B&&((this.L=C2(this.g))?(this.g.timeout=this.B,this.g.ontimeout=qt(this.ua,this)):this.A=Vv(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(o){iE(this,o)}};function C2(e){return la&&typeof e.timeout=="number"&&e.ontimeout!==void 0}H.ua=function(){typeof Rv<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Lt(this,"timeout"),this.abort(8))};function iE(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Hb(e),yh(e)}function Hb(e){e.F||(e.F=!0,Lt(e,"complete"),Lt(e,"error"))}H.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Lt(this,"complete"),Lt(this,"abort"),yh(this))};H.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),yh(this,!0)),it.$.N.call(this)};H.La=function(){this.s||(this.G||this.v||this.l?qb(this):this.kb())};H.kb=function(){qb(this)};function qb(e){if(e.h&&typeof Rv<"u"&&(!e.C[1]||br(e)!=4||e.da()!=2)){if(e.v&&br(e)==4)Vv(e.La,0,e);else if(Lt(e,"readystatechange"),br(e)==4){e.h=!1;try{const s=e.da();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=s===0){var i=String(e.I).match(Ob)[1]||null;!i&&ce.self&&ce.self.location&&(i=ce.self.location.protocol.slice(0,-1)),r=!R2.test(i?i.toLowerCase():"")}n=r}if(n)Lt(e,"complete"),Lt(e,"success");else{e.m=6;try{var o=2<br(e)?e.g.statusText:""}catch{o=""}e.j=o+" ["+e.da()+"]",Hb(e)}}finally{yh(e)}}}}function yh(e,t){if(e.g){Gb(e);const n=e.g,r=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||Lt(e,"ready");try{n.onreadystatechange=r}catch{}}}function Gb(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(ce.clearTimeout(e.A),e.A=null)}H.isActive=function(){return!!this.g};function br(e){return e.g?e.g.readyState:0}H.da=function(){try{return 2<br(this)?this.g.status:-1}catch{return-1}};H.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};H.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&t.indexOf(e)==0&&(t=t.substring(e.length)),b2(t)}};function oE(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case Wb:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch{return null}}function P2(e){const t={};e=(e.g&&2<=br(e)&&e.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<e.length;r++){if(iu(e[r]))continue;var n=e2(e[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const o=t[i]||[];t[i]=o,o.push(n)}GV(t,function(r){return r.join(", ")})}H.Ia=function(){return this.m};H.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function Kb(e){let t="";return Pv(e,function(n,r){t+=r,t+=":",t+=n,t+=`\r
`}),t}function zv(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Kb(n),typeof e=="string"?n!=null&&encodeURIComponent(String(n)):Ue(e,t,n))}function Ja(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Qb(e){this.Ga=0,this.j=[],this.l=new uh,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Ja("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Ja("baseRetryDelayMs",5e3,e),this.hb=Ja("retryDelaySeedMs",1e4,e),this.eb=Ja("forwardChannelMaxRetries",2,e),this.xa=Ja("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new Fb(e&&e.concurrentRequestLimit),this.Ja=new I2,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}H=Qb.prototype;H.ra=8;H.H=1;function Wv(e){if(Yb(e),e.H==3){var t=e.W++,n=oi(e.I);if(Ue(n,"SID",e.K),Ue(n,"RID",t),Ue(n,"TYPE","terminate"),lc(e,n),t=new oc(e,e.l,t),t.L=2,t.v=ph(oi(n)),n=!1,ce.navigator&&ce.navigator.sendBeacon)try{n=ce.navigator.sendBeacon(t.v.toString(),"")}catch{}!n&&ce.Image&&(new Image().src=t.v,n=!0),n||(t.g=iR(t.l,null),t.g.ha(t.v)),t.G=Date.now(),sc(t)}nR(e)}function vh(e){e.g&&(qv(e),e.g.cancel(),e.g=null)}function Yb(e){vh(e),e.u&&(ce.clearTimeout(e.u),e.u=null),Yd(e),e.i.cancel(),e.m&&(typeof e.m=="number"&&ce.clearTimeout(e.m),e.m=null)}function _h(e){if(!$b(e.i)&&!e.m){e.m=!0;var t=e.Na;su||_b(),au||(su(),au=!0),Lv.add(t,e),e.C=0}}function x2(e,t){return Ub(e.i)>=e.i.j-(e.m?1:0)?!1:e.m?(e.j=t.F.concat(e.j),!0):e.H==1||e.H==2||e.C>=(e.cb?0:e.eb)?!1:(e.m=rc(qt(e.Na,e,t),tR(e,e.C)),e.C++,!0)}H.Na=function(e){if(this.m)if(this.m=null,this.H==1){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const i=new oc(this,this.l,e);let o=this.s;if(this.U&&(o?(o=db(o),fb(o,this.U)):o=this.U),this.o!==null||this.O||(i.I=o,o=null),this.P)e:{for(var t=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(t+=r,4096<t){t=n;break e}if(t===4096||n===this.j.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=Xb(this,i,t),n=oi(this.I),Ue(n,"RID",e),Ue(n,"CVER",22),this.F&&Ue(n,"X-HTTP-Session-Id",this.F),lc(this,n),o&&(this.O?t="headers="+encodeURIComponent(String(Kb(o)))+"&"+t:this.o&&zv(n,this.o,o)),Bv(this.i,i),this.bb&&Ue(n,"TYPE","init"),this.P?(Ue(n,"$req",t),Ue(n,"SID","null"),i.aa=!0,Pg(i,n,null)):Pg(i,n,t),this.H=2}}else this.H==3&&(e?sE(this,e):this.j.length==0||$b(this.i)||sE(this))};function sE(e,t){var n;t?n=t.m:n=e.W++;const r=oi(e.I);Ue(r,"SID",e.K),Ue(r,"RID",n),Ue(r,"AID",e.V),lc(e,r),e.o&&e.s&&zv(r,e.o,e.s),n=new oc(e,e.l,n,e.C+1),e.o===null&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=Xb(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),Bv(e.i,n),Pg(n,r,t)}function lc(e,t){e.na&&Pv(e.na,function(n,r){Ue(t,r,n)}),e.h&&Nb({},function(n,r){Ue(t,r,n)})}function Xb(e,t,n){n=Math.min(e.j.length,n);var r=e.h?qt(e.h.Va,e.h,e):null;e:{var i=e.j;let o=-1;for(;;){const s=["count="+n];o==-1?0<n?(o=i[0].g,s.push("ofs="+o)):o=0:s.push("ofs="+o);let a=!0;for(let l=0;l<n;l++){let u=i[l].g;const c=i[l].map;if(u-=o,0>u)o=Math.max(0,i[l].g-100),a=!1;else try{T2(c,s,"req"+u+"_")}catch{r&&r(c)}}if(a){r=s.join("&");break e}}}return e=e.j.splice(0,n),t.F=e,r}function Jb(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;su||_b(),au||(su(),au=!0),Lv.add(t,e),e.A=0}}function Hv(e){return e.g||e.u||3<=e.A?!1:(e.ba++,e.u=rc(qt(e.Ma,e),tR(e,e.A)),e.A++,!0)}H.Ma=function(){if(this.u=null,Zb(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=rc(qt(this.jb,this),e)}};H.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,an(10),vh(this),Zb(this))};function qv(e){e.B!=null&&(ce.clearTimeout(e.B),e.B=null)}function Zb(e){e.g=new oc(e,e.l,"rpc",e.ba),e.o===null&&(e.g.I=e.s),e.g.O=0;var t=oi(e.wa);Ue(t,"RID","rpc"),Ue(t,"SID",e.K),Ue(t,"AID",e.V),Ue(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&Ue(t,"TO",e.qa),Ue(t,"TYPE","xmlhttp"),lc(e,t),e.o&&e.s&&zv(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.v=ph(oi(t)),n.s=null,n.S=!0,Pb(n,e)}H.ib=function(){this.v!=null&&(this.v=null,vh(this),Hv(this),an(19))};function Yd(e){e.v!=null&&(ce.clearTimeout(e.v),e.v=null)}function eR(e,t){var n=null;if(e.g==t){Yd(e),qv(e),e.g=null;var r=2}else if(kg(e.i,t))n=t.F,Bb(e.i,t),r=1;else return;if(e.H!=0){if(t.i)if(r==1){n=t.s?t.s.length:0,t=Date.now()-t.G;var i=e.C;r=ch(),Lt(r,new bb(r,n)),_h(e)}else Jb(e);else if(i=t.o,i==3||i==0&&0<t.ca||!(r==1&&x2(e,t)||r==2&&Hv(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:No(e,5);break;case 4:No(e,10);break;case 3:No(e,6);break;default:No(e,2)}}}function tR(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function No(e,t){if(e.l.info("Error code "+t),t==2){var n=null;e.h&&(n=null);var r=qt(e.pb,e);n||(n=new zo("//www.google.com/images/cleardot.gif"),ce.location&&ce.location.protocol=="http"||Kd(n,"https"),ph(n)),S2(n.toString(),r)}else an(2);e.H=0,e.h&&e.h.za(t),nR(e),Yb(e)}H.pb=function(e){e?(this.l.info("Successfully pinged google.com"),an(2)):(this.l.info("Failed to ping google.com"),an(1))};function nR(e){if(e.H=0,e.ma=[],e.h){const t=jb(e.i);(t.length!=0||e.j.length!=0)&&(Y0(e.ma,t),Y0(e.ma,e.j),e.i.i.length=0,Av(e.j),e.j.length=0),e.h.ya()}}function rR(e,t,n){var r=n instanceof zo?oi(n):new zo(n);if(r.g!="")t&&(r.g=t+"."+r.g),Qd(r,r.m);else{var i=ce.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var o=new zo(null);r&&Kd(o,r),t&&(o.g=t),i&&Qd(o,i),n&&(o.l=n),r=o}return n=e.F,t=e.Da,n&&t&&Ue(r,n,t),Ue(r,"VER",e.ra),lc(e,r),r}function iR(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return t=n&&e.Ha&&!e.va?new it(new mh({ob:!0})):new it(e.va),t.Oa(e.J),t}H.isActive=function(){return!!this.h&&this.h.isActive(this)};function oR(){}H=oR.prototype;H.Ba=function(){};H.Aa=function(){};H.za=function(){};H.ya=function(){};H.isActive=function(){return!0};H.Va=function(){};function Xd(){if(la&&!(10<=Number(zV)))throw Error("Environmental error: no available transport.")}Xd.prototype.g=function(e,t){return new Pn(e,t)};function Pn(e,t){bt.call(this),this.g=new Qb(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!iu(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!iu(t)&&(this.g.F=t,e=this.h,e!==null&&t in e&&(e=this.h,t in e&&delete e[t])),this.j=new Oa(this)}At(Pn,bt);Pn.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;an(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=rR(e,null,e.Y),_h(e)};Pn.prototype.close=function(){Wv(this.g)};Pn.prototype.u=function(e){var t=this.g;if(typeof e=="string"){var n={};n.__data__=e,e=n}else this.v&&(n={},n.__data__=Ov(e),e=n);t.j.push(new _2(t.fb++,e)),t.H==3&&_h(t)};Pn.prototype.N=function(){this.g.h=null,delete this.j,Wv(this.g),delete this.g,Pn.$.N.call(this)};function sR(e){$v.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=t!==null&&e in t?t[e]:void 0),this.data=t}else this.data=e}At(sR,$v);function aR(){Uv.call(this),this.status=1}At(aR,Uv);function Oa(e){this.g=e}At(Oa,oR);Oa.prototype.Ba=function(){Lt(this.g,"a")};Oa.prototype.Aa=function(e){Lt(this.g,new sR(e))};Oa.prototype.za=function(e){Lt(this.g,new aR)};Oa.prototype.ya=function(){Lt(this.g,"b")};function k2(){this.blockSize=-1}function pr(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}At(pr,k2);pr.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function nm(e,t,n){n||(n=0);var r=Array(16);if(typeof t=="string")for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var o=e.g[3],s=t+(o^n&(i^o))+r[0]+3614090360&4294967295;t=n+(s<<7&4294967295|s>>>25),s=o+(i^t&(n^i))+r[1]+3905402710&4294967295,o=t+(s<<12&4294967295|s>>>20),s=i+(n^o&(t^n))+r[2]+606105819&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(t^i&(o^t))+r[3]+3250441966&4294967295,n=i+(s<<22&4294967295|s>>>10),s=t+(o^n&(i^o))+r[4]+4118548399&4294967295,t=n+(s<<7&4294967295|s>>>25),s=o+(i^t&(n^i))+r[5]+1200080426&4294967295,o=t+(s<<12&4294967295|s>>>20),s=i+(n^o&(t^n))+r[6]+2821735955&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(t^i&(o^t))+r[7]+4249261313&4294967295,n=i+(s<<22&4294967295|s>>>10),s=t+(o^n&(i^o))+r[8]+1770035416&4294967295,t=n+(s<<7&4294967295|s>>>25),s=o+(i^t&(n^i))+r[9]+2336552879&4294967295,o=t+(s<<12&4294967295|s>>>20),s=i+(n^o&(t^n))+r[10]+4294925233&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(t^i&(o^t))+r[11]+2304563134&4294967295,n=i+(s<<22&4294967295|s>>>10),s=t+(o^n&(i^o))+r[12]+1804603682&4294967295,t=n+(s<<7&4294967295|s>>>25),s=o+(i^t&(n^i))+r[13]+4254626195&4294967295,o=t+(s<<12&4294967295|s>>>20),s=i+(n^o&(t^n))+r[14]+2792965006&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(t^i&(o^t))+r[15]+1236535329&4294967295,n=i+(s<<22&4294967295|s>>>10),s=t+(i^o&(n^i))+r[1]+4129170786&4294967295,t=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(t^n))+r[6]+3225465664&4294967295,o=t+(s<<9&4294967295|s>>>23),s=i+(t^n&(o^t))+r[11]+643717713&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^t&(i^o))+r[0]+3921069994&4294967295,n=i+(s<<20&4294967295|s>>>12),s=t+(i^o&(n^i))+r[5]+3593408605&4294967295,t=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(t^n))+r[10]+38016083&4294967295,o=t+(s<<9&4294967295|s>>>23),s=i+(t^n&(o^t))+r[15]+3634488961&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^t&(i^o))+r[4]+3889429448&4294967295,n=i+(s<<20&4294967295|s>>>12),s=t+(i^o&(n^i))+r[9]+568446438&4294967295,t=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(t^n))+r[14]+3275163606&4294967295,o=t+(s<<9&4294967295|s>>>23),s=i+(t^n&(o^t))+r[3]+4107603335&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^t&(i^o))+r[8]+1163531501&4294967295,n=i+(s<<20&4294967295|s>>>12),s=t+(i^o&(n^i))+r[13]+2850285829&4294967295,t=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(t^n))+r[2]+4243563512&4294967295,o=t+(s<<9&4294967295|s>>>23),s=i+(t^n&(o^t))+r[7]+1735328473&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^t&(i^o))+r[12]+2368359562&4294967295,n=i+(s<<20&4294967295|s>>>12),s=t+(n^i^o)+r[5]+4294588738&4294967295,t=n+(s<<4&4294967295|s>>>28),s=o+(t^n^i)+r[8]+2272392833&4294967295,o=t+(s<<11&4294967295|s>>>21),s=i+(o^t^n)+r[11]+1839030562&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^t)+r[14]+4259657740&4294967295,n=i+(s<<23&4294967295|s>>>9),s=t+(n^i^o)+r[1]+2763975236&4294967295,t=n+(s<<4&4294967295|s>>>28),s=o+(t^n^i)+r[4]+1272893353&4294967295,o=t+(s<<11&4294967295|s>>>21),s=i+(o^t^n)+r[7]+4139469664&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^t)+r[10]+3200236656&4294967295,n=i+(s<<23&4294967295|s>>>9),s=t+(n^i^o)+r[13]+681279174&4294967295,t=n+(s<<4&4294967295|s>>>28),s=o+(t^n^i)+r[0]+3936430074&4294967295,o=t+(s<<11&4294967295|s>>>21),s=i+(o^t^n)+r[3]+3572445317&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^t)+r[6]+76029189&4294967295,n=i+(s<<23&4294967295|s>>>9),s=t+(n^i^o)+r[9]+3654602809&4294967295,t=n+(s<<4&4294967295|s>>>28),s=o+(t^n^i)+r[12]+3873151461&4294967295,o=t+(s<<11&4294967295|s>>>21),s=i+(o^t^n)+r[15]+530742520&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^t)+r[2]+3299628645&4294967295,n=i+(s<<23&4294967295|s>>>9),s=t+(i^(n|~o))+r[0]+4096336452&4294967295,t=n+(s<<6&4294967295|s>>>26),s=o+(n^(t|~i))+r[7]+1126891415&4294967295,o=t+(s<<10&4294967295|s>>>22),s=i+(t^(o|~n))+r[14]+2878612391&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~t))+r[5]+4237533241&4294967295,n=i+(s<<21&4294967295|s>>>11),s=t+(i^(n|~o))+r[12]+1700485571&4294967295,t=n+(s<<6&4294967295|s>>>26),s=o+(n^(t|~i))+r[3]+2399980690&4294967295,o=t+(s<<10&4294967295|s>>>22),s=i+(t^(o|~n))+r[10]+4293915773&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~t))+r[1]+2240044497&4294967295,n=i+(s<<21&4294967295|s>>>11),s=t+(i^(n|~o))+r[8]+1873313359&4294967295,t=n+(s<<6&4294967295|s>>>26),s=o+(n^(t|~i))+r[15]+4264355552&4294967295,o=t+(s<<10&4294967295|s>>>22),s=i+(t^(o|~n))+r[6]+2734768916&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~t))+r[13]+1309151649&4294967295,n=i+(s<<21&4294967295|s>>>11),s=t+(i^(n|~o))+r[4]+4149444226&4294967295,t=n+(s<<6&4294967295|s>>>26),s=o+(n^(t|~i))+r[11]+3174756917&4294967295,o=t+(s<<10&4294967295|s>>>22),s=i+(t^(o|~n))+r[2]+718787259&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+o&4294967295}pr.prototype.j=function(e,t){t===void 0&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,o=0;o<t;){if(i==0)for(;o<=n;)nm(this,e,o),o+=this.blockSize;if(typeof e=="string"){for(;o<t;)if(r[i++]=e.charCodeAt(o++),i==this.blockSize){nm(this,r),i=0;break}}else for(;o<t;)if(r[i++]=e[o++],i==this.blockSize){nm(this,r),i=0;break}}this.h=i,this.i+=t};pr.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=n&255,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};function ke(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var o=e[i]|0;r&&o==t||(n[i]=o,r=!1)}this.g=n}var D2={};function Gv(e){return-128<=e&&128>e?UV(e,function(t){return new ke([t|0],0>t?-1:0)}):new ke([e|0],0>e?-1:0)}function Rr(e){if(isNaN(e)||!isFinite(e))return Qs;if(0>e)return Nt(Rr(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=Dg;return new ke(t,0)}function lR(e,t){if(e.length==0)throw Error("number format error: empty string");if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(e.charAt(0)=="-")return Nt(lR(e.substring(1),t));if(0<=e.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Rr(Math.pow(t,8)),r=Qs,i=0;i<e.length;i+=8){var o=Math.min(8,e.length-i),s=parseInt(e.substring(i,i+o),t);8>o?(o=Rr(Math.pow(t,o)),r=r.R(o).add(Rr(s))):(r=r.R(n),r=r.add(Rr(s)))}return r}var Dg=4294967296,Qs=Gv(0),Ng=Gv(1),aE=Gv(16777216);H=ke.prototype;H.ea=function(){if(zn(this))return-Nt(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:Dg+r)*t,t*=Dg}return e};H.toString=function(e){if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(Xr(this))return"0";if(zn(this))return"-"+Nt(this).toString(e);for(var t=Rr(Math.pow(e,6)),n=this,r="";;){var i=Zd(n,t).g;n=Jd(n,i.R(t));var o=((0<n.g.length?n.g[0]:n.h)>>>0).toString(e);if(n=i,Xr(n))return o+r;for(;6>o.length;)o="0"+o;r=o+r}};H.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h};function Xr(e){if(e.h!=0)return!1;for(var t=0;t<e.g.length;t++)if(e.g[t]!=0)return!1;return!0}function zn(e){return e.h==-1}H.X=function(e){return e=Jd(this,e),zn(e)?-1:Xr(e)?0:1};function Nt(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new ke(n,~e.h).add(Ng)}H.abs=function(){return zn(this)?Nt(this):this};H.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var o=r+(this.D(i)&65535)+(e.D(i)&65535),s=(o>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=s>>>16,o&=65535,s&=65535,n[i]=s<<16|o}return new ke(n,n[n.length-1]&-2147483648?-1:0)};function Jd(e,t){return e.add(Nt(t))}H.R=function(e){if(Xr(this)||Xr(e))return Qs;if(zn(this))return zn(e)?Nt(this).R(Nt(e)):Nt(Nt(this).R(e));if(zn(e))return Nt(this.R(Nt(e)));if(0>this.X(aE)&&0>e.X(aE))return Rr(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var o=this.D(r)>>>16,s=this.D(r)&65535,a=e.D(i)>>>16,l=e.D(i)&65535;n[2*r+2*i]+=s*l,$c(n,2*r+2*i),n[2*r+2*i+1]+=o*l,$c(n,2*r+2*i+1),n[2*r+2*i+1]+=s*a,$c(n,2*r+2*i+1),n[2*r+2*i+2]+=o*a,$c(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new ke(n,0)};function $c(e,t){for(;(e[t]&65535)!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function Za(e,t){this.g=e,this.h=t}function Zd(e,t){if(Xr(t))throw Error("division by zero");if(Xr(e))return new Za(Qs,Qs);if(zn(e))return t=Zd(Nt(e),t),new Za(Nt(t.g),Nt(t.h));if(zn(t))return t=Zd(e,Nt(t)),new Za(Nt(t.g),t.h);if(30<e.g.length){if(zn(e)||zn(t))throw Error("slowDivide_ only works with positive integers.");for(var n=Ng,r=t;0>=r.X(e);)n=lE(n),r=lE(r);var i=Is(n,1),o=Is(r,1);for(r=Is(r,2),n=Is(n,2);!Xr(r);){var s=o.add(r);0>=s.X(e)&&(i=i.add(n),o=s),r=Is(r,1),n=Is(n,1)}return t=Jd(e,i.R(t)),new Za(i,t)}for(i=Qs;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),o=Rr(n),s=o.R(t);zn(s)||0<s.X(e);)n-=r,o=Rr(n),s=o.R(t);Xr(o)&&(o=Ng),i=i.add(o),e=Jd(e,s)}return new Za(i,e)}H.gb=function(e){return Zd(this,e).h};H.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new ke(n,this.h&e.h)};H.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new ke(n,this.h|e.h)};H.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new ke(n,this.h^e.h)};function lE(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new ke(n,e.h)}function Is(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],o=0;o<r;o++)i[o]=0<t?e.D(o+n)>>>t|e.D(o+n+1)<<32-t:e.D(o+n);return new ke(i,e.h)}Xd.prototype.createWebChannel=Xd.prototype.g;Pn.prototype.send=Pn.prototype.u;Pn.prototype.open=Pn.prototype.m;Pn.prototype.close=Pn.prototype.close;dh.NO_ERROR=0;dh.TIMEOUT=8;dh.HTTP_ERROR=6;Rb.COMPLETE="complete";Ab.EventType=ic;ic.OPEN="a";ic.CLOSE="b";ic.ERROR="c";ic.MESSAGE="d";bt.prototype.listen=bt.prototype.O;it.prototype.listenOnce=it.prototype.P;it.prototype.getLastError=it.prototype.Sa;it.prototype.getLastErrorCode=it.prototype.Ia;it.prototype.getStatus=it.prototype.da;it.prototype.getResponseJson=it.prototype.Wa;it.prototype.getResponseText=it.prototype.ja;it.prototype.send=it.prototype.ha;it.prototype.setWithCredentials=it.prototype.Oa;pr.prototype.digest=pr.prototype.l;pr.prototype.reset=pr.prototype.reset;pr.prototype.update=pr.prototype.j;ke.prototype.add=ke.prototype.add;ke.prototype.multiply=ke.prototype.R;ke.prototype.modulo=ke.prototype.gb;ke.prototype.compare=ke.prototype.X;ke.prototype.toNumber=ke.prototype.ea;ke.prototype.toString=ke.prototype.toString;ke.prototype.getBits=ke.prototype.D;ke.fromNumber=Rr;ke.fromString=lR;var N2=function(){return new Xd},O2=function(){return ch()},rm=dh,L2=Rb,M2=fs,uE={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Uc=Ab,V2=it,F2=pr,Ys=ke;const cE="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}jt.UNAUTHENTICATED=new jt(null),jt.GOOGLE_CREDENTIALS=new jt("google-credentials-uid"),jt.FIRST_PARTY=new jt("first-party-uid"),jt.MOCK_USER=new jt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let La="10.4.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jo=new uv("@firebase/firestore");function el(){return Jo.logLevel}function Z(e,...t){if(Jo.logLevel<=Ie.DEBUG){const n=t.map(Kv);Jo.debug(`Firestore (${La}): ${e}`,...n)}}function si(e,...t){if(Jo.logLevel<=Ie.ERROR){const n=t.map(Kv);Jo.error(`Firestore (${La}): ${e}`,...n)}}function ua(e,...t){if(Jo.logLevel<=Ie.WARN){const n=t.map(Kv);Jo.warn(`Firestore (${La}): ${e}`,...n)}}function Kv(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function le(e="Unexpected state"){const t=`FIRESTORE (${La}) INTERNAL ASSERTION FAILED: `+e;throw si(t),new Error(t)}function We(e,t){e||le()}function ge(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class G extends $r{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uR{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class $2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(jt.UNAUTHENTICATED))}shutdown(){}}class U2{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class B2{constructor(t){this.t=t,this.currentUser=jt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let o=new ei;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new ei,t.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const l=o;t.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{Z("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(Z("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new ei)}},0),s()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==t?(Z("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(We(typeof r.accessToken=="string"),new uR(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return We(t===null||typeof t=="string"),new jt(t)}}class j2{constructor(t,n,r){this.l=t,this.h=n,this.P=r,this.type="FirstParty",this.user=jt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class z2{constructor(t,n,r){this.l=t,this.h=n,this.P=r}getToken(){return Promise.resolve(new j2(this.l,this.h,this.P))}start(t,n){t.enqueueRetryable(()=>n(jt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class W2{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class H2{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,n){const r=o=>{o.error!=null&&Z("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,Z("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{t.enqueueRetryable(()=>r(o))};const i=o=>{Z("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):Z("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(We(typeof n.token=="string"),this.R=n.token,new W2(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q2(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cR{static V(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length;let r="";for(;r.length<20;){const i=q2(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=t.charAt(i[o]%t.length))}return r}}function Ce(e,t){return e<t?-1:e>t?1:0}function ca(e,t,n){return e.length===t.length&&e.every((r,i)=>n(r,t[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new G(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new G(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new G(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new G(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return vt.fromMillis(Date.now())}static fromDate(t){return vt.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),r=Math.floor(1e6*(t-1e3*n));return new vt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?Ce(this.nanoseconds,t.nanoseconds):Ce(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{constructor(t){this.timestamp=t}static fromTimestamp(t){return new fe(t)}static min(){return new fe(new vt(0,0))}static max(){return new fe(new vt(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu{constructor(t,n,r){n===void 0?n=0:n>t.length&&le(),r===void 0?r=t.length-n:r>t.length-n&&le(),this.segments=t,this.offset=n,this.len=r}get length(){return this.len}isEqual(t){return fu.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof fu?t.forEach(r=>{n.push(r)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const r=Math.min(t.length,n.length);for(let i=0;i<r;i++){const o=t.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return t.length<n.length?-1:t.length>n.length?1:0}}class Be extends fu{construct(t,n,r){return new Be(t,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const n=[];for(const r of t){if(r.indexOf("//")>=0)throw new G(N.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Be(n)}static emptyPath(){return new Be([])}}const G2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ht extends fu{construct(t,n,r){return new Ht(t,n,r)}static isValidIdentifier(t){return G2.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ht.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Ht(["__name__"])}static fromServerFormat(t){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new G(N.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<t.length;){const a=t[i];if(a==="\\"){if(i+1===t.length)throw new G(N.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const l=t[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new G(N.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=l,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new G(N.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ht(n)}static emptyPath(){return new Ht([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(t){this.path=t}static fromPath(t){return new ne(Be.fromString(t))}static fromName(t){return new ne(Be.fromString(t).popFirst(5))}static empty(){return new ne(Be.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Be.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return Be.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ne(new Be(t.slice()))}}function K2(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=fe.fromTimestamp(r===1e9?new vt(n+1,0):new vt(n,r));return new io(i,ne.empty(),t)}function Q2(e){return new io(e.readTime,e.key,-1)}class io{constructor(t,n,r){this.readTime=t,this.documentKey=n,this.largestBatchId=r}static min(){return new io(fe.min(),ne.empty(),-1)}static max(){return new io(fe.max(),ne.empty(),-1)}}function Y2(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=ne.comparator(e.documentKey,t.documentKey),n!==0?n:Ce(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class J2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uc(e){if(e.code!==N.FAILED_PRECONDITION||e.message!==X2)throw e;Z("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&le(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new M((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(t,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof M?n:M.resolve(n)}catch(n){return M.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):M.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):M.reject(n)}static resolve(t){return new M((n,r)=>{n(t)})}static reject(t){return new M((n,r)=>{r(t)})}static waitFor(t){return new M((n,r)=>{let i=0,o=0,s=!1;t.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},l=>r(l))}),s=!0,o===i&&n()})}static or(t){let n=M.resolve(!1);for(const r of t)n=n.next(i=>i?M.resolve(i):r());return n}static forEach(t,n){const r=[];return t.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(t,n){return new M((r,i)=>{const o=t.length,s=new Array(o);let a=0;for(let l=0;l<o;l++){const u=l;n(t[u]).next(c=>{s[u]=c,++a,a===o&&r(s)},c=>i(c))}})}static doWhile(t,n){return new M((r,i)=>{const o=()=>{t()===!0?n().next(()=>{o()},i):r()};o()})}}function cc(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qv{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=r=>this.oe(r),this._e=r=>n.writeSequenceNumber(r))}oe(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this._e&&this._e(t),t}}Qv.ae=-1;function wh(e){return e==null}function ef(e){return e===0&&1/e==-1/0}function Z2(e){return typeof e=="number"&&Number.isInteger(e)&&!ef(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dE(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function hs(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function dR(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class et{constructor(t,n){this.comparator=t,this.root=n||Dt.EMPTY}insert(t,n){return new et(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Dt.BLACK,null,null))}remove(t){return new et(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Dt.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(t){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(t,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,r)=>(t(n,r),!1))}toString(){const t=[];return this.inorderTraversal((n,r)=>(t.push(`${n}:${r}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Bc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Bc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Bc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Bc(this.root,t,this.comparator,!0)}}class Bc{constructor(t,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!t.isEmpty();)if(o=n?r(t.key,n):1,n&&i&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(o===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Dt{constructor(t,n,r,i,o){this.key=t,this.value=n,this.color=r??Dt.RED,this.left=i??Dt.EMPTY,this.right=o??Dt.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,r,i,o){return new Dt(t??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let i=this;const o=r(t,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(t,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(t,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Dt.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(t,i.key)===0){if(i.right.isEmpty())return Dt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Dt.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Dt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw le();const t=this.left.check();if(t!==this.right.check())throw le();return t+(this.isRed()?0:1)}}Dt.EMPTY=null,Dt.RED=!0,Dt.BLACK=!1;Dt.EMPTY=new class{constructor(){this.size=0}get key(){throw le()}get value(){throw le()}get color(){throw le()}get left(){throw le()}get right(){throw le()}copy(t,n,r,i,o){return this}insert(t,n,r){return new Dt(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(t){this.comparator=t,this.data=new et(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,r)=>(t(n),!1))}forEachInRange(t,n){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,t[1])>=0)return;n(i.key)}}forEachWhile(t,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new fE(this.data.getIterator())}getIteratorFrom(t){return new fE(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(r=>{n=n.add(r)}),n}isEqual(t){if(!(t instanceof Kt)||this.size!==t.size)return!1;const n=this.data.getIterator(),r=t.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new Kt(this.comparator);return n.data=t,n}}class fE{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(t){this.fields=t,t.sort(Ht.comparator)}static empty(){return new Tn([])}unionWith(t){let n=new Kt(Ht.comparator);for(const r of this.fields)n=n.add(r);for(const r of t)n=n.add(r);return new Tn(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return ca(this.fields,t.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fR extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new fR("Invalid base64 string: "+o):o}}(t);return new Yt(n)}static fromUint8Array(t){const n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(t);return new Yt(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Ce(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Yt.EMPTY_BYTE_STRING=new Yt("");const eF=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function oo(e){if(We(!!e),typeof e=="string"){let t=0;const n=eF.exec(e);if(We(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),t=Number(i)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:ft(e.seconds),nanos:ft(e.nanos)}}function ft(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function Zo(e){return typeof e=="string"?Yt.fromBase64String(e):Yt.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yv(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Xv(e){const t=e.mapValue.fields.__previous_value__;return Yv(t)?Xv(t):t}function hu(e){const t=oo(e.mapValue.fields.__local_write_time__.timestampValue);return new vt(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tF{constructor(t,n,r,i,o,s,a,l,u){this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class pu{constructor(t,n){this.projectId=t,this.database=n||"(default)"}static empty(){return new pu("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(t){return t instanceof pu&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function es(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Yv(e)?4:nF(e)?9007199254740991:10:le()}function Mr(e,t){if(e===t)return!0;const n=es(e);if(n!==es(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return hu(e).isEqual(hu(t));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=oo(i.timestampValue),a=oo(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(i,o){return Zo(i.bytesValue).isEqual(Zo(o.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(i,o){return ft(i.geoPointValue.latitude)===ft(o.geoPointValue.latitude)&&ft(i.geoPointValue.longitude)===ft(o.geoPointValue.longitude)}(e,t);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return ft(i.integerValue)===ft(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=ft(i.doubleValue),a=ft(o.doubleValue);return s===a?ef(s)===ef(a):isNaN(s)&&isNaN(a)}return!1}(e,t);case 9:return ca(e.arrayValue.values||[],t.arrayValue.values||[],Mr);case 10:return function(i,o){const s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(dE(s)!==dE(a))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(a[l]===void 0||!Mr(s[l],a[l])))return!1;return!0}(e,t);default:return le()}}function mu(e,t){return(e.values||[]).find(n=>Mr(n,t))!==void 0}function da(e,t){if(e===t)return 0;const n=es(e),r=es(t);if(n!==r)return Ce(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ce(e.booleanValue,t.booleanValue);case 2:return function(o,s){const a=ft(o.integerValue||o.doubleValue),l=ft(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(e,t);case 3:return hE(e.timestampValue,t.timestampValue);case 4:return hE(hu(e),hu(t));case 5:return Ce(e.stringValue,t.stringValue);case 6:return function(o,s){const a=Zo(o),l=Zo(s);return a.compareTo(l)}(e.bytesValue,t.bytesValue);case 7:return function(o,s){const a=o.split("/"),l=s.split("/");for(let u=0;u<a.length&&u<l.length;u++){const c=Ce(a[u],l[u]);if(c!==0)return c}return Ce(a.length,l.length)}(e.referenceValue,t.referenceValue);case 8:return function(o,s){const a=Ce(ft(o.latitude),ft(s.latitude));return a!==0?a:Ce(ft(o.longitude),ft(s.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(o,s){const a=o.values||[],l=s.values||[];for(let u=0;u<a.length&&u<l.length;++u){const c=da(a[u],l[u]);if(c)return c}return Ce(a.length,l.length)}(e.arrayValue,t.arrayValue);case 10:return function(o,s){if(o===jc.mapValue&&s===jc.mapValue)return 0;if(o===jc.mapValue)return 1;if(s===jc.mapValue)return-1;const a=o.fields||{},l=Object.keys(a),u=s.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let d=0;d<l.length&&d<c.length;++d){const f=Ce(l[d],c[d]);if(f!==0)return f;const h=da(a[l[d]],u[c[d]]);if(h!==0)return h}return Ce(l.length,c.length)}(e.mapValue,t.mapValue);default:throw le()}}function hE(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return Ce(e,t);const n=oo(e),r=oo(t),i=Ce(n.seconds,r.seconds);return i!==0?i:Ce(n.nanos,r.nanos)}function fa(e){return Og(e)}function Og(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(n){const r=oo(n);return`time(${r.seconds},${r.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(n){return Zo(n).toBase64()}(e.bytesValue):"referenceValue"in e?function(n){return ne.fromName(n).toString()}(e.referenceValue):"geoPointValue"in e?function(n){return`geo(${n.latitude},${n.longitude})`}(e.geoPointValue):"arrayValue"in e?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=Og(o);return r+"]"}(e.arrayValue):"mapValue"in e?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${Og(n.fields[s])}`;return i+"}"}(e.mapValue):le()}function pE(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function Lg(e){return!!e&&"integerValue"in e}function Jv(e){return!!e&&"arrayValue"in e}function mE(e){return!!e&&"nullValue"in e}function gE(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function _d(e){return!!e&&"mapValue"in e}function Ml(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return hs(e.mapValue.fields,(n,r)=>t.mapValue.fields[n]=Ml(r)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Ml(e.arrayValue.values[n]);return t}return Object.assign({},e)}function nF(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(t){this.value=t}static empty(){return new pn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let r=0;r<t.length-1;++r)if(n=(n.mapValue.fields||{})[t.get(r)],!_d(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Ml(n)}setAll(t){let n=Ht.emptyPath(),r={},i=[];t.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=Ml(s):i.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(t){const n=this.field(t.popLast());_d(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return Mr(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<t.length;++r){let i=n.mapValue.fields[t.get(r)];_d(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(t,n,r){hs(n,(i,o)=>t[i]=o);for(const i of r)delete t[i]}clone(){return new pn(Ml(this.value))}}function hR(e){const t=[];return hs(e.fields,(n,r)=>{const i=new Ht([n]);if(_d(r)){const o=hR(r.mapValue).fields;if(o.length===0)t.push(i);else for(const s of o)t.push(i.child(s))}else t.push(i)}),new Tn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(t,n,r,i,o,s,a){this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(t){return new zt(t,0,fe.min(),fe.min(),fe.min(),pn.empty(),0)}static newFoundDocument(t,n,r,i){return new zt(t,1,n,fe.min(),r,i,0)}static newNoDocument(t,n){return new zt(t,2,n,fe.min(),fe.min(),pn.empty(),0)}static newUnknownDocument(t,n){return new zt(t,3,n,fe.min(),fe.min(),pn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(fe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=pn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=pn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=fe.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof zt&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new zt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tf{constructor(t,n){this.position=t,this.inclusive=n}}function yE(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const o=t[i],s=e.position[i];if(o.field.isKeyField()?r=ne.comparator(ne.fromName(s.referenceValue),n.key):r=da(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function vE(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Mr(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs{constructor(t,n="asc"){this.field=t,this.dir=n}}function rF(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pR{}class ht extends pR{constructor(t,n,r){super(),this.field=t,this.op=n,this.value=r}static create(t,n,r){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,r):new oF(t,n,r):n==="array-contains"?new lF(t,r):n==="in"?new uF(t,r):n==="not-in"?new cF(t,r):n==="array-contains-any"?new dF(t,r):new ht(t,n,r)}static createKeyFieldInFilter(t,n,r){return n==="in"?new sF(t,r):new aF(t,r)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(da(n,this.value)):n!==null&&es(this.value)===es(n)&&this.matchesComparison(da(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return le()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class mr extends pR{constructor(t,n){super(),this.filters=t,this.op=n,this.ce=null}static create(t,n){return new mr(t,n)}matches(t){return mR(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const t=this.le(n=>n.isInequality());return t!==null?t.field:null}le(t){for(const n of this.getFlattenedFilters())if(t(n))return n;return null}}function mR(e){return e.op==="and"}function gR(e){return iF(e)&&mR(e)}function iF(e){for(const t of e.filters)if(t instanceof mr)return!1;return!0}function Mg(e){if(e instanceof ht)return e.field.canonicalString()+e.op.toString()+fa(e.value);if(gR(e))return e.filters.map(t=>Mg(t)).join(",");{const t=e.filters.map(n=>Mg(n)).join(",");return`${e.op}(${t})`}}function yR(e,t){return e instanceof ht?function(r,i){return i instanceof ht&&r.op===i.op&&r.field.isEqual(i.field)&&Mr(r.value,i.value)}(e,t):e instanceof mr?function(r,i){return i instanceof mr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&yR(s,i.filters[a]),!0):!1}(e,t):void le()}function vR(e){return e instanceof ht?function(n){return`${n.field.canonicalString()} ${n.op} ${fa(n.value)}`}(e):e instanceof mr?function(n){return n.op.toString()+" {"+n.getFilters().map(vR).join(" ,")+"}"}(e):"Filter"}class oF extends ht{constructor(t,n,r){super(t,n,r),this.key=ne.fromName(r.referenceValue)}matches(t){const n=ne.comparator(t.key,this.key);return this.matchesComparison(n)}}class sF extends ht{constructor(t,n){super(t,"in",n),this.keys=_R("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class aF extends ht{constructor(t,n){super(t,"not-in",n),this.keys=_R("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function _R(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ne.fromName(r.referenceValue))}class lF extends ht{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return Jv(n)&&mu(n.arrayValue,this.value)}}class uF extends ht{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&mu(this.value.arrayValue,n)}}class cF extends ht{constructor(t,n){super(t,"not-in",n)}matches(t){if(mu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&!mu(this.value.arrayValue,n)}}class dF extends ht{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!Jv(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>mu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fF{constructor(t,n=null,r=[],i=[],o=null,s=null,a=null){this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.he=null}}function _E(e,t=null,n=[],r=[],i=null,o=null,s=null){return new fF(e,t,n,r,i,o,s)}function Zv(e){const t=ge(e);if(t.he===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(r=>Mg(r)).join(","),n+="|ob:",n+=t.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),wh(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(r=>fa(r)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(r=>fa(r)).join(",")),t.he=n}return t.he}function e_(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!rF(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!yR(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!vE(e.startAt,t.startAt)&&vE(e.endAt,t.endAt)}function Vg(e){return ne.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ma{constructor(t,n=null,r=[],i=[],o=null,s="F",a=null,l=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.Pe=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function hF(e,t,n,r,i,o,s,a){return new Ma(e,t,n,r,i,o,s,a)}function t_(e){return new Ma(e)}function wE(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function n_(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Eh(e){for(const t of e.filters){const n=t.getFirstInequalityField();if(n!==null)return n}return null}function wR(e){return e.collectionGroup!==null}function Vl(e){const t=ge(e);if(t.Pe===null){t.Pe=[];const n=Eh(t),r=n_(t);if(n!==null&&r===null)n.isKeyField()||t.Pe.push(new Xs(n)),t.Pe.push(new Xs(Ht.keyField(),"asc"));else{let i=!1;for(const o of t.explicitOrderBy)t.Pe.push(o),o.field.isKeyField()&&(i=!0);if(!i){const o=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.Pe.push(new Xs(Ht.keyField(),o))}}}return t.Pe}function kr(e){const t=ge(e);return t.Ie||(t.Ie=pF(t,Vl(e))),t.Ie}function pF(e,t){if(e.limitType==="F")return _E(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new Xs(i.field,o)});const n=e.endAt?new tf(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new tf(e.startAt.position,e.startAt.inclusive):null;return _E(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function Fg(e,t){t.getFirstInequalityField(),Eh(e);const n=e.filters.concat([t]);return new Ma(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function $g(e,t,n){return new Ma(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Ih(e,t){return e_(kr(e),kr(t))&&e.limitType===t.limitType}function ER(e){return`${Zv(kr(e))}|lt:${e.limitType}`}function Rs(e){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>vR(i)).join(", ")}]`),wh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>fa(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>fa(i)).join(",")),`Target(${r})`}(kr(e))}; limitType=${e.limitType})`}function Th(e,t){return t.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):ne.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(e,t)&&function(r,i){for(const o of Vl(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(e,t)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(e,t)&&function(r,i){return!(r.startAt&&!function(s,a,l){const u=yE(s,a,l);return s.inclusive?u<=0:u<0}(r.startAt,Vl(r),i)||r.endAt&&!function(s,a,l){const u=yE(s,a,l);return s.inclusive?u>=0:u>0}(r.endAt,Vl(r),i))}(e,t)}function mF(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function IR(e){return(t,n)=>{let r=!1;for(const i of Vl(e)){const o=gF(i,t,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function gF(e,t,n){const r=e.field.isKeyField()?ne.comparator(t.key,n.key):function(o,s,a){const l=s.data.field(o),u=a.data.field(o);return l!==null&&u!==null?da(l,u):le()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return le()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Va{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,t))return o}}has(t){return this.get(t)!==void 0}set(t,n){const r=this.mapKeyFn(t),i=this.inner[r];if(i===void 0)return this.inner[r]=[[t,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],t))return void(i[o]=[t,n]);i.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(t){hs(this.inner,(n,r)=>{for(const[i,o]of r)t(i,o)})}isEmpty(){return dR(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yF=new et(ne.comparator);function ai(){return yF}const TR=new et(ne.comparator);function Sl(...e){let t=TR;for(const n of e)t=t.insert(n.key,n);return t}function SR(e){let t=TR;return e.forEach((n,r)=>t=t.insert(n,r.overlayedDocument)),t}function Oo(){return Fl()}function bR(){return Fl()}function Fl(){return new Va(e=>e.toString(),(e,t)=>e.isEqual(t))}const vF=new et(ne.comparator),_F=new Kt(ne.comparator);function ve(...e){let t=_F;for(const n of e)t=t.add(n);return t}const wF=new Kt(Ce);function EF(){return wF}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RR(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ef(t)?"-0":t}}function AR(e){return{integerValue:""+e}}function IF(e,t){return Z2(t)?AR(t):RR(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh{constructor(){this._=void 0}}function TF(e,t,n){return e instanceof nf?function(i,o){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&Yv(o)&&(o=Xv(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,t):e instanceof gu?PR(e,t):e instanceof yu?xR(e,t):function(i,o){const s=CR(i,o),a=EE(s)+EE(i.Te);return Lg(s)&&Lg(i.Te)?AR(a):RR(i.serializer,a)}(e,t)}function SF(e,t,n){return e instanceof gu?PR(e,t):e instanceof yu?xR(e,t):n}function CR(e,t){return e instanceof rf?function(r){return Lg(r)||function(o){return!!o&&"doubleValue"in o}(r)}(t)?t:{integerValue:0}:null}class nf extends Sh{}class gu extends Sh{constructor(t){super(),this.elements=t}}function PR(e,t){const n=kR(t);for(const r of e.elements)n.some(i=>Mr(i,r))||n.push(r);return{arrayValue:{values:n}}}class yu extends Sh{constructor(t){super(),this.elements=t}}function xR(e,t){let n=kR(t);for(const r of e.elements)n=n.filter(i=>!Mr(i,r));return{arrayValue:{values:n}}}class rf extends Sh{constructor(t,n){super(),this.serializer=t,this.Te=n}}function EE(e){return ft(e.integerValue||e.doubleValue)}function kR(e){return Jv(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function bF(e,t){return e.field.isEqual(t.field)&&function(r,i){return r instanceof gu&&i instanceof gu||r instanceof yu&&i instanceof yu?ca(r.elements,i.elements,Mr):r instanceof rf&&i instanceof rf?Mr(r.Te,i.Te):r instanceof nf&&i instanceof nf}(e.transform,t.transform)}class RF{constructor(t,n){this.version=t,this.transformResults=n}}class Gn{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new Gn}static exists(t){return new Gn(void 0,t)}static updateTime(t){return new Gn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function wd(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class bh{}function DR(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new r_(e.key,Gn.none()):new dc(e.key,e.data,Gn.none());{const n=e.data,r=pn.empty();let i=new Kt(Ht.comparator);for(let o of t.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new go(e.key,r,new Tn(i.toArray()),Gn.none())}}function AF(e,t,n){e instanceof dc?function(i,o,s){const a=i.value.clone(),l=TE(i.fieldTransforms,o,s.transformResults);a.setAll(l),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(e,t,n):e instanceof go?function(i,o,s){if(!wd(i.precondition,o))return void o.convertToUnknownDocument(s.version);const a=TE(i.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(NR(i)),l.setAll(a),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(e,t,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,t,n)}function $l(e,t,n,r){return e instanceof dc?function(o,s,a,l){if(!wd(o.precondition,s))return a;const u=o.value.clone(),c=SE(o.fieldTransforms,l,s);return u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(e,t,n,r):e instanceof go?function(o,s,a,l){if(!wd(o.precondition,s))return a;const u=SE(o.fieldTransforms,l,s),c=s.data;return c.setAll(NR(o)),c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(d=>d.field))}(e,t,n,r):function(o,s,a){return wd(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(e,t,n)}function CF(e,t){let n=null;for(const r of e.fieldTransforms){const i=t.data.field(r.field),o=CR(r.transform,i||null);o!=null&&(n===null&&(n=pn.empty()),n.set(r.field,o))}return n||null}function IE(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ca(r,i,(o,s)=>bF(o,s))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class dc extends bh{constructor(t,n,r,i=[]){super(),this.key=t,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class go extends bh{constructor(t,n,r,i,o=[]){super(),this.key=t,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function NR(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function TE(e,t,n){const r=new Map;We(e.length===n.length);for(let i=0;i<n.length;i++){const o=e[i],s=o.transform,a=t.data.field(o.field);r.set(o.field,SF(s,a,n[i]))}return r}function SE(e,t,n){const r=new Map;for(const i of e){const o=i.transform,s=n.data.field(i.field);r.set(i.field,TF(o,s,t))}return r}class r_ extends bh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class PF extends bh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xF{constructor(t,n,r,i){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(t,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(t.key)&&AF(o,t,r[i])}}applyToLocalView(t,n){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(n=$l(r,t,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(n=$l(r,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const r=bR();return this.mutations.forEach(i=>{const o=t.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;const l=DR(s,a);l!==null&&r.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(fe.min())}),r}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),ve())}isEqual(t){return this.batchId===t.batchId&&ca(this.mutations,t.mutations,(n,r)=>IE(n,r))&&ca(this.baseMutations,t.baseMutations,(n,r)=>IE(n,r))}}class i_{constructor(t,n,r,i){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(t,n,r){We(t.mutations.length===r.length);let i=function(){return vF}();const o=t.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new i_(t,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kF{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DF{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ct,Se;function NF(e){switch(e){default:return le();case N.CANCELLED:case N.UNKNOWN:case N.DEADLINE_EXCEEDED:case N.RESOURCE_EXHAUSTED:case N.INTERNAL:case N.UNAVAILABLE:case N.UNAUTHENTICATED:return!1;case N.INVALID_ARGUMENT:case N.NOT_FOUND:case N.ALREADY_EXISTS:case N.PERMISSION_DENIED:case N.FAILED_PRECONDITION:case N.ABORTED:case N.OUT_OF_RANGE:case N.UNIMPLEMENTED:case N.DATA_LOSS:return!0}}function OR(e){if(e===void 0)return si("GRPC error has no .code"),N.UNKNOWN;switch(e){case ct.OK:return N.OK;case ct.CANCELLED:return N.CANCELLED;case ct.UNKNOWN:return N.UNKNOWN;case ct.DEADLINE_EXCEEDED:return N.DEADLINE_EXCEEDED;case ct.RESOURCE_EXHAUSTED:return N.RESOURCE_EXHAUSTED;case ct.INTERNAL:return N.INTERNAL;case ct.UNAVAILABLE:return N.UNAVAILABLE;case ct.UNAUTHENTICATED:return N.UNAUTHENTICATED;case ct.INVALID_ARGUMENT:return N.INVALID_ARGUMENT;case ct.NOT_FOUND:return N.NOT_FOUND;case ct.ALREADY_EXISTS:return N.ALREADY_EXISTS;case ct.PERMISSION_DENIED:return N.PERMISSION_DENIED;case ct.FAILED_PRECONDITION:return N.FAILED_PRECONDITION;case ct.ABORTED:return N.ABORTED;case ct.OUT_OF_RANGE:return N.OUT_OF_RANGE;case ct.UNIMPLEMENTED:return N.UNIMPLEMENTED;case ct.DATA_LOSS:return N.DATA_LOSS;default:return le()}}(Se=ct||(ct={}))[Se.OK=0]="OK",Se[Se.CANCELLED=1]="CANCELLED",Se[Se.UNKNOWN=2]="UNKNOWN",Se[Se.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Se[Se.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Se[Se.NOT_FOUND=5]="NOT_FOUND",Se[Se.ALREADY_EXISTS=6]="ALREADY_EXISTS",Se[Se.PERMISSION_DENIED=7]="PERMISSION_DENIED",Se[Se.UNAUTHENTICATED=16]="UNAUTHENTICATED",Se[Se.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Se[Se.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Se[Se.ABORTED=10]="ABORTED",Se[Se.OUT_OF_RANGE=11]="OUT_OF_RANGE",Se[Se.UNIMPLEMENTED=12]="UNIMPLEMENTED",Se[Se.INTERNAL=13]="INTERNAL",Se[Se.UNAVAILABLE=14]="UNAVAILABLE",Se[Se.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OF(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LF=new Ys([4294967295,4294967295],0);function bE(e){const t=OF().encode(e),n=new F2;return n.update(t),new Uint8Array(n.digest())}function RE(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new Ys([n,r],0),new Ys([i,o],0)]}class o_{constructor(t,n,r){if(this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new bl(`Invalid padding: ${n}`);if(r<0)throw new bl(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new bl(`Invalid hash count: ${r}`);if(t.length===0&&n!==0)throw new bl(`Invalid padding when bitmap length is 0: ${n}`);this.Ae=8*t.length-n,this.Re=Ys.fromNumber(this.Ae)}Ve(t,n,r){let i=t.add(n.multiply(Ys.fromNumber(r)));return i.compare(LF)===1&&(i=new Ys([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Re).toNumber()}me(t){return(this.bitmap[Math.floor(t/8)]&1<<t%8)!=0}mightContain(t){if(this.Ae===0)return!1;const n=bE(t),[r,i]=RE(n);for(let o=0;o<this.hashCount;o++){const s=this.Ve(r,i,o);if(!this.me(s))return!1}return!0}static create(t,n,r){const i=t%8==0?0:8-t%8,o=new Uint8Array(Math.ceil(t/8)),s=new o_(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(t){if(this.Ae===0)return;const n=bE(t),[r,i]=RE(n);for(let o=0;o<this.hashCount;o++){const s=this.Ve(r,i,o);this.fe(s)}}fe(t){const n=Math.floor(t/8),r=t%8;this.bitmap[n]|=1<<r}}class bl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh{constructor(t,n,r,i,o){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(t,n,r){const i=new Map;return i.set(t,fc.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new Rh(fe.min(),i,new et(Ce),ai(),ve())}}class fc{constructor(t,n,r,i,o){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(t,n,r){return new fc(r,n,ve(),ve(),ve())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ed{constructor(t,n,r,i){this.ge=t,this.removedTargetIds=n,this.key=r,this.pe=i}}class LR{constructor(t,n){this.targetId=t,this.ye=n}}class MR{constructor(t,n,r=Yt.EMPTY_BYTE_STRING,i=null){this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i}}class AE{constructor(){this.we=0,this.Se=PE(),this.be=Yt.EMPTY_BYTE_STRING,this.De=!1,this.Ce=!0}get current(){return this.De}get resumeToken(){return this.be}get ve(){return this.we!==0}get Fe(){return this.Ce}Me(t){t.approximateByteSize()>0&&(this.Ce=!0,this.be=t)}xe(){let t=ve(),n=ve(),r=ve();return this.Se.forEach((i,o)=>{switch(o){case 0:t=t.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:le()}}),new fc(this.be,this.De,t,n,r)}Oe(){this.Ce=!1,this.Se=PE()}Ne(t,n){this.Ce=!0,this.Se=this.Se.insert(t,n)}Be(t){this.Ce=!0,this.Se=this.Se.remove(t)}Le(){this.we+=1}ke(){this.we-=1}qe(){this.Ce=!0,this.De=!0}}class MF{constructor(t){this.Qe=t,this.Ke=new Map,this.$e=ai(),this.Ue=CE(),this.We=new et(Ce)}Ge(t){for(const n of t.ge)t.pe&&t.pe.isFoundDocument()?this.ze(n,t.pe):this.je(n,t.key,t.pe);for(const n of t.removedTargetIds)this.je(n,t.key,t.pe)}He(t){this.forEachTarget(t,n=>{const r=this.Je(n);switch(t.state){case 0:this.Ye(n)&&r.Me(t.resumeToken);break;case 1:r.ke(),r.ve||r.Oe(),r.Me(t.resumeToken);break;case 2:r.ke(),r.ve||this.removeTarget(n);break;case 3:this.Ye(n)&&(r.qe(),r.Me(t.resumeToken));break;case 4:this.Ye(n)&&(this.Ze(n),r.Me(t.resumeToken));break;default:le()}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.Ke.forEach((r,i)=>{this.Ye(i)&&n(i)})}Xe(t){const n=t.targetId,r=t.ye.count,i=this.et(n);if(i){const o=i.target;if(Vg(o))if(r===0){const s=new ne(o.path);this.je(n,s,zt.newNoDocument(s,fe.min()))}else We(r===1);else{const s=this.tt(n);if(s!==r){const a=this.nt(t),l=a?this.rt(a,t,s):1;if(l!==0){this.Ze(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.We=this.We.insert(n,u)}}}}}nt(t){const n=t.ye.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let s,a;try{s=Zo(r).toUint8Array()}catch(l){if(l instanceof fR)return ua("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new o_(s,i,o)}catch(l){return ua(l instanceof bl?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ae===0?null:a}rt(t,n,r){return n.ye.count===r-this.ot(t,n.targetId)?0:2}ot(t,n){const r=this.Qe.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const s=this.Qe.st(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;t.mightContain(a)||(this.je(n,o,null),i++)}),i}_t(t){const n=new Map;this.Ke.forEach((o,s)=>{const a=this.et(s);if(a){if(o.current&&Vg(a.target)){const l=new ne(a.target.path);this.$e.get(l)!==null||this.ut(s,l)||this.je(s,l,zt.newNoDocument(l,t))}o.Fe&&(n.set(s,o.xe()),o.Oe())}});let r=ve();this.Ue.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{const u=this.et(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.$e.forEach((o,s)=>s.setReadTime(t));const i=new Rh(t,n,this.We,this.$e,r);return this.$e=ai(),this.Ue=CE(),this.We=new et(Ce),i}ze(t,n){if(!this.Ye(t))return;const r=this.ut(t,n.key)?2:0;this.Je(t).Ne(n.key,r),this.$e=this.$e.insert(n.key,n),this.Ue=this.Ue.insert(n.key,this.ct(n.key).add(t))}je(t,n,r){if(!this.Ye(t))return;const i=this.Je(t);this.ut(t,n)?i.Ne(n,1):i.Be(n),this.Ue=this.Ue.insert(n,this.ct(n).delete(t)),r&&(this.$e=this.$e.insert(n,r))}removeTarget(t){this.Ke.delete(t)}tt(t){const n=this.Je(t).xe();return this.Qe.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Le(t){this.Je(t).Le()}Je(t){let n=this.Ke.get(t);return n||(n=new AE,this.Ke.set(t,n)),n}ct(t){let n=this.Ue.get(t);return n||(n=new Kt(Ce),this.Ue=this.Ue.insert(t,n)),n}Ye(t){const n=this.et(t)!==null;return n||Z("WatchChangeAggregator","Detected inactive target",t),n}et(t){const n=this.Ke.get(t);return n&&n.ve?null:this.Qe.lt(t)}Ze(t){this.Ke.set(t,new AE),this.Qe.getRemoteKeysForTarget(t).forEach(n=>{this.je(t,n,null)})}ut(t,n){return this.Qe.getRemoteKeysForTarget(t).has(n)}}function CE(){return new et(ne.comparator)}function PE(){return new et(ne.comparator)}const VF=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),FF=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),$F=(()=>({and:"AND",or:"OR"}))();class UF{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function Ug(e,t){return e.useProto3Json||wh(t)?t:{value:t}}function of(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function VR(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function BF(e,t){return of(e,t.toTimestamp())}function Dr(e){return We(!!e),fe.fromTimestamp(function(n){const r=oo(n);return new vt(r.seconds,r.nanos)}(e))}function s_(e,t){return function(r){return new Be(["projects",r.projectId,"databases",r.database])}(e).child("documents").child(t).canonicalString()}function FR(e){const t=Be.fromString(e);return We(jR(t)),t}function Bg(e,t){return s_(e.databaseId,t.path)}function im(e,t){const n=FR(t);if(n.get(1)!==e.databaseId.projectId)throw new G(N.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new G(N.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new ne($R(n))}function jg(e,t){return s_(e.databaseId,t)}function jF(e){const t=FR(e);return t.length===4?Be.emptyPath():$R(t)}function zg(e){return new Be(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function $R(e){return We(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function xE(e,t,n){return{name:Bg(e,t),fields:n.value.mapValue.fields}}function zF(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:le()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=function(u,c){return u.useProto3Json?(We(c===void 0||typeof c=="string"),Yt.fromBase64String(c||"")):(We(c===void 0||c instanceof Uint8Array),Yt.fromUint8Array(c||new Uint8Array))}(e,t.targetChange.resumeToken),s=t.targetChange.cause,a=s&&function(u){const c=u.code===void 0?N.UNKNOWN:OR(u.code);return new G(c,u.message||"")}(s);n=new MR(r,i,o,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=im(e,r.document.name),o=Dr(r.document.updateTime),s=r.document.createTime?Dr(r.document.createTime):fe.min(),a=new pn({mapValue:{fields:r.document.fields}}),l=zt.newFoundDocument(i,o,s,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new Ed(u,c,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=im(e,r.document),o=r.readTime?Dr(r.readTime):fe.min(),s=zt.newNoDocument(i,o),a=r.removedTargetIds||[];n=new Ed([],a,s.key,s)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=im(e,r.document),o=r.removedTargetIds||[];n=new Ed([],o,i,null)}else{if(!("filter"in t))return le();{t.filter;const r=t.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,s=new DF(i,o),a=r.targetId;n=new LR(a,s)}}return n}function WF(e,t){let n;if(t instanceof dc)n={update:xE(e,t.key,t.value)};else if(t instanceof r_)n={delete:Bg(e,t.key)};else if(t instanceof go)n={update:xE(e,t.key,t.data),updateMask:ZF(t.fieldMask)};else{if(!(t instanceof PF))return le();n={verify:Bg(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(r=>function(o,s){const a=s.transform;if(a instanceof nf)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof gu)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof yu)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof rf)return{fieldPath:s.field.canonicalString(),increment:a.Te};throw le()}(0,r))),t.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:BF(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:le()}(e,t.precondition)),n}function HF(e,t){return e&&e.length>0?(We(t!==void 0),e.map(n=>function(i,o){let s=i.updateTime?Dr(i.updateTime):Dr(o);return s.isEqual(fe.min())&&(s=Dr(o)),new RF(s,i.transformResults||[])}(n,t))):[]}function qF(e,t){return{documents:[jg(e,t.path)]}}function GF(e,t){const n={structuredQuery:{}},r=t.path;t.collectionGroup!==null?(n.parent=jg(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=jg(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(l){if(l.length!==0)return BR(mr.create(l,"and"))}(t.filters);i&&(n.structuredQuery.where=i);const o=function(l){if(l.length!==0)return l.map(u=>function(d){return{field:As(d.field),direction:YF(d.dir)}}(u))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);const s=Ug(e,t.limit);return s!==null&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(t.endAt)),n}function KF(e){let t=jF(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){We(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:t=t.child(c.collectionId)}let o=[];n.where&&(o=function(d){const f=UR(d);return f instanceof mr&&gR(f)?f.getFilters():[f]}(n.where));let s=[];n.orderBy&&(s=function(d){return d.map(f=>function(p){return new Xs(Cs(p.field),function(_){switch(_){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(p.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(d){let f;return f=typeof d=="object"?d.value:d,wh(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(d){const f=!!d.before,h=d.values||[];return new tf(h,f)}(n.startAt));let u=null;return n.endAt&&(u=function(d){const f=!d.before,h=d.values||[];return new tf(h,f)}(n.endAt)),hF(t,i,s,o,a,"F",l,u)}function QF(e,t){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return le()}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function UR(e){return e.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Cs(n.unaryFilter.field);return ht.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Cs(n.unaryFilter.field);return ht.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Cs(n.unaryFilter.field);return ht.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Cs(n.unaryFilter.field);return ht.create(s,"!=",{nullValue:"NULL_VALUE"});default:return le()}}(e):e.fieldFilter!==void 0?function(n){return ht.create(Cs(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return le()}}(n.fieldFilter.op),n.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(n){return mr.create(n.compositeFilter.filters.map(r=>UR(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return le()}}(n.compositeFilter.op))}(e):le()}function YF(e){return VF[e]}function XF(e){return FF[e]}function JF(e){return $F[e]}function As(e){return{fieldPath:e.canonicalString()}}function Cs(e){return Ht.fromServerFormat(e.fieldPath)}function BR(e){return e instanceof ht?function(n){if(n.op==="=="){if(gE(n.value))return{unaryFilter:{field:As(n.field),op:"IS_NAN"}};if(mE(n.value))return{unaryFilter:{field:As(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(gE(n.value))return{unaryFilter:{field:As(n.field),op:"IS_NOT_NAN"}};if(mE(n.value))return{unaryFilter:{field:As(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:As(n.field),op:XF(n.op),value:n.value}}}(e):e instanceof mr?function(n){const r=n.getFilters().map(i=>BR(i));return r.length===1?r[0]:{compositeFilter:{op:JF(n.op),filters:r}}}(e):le()}function ZF(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function jR(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi{constructor(t,n,r,i,o=fe.min(),s=fe.min(),a=Yt.EMPTY_BYTE_STRING,l=null){this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(t){return new Oi(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Oi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Oi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Oi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e${constructor(t){this.ht=t}}function t$(e){const t=KF({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?$g(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n${constructor(){this.an=new r$}addToCollectionParentIndex(t,n){return this.an.add(n),M.resolve()}getCollectionParents(t,n){return M.resolve(this.an.getEntries(n))}addFieldIndex(t,n){return M.resolve()}deleteFieldIndex(t,n){return M.resolve()}deleteAllFieldIndexes(t){return M.resolve()}createTargetIndexes(t,n){return M.resolve()}getDocumentsMatchingTarget(t,n){return M.resolve(null)}getIndexType(t,n){return M.resolve(0)}getFieldIndexes(t,n){return M.resolve([])}getNextCollectionGroupToUpdate(t){return M.resolve(null)}getMinOffset(t,n){return M.resolve(io.min())}getMinOffsetFromCollectionGroup(t,n){return M.resolve(io.min())}updateCollectionGroup(t,n,r){return M.resolve()}updateIndexEntries(t,n){return M.resolve()}}class r${constructor(){this.index={}}add(t){const n=t.lastSegment(),r=t.popLast(),i=this.index[n]||new Kt(Be.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(t){const n=t.lastSegment(),r=t.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(t){return(this.index[t]||new Kt(Be.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha{constructor(t){this.Nn=t}next(){return this.Nn+=2,this.Nn}static Bn(){return new ha(0)}static Ln(){return new ha(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i${constructor(){this.changes=new Va(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,zt.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?M.resolve(r):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o${constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s${constructor(t,n,r,i){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(t,n){let r=null;return this.documentOverlayCache.getOverlay(t,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(t,n))).next(i=>(r!==null&&$l(r.mutation,i,Tn.empty(),vt.now()),i))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.getLocalViewOfDocuments(t,r,ve()).next(()=>r))}getLocalViewOfDocuments(t,n,r=ve()){const i=Oo();return this.populateOverlays(t,i,n).next(()=>this.computeViews(t,n,i,r).next(o=>{let s=Sl();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(t,n){const r=Oo();return this.populateOverlays(t,r,n).next(()=>this.computeViews(t,n,r,ve()))}populateOverlays(t,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(t,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(t,n,r,i){let o=ai();const s=Fl(),a=function(){return Fl()}();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof go)?o=o.insert(u.key,u):c!==void 0?(s.set(u.key,c.mutation.getFieldMask()),$l(c.mutation,u,c.mutation.getFieldMask(),vt.now())):s.set(u.key,Tn.empty())}),this.recalculateAndSaveOverlays(t,o).next(l=>(l.forEach((u,c)=>s.set(u,c)),n.forEach((u,c)=>{var d;return a.set(u,new o$(c,(d=s.get(u))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(t,n){const r=Fl();let i=new et((s,a)=>s-a),o=ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(s=>{for(const a of s)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||Tn.empty();c=a.applyToLocalView(u,c),r.set(l,c);const d=(i.get(a.batchId)||ve()).add(l);i=i.insert(a.batchId,d)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,d=bR();c.forEach(f=>{if(!o.has(f)){const h=DR(n.get(f),r.get(f));h!==null&&d.set(f,h),o=o.add(f)}}),s.push(this.documentOverlayCache.saveOverlays(t,u,d))}return M.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.recalculateAndSaveOverlays(t,r))}getDocumentsMatchingQuery(t,n,r,i){return function(s){return ne.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):wR(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,r,i):this.getDocumentsMatchingCollectionQuery(t,n,r,i)}getNextDocuments(t,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,r.largestBatchId,i-o.size):M.resolve(Oo());let a=-1,l=o;return s.next(u=>M.forEach(u,(c,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),o.get(c)?M.resolve():this.remoteDocumentCache.getEntry(t,c).next(f=>{l=l.insert(c,f)}))).next(()=>this.populateOverlays(t,u,o)).next(()=>this.computeViews(t,l,u,ve())).next(c=>({batchId:a,changes:SR(c)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new ne(n)).next(r=>{let i=Sl();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(t,n,r,i){const o=n.collectionGroup;let s=Sl();return this.indexManager.getCollectionParents(t,o).next(a=>M.forEach(a,l=>{const u=function(d,f){return new Ma(f,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(o));return this.getDocumentsMatchingCollectionQuery(t,u,r,i).next(c=>{c.forEach((d,f)=>{s=s.insert(d,f)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(t,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,r,o,i))).next(s=>{o.forEach((l,u)=>{const c=u.getKey();s.get(c)===null&&(s=s.insert(c,zt.newInvalidDocument(c)))});let a=Sl();return s.forEach((l,u)=>{const c=o.get(l);c!==void 0&&$l(c.mutation,u,Tn.empty(),vt.now()),Th(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a${constructor(t){this.serializer=t,this.lr=new Map,this.hr=new Map}getBundleMetadata(t,n){return M.resolve(this.lr.get(n))}saveBundleMetadata(t,n){return this.lr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Dr(i.createTime)}}(n)),M.resolve()}getNamedQuery(t,n){return M.resolve(this.hr.get(n))}saveNamedQuery(t,n){return this.hr.set(n.name,function(i){return{name:i.name,query:t$(i.bundledQuery),readTime:Dr(i.readTime)}}(n)),M.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l${constructor(){this.overlays=new et(ne.comparator),this.Pr=new Map}getOverlay(t,n){return M.resolve(this.overlays.get(n))}getOverlays(t,n){const r=Oo();return M.forEach(n,i=>this.getOverlay(t,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(t,n,r){return r.forEach((i,o)=>{this.It(t,n,o)}),M.resolve()}removeOverlaysForBatchId(t,n,r){const i=this.Pr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Pr.delete(r)),M.resolve()}getOverlaysForCollection(t,n,r){const i=Oo(),o=n.length+1,s=new ne(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return M.resolve(i)}getOverlaysForCollectionGroup(t,n,r,i){let o=new et((u,c)=>u-c);const s=this.overlays.getIterator();for(;s.hasNext();){const u=s.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=o.get(u.largestBatchId);c===null&&(c=Oo(),o=o.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=Oo(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return M.resolve(a)}It(t,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.Pr.get(i.largestBatchId).delete(r.key);this.Pr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new kF(n,r));let o=this.Pr.get(n);o===void 0&&(o=ve(),this.Pr.set(n,o)),this.Pr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a_{constructor(){this.Ir=new Kt(Et.dr),this.Tr=new Kt(Et.Er)}isEmpty(){return this.Ir.isEmpty()}addReference(t,n){const r=new Et(t,n);this.Ir=this.Ir.add(r),this.Tr=this.Tr.add(r)}Ar(t,n){t.forEach(r=>this.addReference(r,n))}removeReference(t,n){this.Rr(new Et(t,n))}Vr(t,n){t.forEach(r=>this.removeReference(r,n))}mr(t){const n=new ne(new Be([])),r=new Et(n,t),i=new Et(n,t+1),o=[];return this.Tr.forEachInRange([r,i],s=>{this.Rr(s),o.push(s.key)}),o}gr(){this.Ir.forEach(t=>this.Rr(t))}Rr(t){this.Ir=this.Ir.delete(t),this.Tr=this.Tr.delete(t)}pr(t){const n=new ne(new Be([])),r=new Et(n,t),i=new Et(n,t+1);let o=ve();return this.Tr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(t){const n=new Et(t,0),r=this.Ir.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)}}class Et{constructor(t,n){this.key=t,this.yr=n}static dr(t,n){return ne.comparator(t.key,n.key)||Ce(t.yr,n.yr)}static Er(t,n){return Ce(t.yr,n.yr)||ne.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u${constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.wr=1,this.Sr=new Kt(Et.dr)}checkEmpty(t){return M.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,r,i){const o=this.wr;this.wr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new xF(o,n,r,i);this.mutationQueue.push(s);for(const a of i)this.Sr=this.Sr.add(new Et(a.key,o)),this.indexManager.addToCollectionParentIndex(t,a.key.path.popLast());return M.resolve(s)}lookupMutationBatch(t,n){return M.resolve(this.br(n))}getNextMutationBatchAfterBatchId(t,n){const r=n+1,i=this.Dr(r),o=i<0?0:i;return M.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return M.resolve(this.mutationQueue.length===0?-1:this.wr-1)}getAllMutationBatches(t){return M.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const r=new Et(n,0),i=new Et(n,Number.POSITIVE_INFINITY),o=[];return this.Sr.forEachInRange([r,i],s=>{const a=this.br(s.yr);o.push(a)}),M.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(t,n){let r=new Kt(Ce);return n.forEach(i=>{const o=new Et(i,0),s=new Et(i,Number.POSITIVE_INFINITY);this.Sr.forEachInRange([o,s],a=>{r=r.add(a.yr)})}),M.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(t,n){const r=n.path,i=r.length+1;let o=r;ne.isDocumentKey(o)||(o=o.child(""));const s=new Et(new ne(o),0);let a=new Kt(Ce);return this.Sr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.yr)),!0)},s),M.resolve(this.Cr(a))}Cr(t){const n=[];return t.forEach(r=>{const i=this.br(r);i!==null&&n.push(i)}),n}removeMutationBatch(t,n){We(this.vr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Sr;return M.forEach(n.mutations,i=>{const o=new Et(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(()=>{this.Sr=r})}xn(t){}containsKey(t,n){const r=new Et(n,0),i=this.Sr.firstAfterOrEqual(r);return M.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(t){return this.mutationQueue.length,M.resolve()}vr(t,n){return this.Dr(t)}Dr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}br(t){const n=this.Dr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c${constructor(t){this.Fr=t,this.docs=function(){return new et(ne.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.Fr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const r=this.docs.get(n);return M.resolve(r?r.document.mutableCopy():zt.newInvalidDocument(n))}getEntries(t,n){let r=ai();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():zt.newInvalidDocument(i))}),M.resolve(r)}getDocumentsMatchingQuery(t,n,r,i){let o=ai();const s=n.path,a=new ne(s.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||Y2(Q2(c),r)<=0||(i.has(c.key)||Th(n,c))&&(o=o.insert(c.key,c.mutableCopy()))}return M.resolve(o)}getAllFromCollectionGroup(t,n,r,i){le()}Mr(t,n){return M.forEach(this.docs,r=>n(r))}newChangeBuffer(t){return new d$(this)}getSize(t){return M.resolve(this.size)}}class d$ extends i${constructor(t){super(),this.ur=t}applyChanges(t){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ur.addEntry(t,i)):this.ur.removeEntry(r)}),M.waitFor(n)}getFromCache(t,n){return this.ur.getEntry(t,n)}getAllFromCache(t,n){return this.ur.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f${constructor(t){this.persistence=t,this.Or=new Va(n=>Zv(n),e_),this.lastRemoteSnapshotVersion=fe.min(),this.highestTargetId=0,this.Nr=0,this.Br=new a_,this.targetCount=0,this.Lr=ha.Bn()}forEachTarget(t,n){return this.Or.forEach((r,i)=>n(i)),M.resolve()}getLastRemoteSnapshotVersion(t){return M.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return M.resolve(this.Nr)}allocateTargetId(t){return this.highestTargetId=this.Lr.next(),M.resolve(this.highestTargetId)}setTargetsMetadata(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Nr&&(this.Nr=n),M.resolve()}Qn(t){this.Or.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.Lr=new ha(n),this.highestTargetId=n),t.sequenceNumber>this.Nr&&(this.Nr=t.sequenceNumber)}addTargetData(t,n){return this.Qn(n),this.targetCount+=1,M.resolve()}updateTargetData(t,n){return this.Qn(n),M.resolve()}removeTargetData(t,n){return this.Or.delete(n.target),this.Br.mr(n.targetId),this.targetCount-=1,M.resolve()}removeTargets(t,n,r){let i=0;const o=[];return this.Or.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Or.delete(s),o.push(this.removeMatchingKeysForTargetId(t,a.targetId)),i++)}),M.waitFor(o).next(()=>i)}getTargetCount(t){return M.resolve(this.targetCount)}getTargetData(t,n){const r=this.Or.get(n)||null;return M.resolve(r)}addMatchingKeys(t,n,r){return this.Br.Ar(n,r),M.resolve()}removeMatchingKeys(t,n,r){this.Br.Vr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(t,s))}),M.waitFor(o)}removeMatchingKeysForTargetId(t,n){return this.Br.mr(n),M.resolve()}getMatchingKeysForTargetId(t,n){const r=this.Br.pr(n);return M.resolve(r)}containsKey(t,n){return M.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h${constructor(t,n){this.kr={},this.overlays={},this.qr=new Qv(0),this.Qr=!1,this.Qr=!0,this.referenceDelegate=t(this),this.Kr=new f$(this),this.indexManager=new n$,this.remoteDocumentCache=function(i){return new c$(i)}(r=>this.referenceDelegate.$r(r)),this.serializer=new e$(n),this.Ur=new a$(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Qr=!1,Promise.resolve()}get started(){return this.Qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new l$,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let r=this.kr[t.toKey()];return r||(r=new u$(n,this.referenceDelegate),this.kr[t.toKey()]=r),r}getTargetCache(){return this.Kr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ur}runTransaction(t,n,r){Z("MemoryPersistence","Starting transaction:",t);const i=new p$(this.qr.next());return this.referenceDelegate.Wr(),r(i).next(o=>this.referenceDelegate.Gr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}zr(t,n){return M.or(Object.values(this.kr).map(r=>()=>r.containsKey(t,n)))}}class p$ extends J2{constructor(t){super(),this.currentSequenceNumber=t}}class l_{constructor(t){this.persistence=t,this.jr=new a_,this.Hr=null}static Jr(t){return new l_(t)}get Yr(){if(this.Hr)return this.Hr;throw le()}addReference(t,n,r){return this.jr.addReference(r,n),this.Yr.delete(r.toString()),M.resolve()}removeReference(t,n,r){return this.jr.removeReference(r,n),this.Yr.add(r.toString()),M.resolve()}markPotentiallyOrphaned(t,n){return this.Yr.add(n.toString()),M.resolve()}removeTarget(t,n){this.jr.mr(n.targetId).forEach(i=>this.Yr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,n.targetId).next(i=>{i.forEach(o=>this.Yr.add(o.toString()))}).next(()=>r.removeTargetData(t,n))}Wr(){this.Hr=new Set}Gr(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return M.forEach(this.Yr,r=>{const i=ne.fromPath(r);return this.Zr(t,i).next(o=>{o||n.removeEntry(i,fe.min())})}).next(()=>(this.Hr=null,n.apply(t)))}updateLimboDocument(t,n){return this.Zr(t,n).next(r=>{r?this.Yr.delete(n.toString()):this.Yr.add(n.toString())})}$r(t){return 0}Zr(t,n){return M.or([()=>M.resolve(this.jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.zr(t,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u_{constructor(t,n,r,i){this.targetId=t,this.fromCache=n,this.Qi=r,this.Ki=i}static $i(t,n){let r=ve(),i=ve();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new u_(t,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m${constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g${constructor(){this.Ui=!1,this.Wi=!1,this.Gi=100,this.zi=8}initialize(t,n){this.ji=t,this.indexManager=n,this.Ui=!0}getDocumentsMatchingQuery(t,n,r,i){const o={result:null};return this.Hi(t,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Ji(t,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new m$;return this.Yi(t,n,s).next(a=>{if(o.result=a,this.Wi)return this.Zi(t,n,s,a.size)})}).next(()=>o.result)}Zi(t,n,r,i){return r.documentReadCount<this.Gi?(el()<=Ie.DEBUG&&Z("QueryEngine","SDK will not create cache indexes for query:",Rs(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Gi,"documents"),M.resolve()):(el()<=Ie.DEBUG&&Z("QueryEngine","Query:",Rs(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.zi*i?(el()<=Ie.DEBUG&&Z("QueryEngine","The SDK decides to create cache indexes for query:",Rs(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,kr(n))):M.resolve())}Hi(t,n){if(wE(n))return M.resolve(null);let r=kr(n);return this.indexManager.getIndexType(t,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=$g(n,null,"F"),r=kr(n)),this.indexManager.getDocumentsMatchingTarget(t,r).next(o=>{const s=ve(...o);return this.ji.getDocuments(t,s).next(a=>this.indexManager.getMinOffset(t,r).next(l=>{const u=this.Xi(n,a);return this.es(n,u,s,l.readTime)?this.Hi(t,$g(n,null,"F")):this.ts(t,u,n,l)}))})))}Ji(t,n,r,i){return wE(n)||i.isEqual(fe.min())?M.resolve(null):this.ji.getDocuments(t,r).next(o=>{const s=this.Xi(n,o);return this.es(n,s,r,i)?M.resolve(null):(el()<=Ie.DEBUG&&Z("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Rs(n)),this.ts(t,s,n,K2(i,-1)).next(a=>a))})}Xi(t,n){let r=new Kt(IR(t));return n.forEach((i,o)=>{Th(t,o)&&(r=r.add(o))}),r}es(t,n,r,i){if(t.limit===null)return!1;if(r.size!==n.size)return!0;const o=t.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Yi(t,n,r){return el()<=Ie.DEBUG&&Z("QueryEngine","Using full collection scan to execute query:",Rs(n)),this.ji.getDocumentsMatchingQuery(t,n,io.min(),r)}ts(t,n,r,i){return this.ji.getDocumentsMatchingQuery(t,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y${constructor(t,n,r,i){this.persistence=t,this.ns=n,this.serializer=i,this.rs=new et(Ce),this.ss=new Va(o=>Zv(o),e_),this.os=new Map,this._s=t.getRemoteDocumentCache(),this.Kr=t.getTargetCache(),this.Ur=t.getBundleCache(),this.us(r)}us(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new s$(this._s,this.mutationQueue,this.documentOverlayCache,this.indexManager),this._s.setIndexManager(this.indexManager),this.ns.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.rs))}}function v$(e,t,n,r){return new y$(e,t,n,r)}async function zR(e,t){const n=ge(e);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.us(t),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let l=ve();for(const u of i){s.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of o){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({cs:u,removedBatchIds:s,addedBatchIds:a}))})})}function _$(e,t){const n=ge(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=t.batch.keys(),o=n._s.newChangeBuffer({trackRemovals:!0});return function(a,l,u,c){const d=u.batch,f=d.keys();let h=M.resolve();return f.forEach(p=>{h=h.next(()=>c.getEntry(l,p)).next(y=>{const _=u.docVersions.get(p);We(_!==null),y.version.compareTo(_)<0&&(d.applyToRemoteDocument(y,u),y.isValidDocument()&&(y.setReadTime(u.commitVersion),c.addEntry(y)))})}),h.next(()=>a.mutationQueue.removeMutationBatch(l,d))}(n,r,t,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=ve();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(t))).next(()=>n.localDocuments.getDocuments(r,i))})}function WR(e){const t=ge(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Kr.getLastRemoteSnapshotVersion(n))}function w$(e,t){const n=ge(e),r=t.snapshotVersion;let i=n.rs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n._s.newChangeBuffer({trackRemovals:!0});i=n.rs;const a=[];t.targetChanges.forEach((c,d)=>{const f=i.get(d);if(!f)return;a.push(n.Kr.removeMatchingKeys(o,c.removedDocuments,d).next(()=>n.Kr.addMatchingKeys(o,c.addedDocuments,d)));let h=f.withSequenceNumber(o.currentSequenceNumber);t.targetMismatches.get(d)!==null?h=h.withResumeToken(Yt.EMPTY_BYTE_STRING,fe.min()).withLastLimboFreeSnapshotVersion(fe.min()):c.resumeToken.approximateByteSize()>0&&(h=h.withResumeToken(c.resumeToken,r)),i=i.insert(d,h),function(y,_,g){return y.resumeToken.approximateByteSize()===0||_.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=3e8?!0:g.addedDocuments.size+g.modifiedDocuments.size+g.removedDocuments.size>0}(f,h,c)&&a.push(n.Kr.updateTargetData(o,h))});let l=ai(),u=ve();if(t.documentUpdates.forEach(c=>{t.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,c))}),a.push(E$(o,s,t.documentUpdates).next(c=>{l=c.ls,u=c.hs})),!r.isEqual(fe.min())){const c=n.Kr.getLastRemoteSnapshotVersion(o).next(d=>n.Kr.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(c)}return M.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,l,u)).next(()=>l)}).then(o=>(n.rs=i,o))}function E$(e,t,n){let r=ve(),i=ve();return n.forEach(o=>r=r.add(o)),t.getEntries(e,r).next(o=>{let s=ai();return n.forEach((a,l)=>{const u=o.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(fe.min())?(t.removeEntry(a,l.readTime),s=s.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(t.addEntry(l),s=s.insert(a,l)):Z("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{ls:s,hs:i}})}function I$(e,t){const n=ge(e);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(t===void 0&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,t)))}function T$(e,t){const n=ge(e);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Kr.getTargetData(r,t).next(o=>o?(i=o,M.resolve(i)):n.Kr.allocateTargetId(r).next(s=>(i=new Oi(t,s,"TargetPurposeListen",r.currentSequenceNumber),n.Kr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.rs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.rs=n.rs.insert(r.targetId,r),n.ss.set(t,r.targetId)),r})}async function Wg(e,t,n){const r=ge(e),i=r.rs.get(t),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!cc(s))throw s;Z("LocalStore",`Failed to update sequence numbers for target ${t}: ${s}`)}r.rs=r.rs.remove(t),r.ss.delete(i.target)}function kE(e,t,n){const r=ge(e);let i=fe.min(),o=ve();return r.persistence.runTransaction("Execute query","readwrite",s=>function(l,u,c){const d=ge(l),f=d.ss.get(c);return f!==void 0?M.resolve(d.rs.get(f)):d.Kr.getTargetData(u,c)}(r,s,kr(t)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Kr.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>r.ns.getDocumentsMatchingQuery(s,t,n?i:fe.min(),n?o:ve())).next(a=>(S$(r,mF(t),a),{documents:a,Ps:o})))}function S$(e,t,n){let r=e.os.get(t)||fe.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),e.os.set(t,r)}class DE{constructor(){this.activeTargetIds=EF()}Rs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Vs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}As(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class b${constructor(){this.ro=new DE,this.io={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,r){}addLocalQueryTarget(t){return this.ro.Rs(t),this.io[t]||"not-current"}updateQueryState(t,n,r){this.io[t]=n}removeLocalQueryTarget(t){this.ro.Vs(t)}isLocalQueryTarget(t){return this.ro.activeTargetIds.has(t)}clearQueryState(t){delete this.io[t]}getAllActiveQueryTargets(){return this.ro.activeTargetIds}isActiveQueryTarget(t){return this.ro.activeTargetIds.has(t)}start(){return this.ro=new DE,Promise.resolve()}handleUserChange(t,n,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R${so(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NE{constructor(){this.oo=()=>this._o(),this.ao=()=>this.uo(),this.co=[],this.lo()}so(t){this.co.push(t)}shutdown(){window.removeEventListener("online",this.oo),window.removeEventListener("offline",this.ao)}lo(){window.addEventListener("online",this.oo),window.addEventListener("offline",this.ao)}_o(){Z("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.co)t(0)}uo(){Z("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.co)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zc=null;function om(){return zc===null?zc=function(){return 268435456+Math.round(2147483648*Math.random())}():zc++,"0x"+zc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A$={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C${constructor(t){this.ho=t.ho,this.Po=t.Po}Io(t){this.To=t}Eo(t){this.Ao=t}onMessage(t){this.Ro=t}close(){this.Po()}send(t){this.ho(t)}Vo(){this.To()}mo(t){this.Ao(t)}fo(t){this.Ro(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $t="WebChannelConnection";class P$ extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=r+"://"+n.host,this.yo=`projects/${i}/databases/${o}`,this.wo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get So(){return!1}bo(n,r,i,o,s){const a=om(),l=this.Do(n,r);Z("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Co(u,o,s),this.vo(n,l,u,i).then(c=>(Z("RestConnection",`Received RPC '${n}' ${a}: `,c),c),c=>{throw ua("RestConnection",`RPC '${n}' ${a} failed with error: `,c,"url: ",l,"request:",i),c})}Fo(n,r,i,o,s,a){return this.bo(n,r,i,o,s)}Co(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+La}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}Do(n,r){const i=A$[n];return`${this.po}/v1/${r}:${i}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}vo(t,n,r,i){const o=om();return new Promise((s,a)=>{const l=new V2;l.setWithCredentials(!0),l.listenOnce(L2.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case rm.NO_ERROR:const c=l.getResponseJson();Z($t,`XHR for RPC '${t}' ${o} received:`,JSON.stringify(c)),s(c);break;case rm.TIMEOUT:Z($t,`RPC '${t}' ${o} timed out`),a(new G(N.DEADLINE_EXCEEDED,"Request time out"));break;case rm.HTTP_ERROR:const d=l.getStatus();if(Z($t,`RPC '${t}' ${o} failed with status:`,d,"response text:",l.getResponseText()),d>0){let f=l.getResponseJson();Array.isArray(f)&&(f=f[0]);const h=f==null?void 0:f.error;if(h&&h.status&&h.message){const p=function(_){const g=_.toLowerCase().replace(/_/g,"-");return Object.values(N).indexOf(g)>=0?g:N.UNKNOWN}(h.status);a(new G(p,h.message))}else a(new G(N.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new G(N.UNAVAILABLE,"Connection failed."));break;default:le()}}finally{Z($t,`RPC '${t}' ${o} completed.`)}});const u=JSON.stringify(i);Z($t,`RPC '${t}' ${o} sending request:`,i),l.send(n,"POST",u,r,15)})}Mo(t,n,r){const i=om(),o=[this.po,"/","google.firestore.v1.Firestore","/",t,"/channel"],s=N2(),a=O2(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Co(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=o.join("");Z($t,`Creating RPC '${t}' stream ${i}: ${c}`,l);const d=s.createWebChannel(c,l);let f=!1,h=!1;const p=new C$({ho:_=>{h?Z($t,`Not sending because RPC '${t}' stream ${i} is closed:`,_):(f||(Z($t,`Opening RPC '${t}' stream ${i} transport.`),d.open(),f=!0),Z($t,`RPC '${t}' stream ${i} sending:`,_),d.send(_))},Po:()=>d.close()}),y=(_,g,m)=>{_.listen(g,w=>{try{m(w)}catch(v){setTimeout(()=>{throw v},0)}})};return y(d,Uc.EventType.OPEN,()=>{h||Z($t,`RPC '${t}' stream ${i} transport opened.`)}),y(d,Uc.EventType.CLOSE,()=>{h||(h=!0,Z($t,`RPC '${t}' stream ${i} transport closed`),p.mo())}),y(d,Uc.EventType.ERROR,_=>{h||(h=!0,ua($t,`RPC '${t}' stream ${i} transport errored:`,_),p.mo(new G(N.UNAVAILABLE,"The operation could not be completed")))}),y(d,Uc.EventType.MESSAGE,_=>{var g;if(!h){const m=_.data[0];We(!!m);const w=m,v=w.error||((g=w[0])===null||g===void 0?void 0:g.error);if(v){Z($t,`RPC '${t}' stream ${i} received error:`,v);const I=v.status;let b=function(O){const k=ct[O];if(k!==void 0)return OR(k)}(I),R=v.message;b===void 0&&(b=N.INTERNAL,R="Unknown error status: "+I+" with message "+v.message),h=!0,p.mo(new G(b,R)),d.close()}else Z($t,`RPC '${t}' stream ${i} received:`,m),p.fo(m)}}),y(a,M2.STAT_EVENT,_=>{_.stat===uE.PROXY?Z($t,`RPC '${t}' stream ${i} detected buffering proxy`):_.stat===uE.NOPROXY&&Z($t,`RPC '${t}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{p.Vo()},0),p}}function sm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ah(e){return new UF(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HR{constructor(t,n,r=1e3,i=1.5,o=6e4){this._i=t,this.timerId=n,this.xo=r,this.Oo=i,this.No=o,this.Bo=0,this.Lo=null,this.ko=Date.now(),this.reset()}reset(){this.Bo=0}qo(){this.Bo=this.No}Qo(t){this.cancel();const n=Math.floor(this.Bo+this.Ko()),r=Math.max(0,Date.now()-this.ko),i=Math.max(0,n-r);i>0&&Z("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Bo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Lo=this._i.enqueueAfterDelay(this.timerId,i,()=>(this.ko=Date.now(),t())),this.Bo*=this.Oo,this.Bo<this.xo&&(this.Bo=this.xo),this.Bo>this.No&&(this.Bo=this.No)}$o(){this.Lo!==null&&(this.Lo.skipDelay(),this.Lo=null)}cancel(){this.Lo!==null&&(this.Lo.cancel(),this.Lo=null)}Ko(){return(Math.random()-.5)*this.Bo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qR{constructor(t,n,r,i,o,s,a,l){this._i=t,this.Uo=r,this.Wo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Go=0,this.zo=null,this.jo=null,this.stream=null,this.Ho=new HR(t,n)}Jo(){return this.state===1||this.state===5||this.Yo()}Yo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Zo()}async stop(){this.Jo()&&await this.close(0)}Xo(){this.state=0,this.Ho.reset()}e_(){this.Yo()&&this.zo===null&&(this.zo=this._i.enqueueAfterDelay(this.Uo,6e4,()=>this.t_()))}n_(t){this.r_(),this.stream.send(t)}async t_(){if(this.Yo())return this.close(0)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}i_(){this.jo&&(this.jo.cancel(),this.jo=null)}async close(t,n){this.r_(),this.i_(),this.Ho.cancel(),this.Go++,t!==4?this.Ho.reset():n&&n.code===N.RESOURCE_EXHAUSTED?(si(n.toString()),si("Using maximum backoff delay to prevent overloading the backend."),this.Ho.qo()):n&&n.code===N.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.s_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Eo(n)}s_(){}auth(){this.state=1;const t=this.o_(this.Go),n=this.Go;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Go===n&&this.__(r,i)},r=>{t(()=>{const i=new G(N.UNKNOWN,"Fetching auth token failed: "+r.message);return this.a_(i)})})}__(t,n){const r=this.o_(this.Go);this.stream=this.u_(t,n),this.stream.Io(()=>{r(()=>(this.state=2,this.jo=this._i.enqueueAfterDelay(this.Wo,1e4,()=>(this.Yo()&&(this.state=3),Promise.resolve())),this.listener.Io()))}),this.stream.Eo(i=>{r(()=>this.a_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Zo(){this.state=5,this.Ho.Qo(async()=>{this.state=0,this.start()})}a_(t){return Z("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}o_(t){return n=>{this._i.enqueueAndForget(()=>this.Go===t?n():(Z("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class x$ extends qR{constructor(t,n,r,i,o,s){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}u_(t,n){return this.connection.Mo("Listen",t,n)}onMessage(t){this.Ho.reset();const n=zF(this.serializer,t),r=function(o){if(!("targetChange"in o))return fe.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?fe.min():s.readTime?Dr(s.readTime):fe.min()}(t);return this.listener.c_(n,r)}l_(t){const n={};n.database=zg(this.serializer),n.addTarget=function(o,s){let a;const l=s.target;if(a=Vg(l)?{documents:qF(o,l)}:{query:GF(o,l)},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=VR(o,s.resumeToken);const u=Ug(o,s.expectedCount);u!==null&&(a.expectedCount=u)}else if(s.snapshotVersion.compareTo(fe.min())>0){a.readTime=of(o,s.snapshotVersion.toTimestamp());const u=Ug(o,s.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,t);const r=QF(this.serializer,t);r&&(n.labels=r),this.n_(n)}h_(t){const n={};n.database=zg(this.serializer),n.removeTarget=t,this.n_(n)}}class k$ extends qR{constructor(t,n,r,i,o,s){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o,this.P_=!1}get I_(){return this.P_}start(){this.P_=!1,this.lastStreamToken=void 0,super.start()}s_(){this.P_&&this.d_([])}u_(t,n){return this.connection.Mo("Write",t,n)}onMessage(t){if(We(!!t.streamToken),this.lastStreamToken=t.streamToken,this.P_){this.Ho.reset();const n=HF(t.writeResults,t.commitTime),r=Dr(t.commitTime);return this.listener.T_(r,n)}return We(!t.writeResults||t.writeResults.length===0),this.P_=!0,this.listener.E_()}A_(){const t={};t.database=zg(this.serializer),this.n_(t)}d_(t){const n={streamToken:this.lastStreamToken,writes:t.map(r=>WF(this.serializer,r))};this.n_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D$ extends class{}{constructor(t,n,r,i){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.R_=!1}V_(){if(this.R_)throw new G(N.FAILED_PRECONDITION,"The client has already been terminated.")}bo(t,n,r){return this.V_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.bo(t,n,r,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new G(N.UNKNOWN,i.toString())})}Fo(t,n,r,i){return this.V_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Fo(t,n,r,o,s,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new G(N.UNKNOWN,o.toString())})}terminate(){this.R_=!0}}class N${constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.f_=0,this.g_=null,this.p_=!0}y_(){this.f_===0&&(this.w_("Unknown"),this.g_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.g_=null,this.S_("Backend didn't respond within 10 seconds."),this.w_("Offline"),Promise.resolve())))}b_(t){this.state==="Online"?this.w_("Unknown"):(this.f_++,this.f_>=1&&(this.D_(),this.S_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.w_("Offline")))}set(t){this.D_(),this.f_=0,t==="Online"&&(this.p_=!1),this.w_(t)}w_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}S_(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.p_?(si(n),this.p_=!1):Z("OnlineStateTracker",n)}D_(){this.g_!==null&&(this.g_.cancel(),this.g_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O${constructor(t,n,r,i,o){this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.C_=[],this.v_=new Map,this.F_=new Set,this.M_=[],this.x_=o,this.x_.so(s=>{r.enqueueAndForget(async()=>{ps(this)&&(Z("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=ge(l);u.F_.add(4),await hc(u),u.O_.set("Unknown"),u.F_.delete(4),await Ch(u)}(this))})}),this.O_=new N$(r,i)}}async function Ch(e){if(ps(e))for(const t of e.M_)await t(!0)}async function hc(e){for(const t of e.M_)await t(!1)}function GR(e,t){const n=ge(e);n.v_.has(t.targetId)||(n.v_.set(t.targetId,t),f_(n)?d_(n):Fa(n).Yo()&&c_(n,t))}function KR(e,t){const n=ge(e),r=Fa(n);n.v_.delete(t),r.Yo()&&QR(n,t),n.v_.size===0&&(r.Yo()?r.e_():ps(n)&&n.O_.set("Unknown"))}function c_(e,t){if(e.N_.Le(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(fe.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Fa(e).l_(t)}function QR(e,t){e.N_.Le(t),Fa(e).h_(t)}function d_(e){e.N_=new MF({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),lt:t=>e.v_.get(t)||null,st:()=>e.datastore.serializer.databaseId}),Fa(e).start(),e.O_.y_()}function f_(e){return ps(e)&&!Fa(e).Jo()&&e.v_.size>0}function ps(e){return ge(e).F_.size===0}function YR(e){e.N_=void 0}async function L$(e){e.v_.forEach((t,n)=>{c_(e,t)})}async function M$(e,t){YR(e),f_(e)?(e.O_.b_(t),d_(e)):e.O_.set("Unknown")}async function V$(e,t,n){if(e.O_.set("Online"),t instanceof MR&&t.state===2&&t.cause)try{await async function(i,o){const s=o.cause;for(const a of o.targetIds)i.v_.has(a)&&(await i.remoteSyncer.rejectListen(a,s),i.v_.delete(a),i.N_.removeTarget(a))}(e,t)}catch(r){Z("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),await sf(e,r)}else if(t instanceof Ed?e.N_.Ge(t):t instanceof LR?e.N_.Xe(t):e.N_.He(t),!n.isEqual(fe.min()))try{const r=await WR(e.localStore);n.compareTo(r)>=0&&await function(o,s){const a=o.N_._t(s);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=o.v_.get(u);c&&o.v_.set(u,c.withResumeToken(l.resumeToken,s))}}),a.targetMismatches.forEach((l,u)=>{const c=o.v_.get(l);if(!c)return;o.v_.set(l,c.withResumeToken(Yt.EMPTY_BYTE_STRING,c.snapshotVersion)),QR(o,l);const d=new Oi(c.target,l,u,c.sequenceNumber);c_(o,d)}),o.remoteSyncer.applyRemoteEvent(a)}(e,n)}catch(r){Z("RemoteStore","Failed to raise snapshot:",r),await sf(e,r)}}async function sf(e,t,n){if(!cc(t))throw t;e.F_.add(1),await hc(e),e.O_.set("Offline"),n||(n=()=>WR(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{Z("RemoteStore","Retrying IndexedDB access"),await n(),e.F_.delete(1),await Ch(e)})}function XR(e,t){return t().catch(n=>sf(e,n,t))}async function Ph(e){const t=ge(e),n=so(t);let r=t.C_.length>0?t.C_[t.C_.length-1].batchId:-1;for(;F$(t);)try{const i=await I$(t.localStore,r);if(i===null){t.C_.length===0&&n.e_();break}r=i.batchId,$$(t,i)}catch(i){await sf(t,i)}JR(t)&&ZR(t)}function F$(e){return ps(e)&&e.C_.length<10}function $$(e,t){e.C_.push(t);const n=so(e);n.Yo()&&n.I_&&n.d_(t.mutations)}function JR(e){return ps(e)&&!so(e).Jo()&&e.C_.length>0}function ZR(e){so(e).start()}async function U$(e){so(e).A_()}async function B$(e){const t=so(e);for(const n of e.C_)t.d_(n.mutations)}async function j$(e,t,n){const r=e.C_.shift(),i=i_.from(r,t,n);await XR(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await Ph(e)}async function z$(e,t){t&&so(e).I_&&await async function(r,i){if(function(s){return NF(s)&&s!==N.ABORTED}(i.code)){const o=r.C_.shift();so(r).Xo(),await XR(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await Ph(r)}}(e,t),JR(e)&&ZR(e)}async function OE(e,t){const n=ge(e);n.asyncQueue.verifyOperationInProgress(),Z("RemoteStore","RemoteStore received new credentials");const r=ps(n);n.F_.add(3),await hc(n),r&&n.O_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.F_.delete(3),await Ch(n)}async function W$(e,t){const n=ge(e);t?(n.F_.delete(2),await Ch(n)):t||(n.F_.add(2),await hc(n),n.O_.set("Unknown"))}function Fa(e){return e.B_||(e.B_=function(n,r,i){const o=ge(n);return o.V_(),new x$(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(e.datastore,e.asyncQueue,{Io:L$.bind(null,e),Eo:M$.bind(null,e),c_:V$.bind(null,e)}),e.M_.push(async t=>{t?(e.B_.Xo(),f_(e)?d_(e):e.O_.set("Unknown")):(await e.B_.stop(),YR(e))})),e.B_}function so(e){return e.L_||(e.L_=function(n,r,i){const o=ge(n);return o.V_(),new k$(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(e.datastore,e.asyncQueue,{Io:U$.bind(null,e),Eo:z$.bind(null,e),E_:B$.bind(null,e),T_:j$.bind(null,e)}),e.M_.push(async t=>{t?(e.L_.Xo(),await Ph(e)):(await e.L_.stop(),e.C_.length>0&&(Z("RemoteStore",`Stopping write stream with ${e.C_.length} pending writes`),e.C_=[]))})),e.L_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h_{constructor(t,n,r,i,o){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new ei,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,r,i,o){const s=Date.now()+r,a=new h_(t,n,s,i,o);return a.start(r),a}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new G(N.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function p_(e,t){if(si("AsyncQueue",`${t}: ${e}`),cc(e))return new G(N.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js{constructor(t){this.comparator=t?(n,r)=>t(n,r)||ne.comparator(n.key,r.key):(n,r)=>ne.comparator(n.key,r.key),this.keyedMap=Sl(),this.sortedSet=new et(this.comparator)}static emptySet(t){return new Js(t.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,r)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Js)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const r=new Js;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LE{constructor(){this.k_=new et(ne.comparator)}track(t){const n=t.doc.key,r=this.k_.get(n);r?t.type!==0&&r.type===3?this.k_=this.k_.insert(n,t):t.type===3&&r.type!==1?this.k_=this.k_.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.k_=this.k_.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.k_=this.k_.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.k_=this.k_.remove(n):t.type===1&&r.type===2?this.k_=this.k_.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.k_=this.k_.insert(n,{type:2,doc:t.doc}):le():this.k_=this.k_.insert(n,t)}q_(){const t=[];return this.k_.inorderTraversal((n,r)=>{t.push(r)}),t}}class pa{constructor(t,n,r,i,o,s,a,l,u){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(t,n,r,i,o){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new pa(t,n,Js.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Ih(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H${constructor(){this.Q_=void 0,this.listeners=[]}}class q${constructor(){this.queries=new Va(t=>ER(t),Ih),this.onlineState="Unknown",this.K_=new Set}}async function eA(e,t){const n=ge(e),r=t.query;let i=!1,o=n.queries.get(r);if(o||(i=!0,o=new H$),i)try{o.Q_=await n.onListen(r)}catch(s){const a=p_(s,`Initialization of query '${Rs(t.query)}' failed`);return void t.onError(a)}n.queries.set(r,o),o.listeners.push(t),t.U_(n.onlineState),o.Q_&&t.W_(o.Q_)&&m_(n)}async function tA(e,t){const n=ge(e),r=t.query;let i=!1;const o=n.queries.get(r);if(o){const s=o.listeners.indexOf(t);s>=0&&(o.listeners.splice(s,1),i=o.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function G$(e,t){const n=ge(e);let r=!1;for(const i of t){const o=i.query,s=n.queries.get(o);if(s){for(const a of s.listeners)a.W_(i)&&(r=!0);s.Q_=i}}r&&m_(n)}function K$(e,t,n){const r=ge(e),i=r.queries.get(t);if(i)for(const o of i.listeners)o.onError(n);r.queries.delete(t)}function m_(e){e.K_.forEach(t=>{t.next()})}class nA{constructor(t,n,r){this.query=t,this.G_=n,this.z_=!1,this.j_=null,this.onlineState="Unknown",this.options=r||{}}W_(t){if(!this.options.includeMetadataChanges){const r=[];for(const i of t.docChanges)i.type!==3&&r.push(i);t=new pa(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.z_?this.H_(t)&&(this.G_.next(t),n=!0):this.J_(t,this.onlineState)&&(this.Y_(t),n=!0),this.j_=t,n}onError(t){this.G_.error(t)}U_(t){this.onlineState=t;let n=!1;return this.j_&&!this.z_&&this.J_(this.j_,t)&&(this.Y_(this.j_),n=!0),n}J_(t,n){if(!t.fromCache)return!0;const r=n!=="Offline";return(!this.options.Z_||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}H_(t){if(t.docChanges.length>0)return!0;const n=this.j_&&this.j_.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Y_(t){t=pa.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.z_=!0,this.G_.next(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rA{constructor(t){this.key=t}}class iA{constructor(t){this.key=t}}class Q${constructor(t,n){this.query=t,this.oa=n,this._a=null,this.hasCachedResults=!1,this.current=!1,this.aa=ve(),this.mutatedKeys=ve(),this.ua=IR(t),this.ca=new Js(this.ua)}get la(){return this.oa}ha(t,n){const r=n?n.Pa:new LE,i=n?n.ca:this.ca;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal((c,d)=>{const f=i.get(c),h=Th(this.query,d)?d:null,p=!!f&&this.mutatedKeys.has(f.key),y=!!h&&(h.hasLocalMutations||this.mutatedKeys.has(h.key)&&h.hasCommittedMutations);let _=!1;f&&h?f.data.isEqual(h.data)?p!==y&&(r.track({type:3,doc:h}),_=!0):this.Ia(f,h)||(r.track({type:2,doc:h}),_=!0,(l&&this.ua(h,l)>0||u&&this.ua(h,u)<0)&&(a=!0)):!f&&h?(r.track({type:0,doc:h}),_=!0):f&&!h&&(r.track({type:1,doc:f}),_=!0,(l||u)&&(a=!0)),_&&(h?(s=s.add(h),o=y?o.add(c):o.delete(c)):(s=s.delete(c),o=o.delete(c)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const c=this.query.limitType==="F"?s.last():s.first();s=s.delete(c.key),o=o.delete(c.key),r.track({type:1,doc:c})}return{ca:s,Pa:r,es:a,mutatedKeys:o}}Ia(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,r){const i=this.ca;this.ca=t.ca,this.mutatedKeys=t.mutatedKeys;const o=t.Pa.q_();o.sort((u,c)=>function(f,h){const p=y=>{switch(y){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return le()}};return p(f)-p(h)}(u.type,c.type)||this.ua(u.doc,c.doc)),this.da(r);const s=n?this.Ta():[],a=this.aa.size===0&&this.current?1:0,l=a!==this._a;return this._a=a,o.length!==0||l?{snapshot:new pa(this.query,t.ca,i,o,t.mutatedKeys,a===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ea:s}:{Ea:s}}U_(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({ca:this.ca,Pa:new LE,mutatedKeys:this.mutatedKeys,es:!1},!1)):{Ea:[]}}Aa(t){return!this.oa.has(t)&&!!this.ca.has(t)&&!this.ca.get(t).hasLocalMutations}da(t){t&&(t.addedDocuments.forEach(n=>this.oa=this.oa.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.oa=this.oa.delete(n)),this.current=t.current)}Ta(){if(!this.current)return[];const t=this.aa;this.aa=ve(),this.ca.forEach(r=>{this.Aa(r.key)&&(this.aa=this.aa.add(r.key))});const n=[];return t.forEach(r=>{this.aa.has(r)||n.push(new iA(r))}),this.aa.forEach(r=>{t.has(r)||n.push(new rA(r))}),n}Ra(t){this.oa=t.Ps,this.aa=ve();const n=this.ha(t.documents);return this.applyChanges(n,!0)}Va(){return pa.fromInitialDocuments(this.query,this.ca,this.mutatedKeys,this._a===0,this.hasCachedResults)}}class Y${constructor(t,n,r){this.query=t,this.targetId=n,this.view=r}}class X${constructor(t){this.key=t,this.ma=!1}}class J${constructor(t,n,r,i,o,s){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.fa={},this.ga=new Va(a=>ER(a),Ih),this.pa=new Map,this.ya=new Set,this.wa=new et(ne.comparator),this.Sa=new Map,this.ba=new a_,this.Da={},this.Ca=new Map,this.va=ha.Ln(),this.onlineState="Unknown",this.Fa=void 0}get isPrimaryClient(){return this.Fa===!0}}async function Z$(e,t){const n=uU(e);let r,i;const o=n.ga.get(t);if(o)r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.Va();else{const s=await T$(n.localStore,kr(t)),a=n.sharedClientState.addLocalQueryTarget(s.targetId);r=s.targetId,i=await eU(n,t,r,a==="current",s.resumeToken),n.isPrimaryClient&&GR(n.remoteStore,s)}return i}async function eU(e,t,n,r,i){e.Ma=(d,f,h)=>async function(y,_,g,m){let w=_.view.ha(g);w.es&&(w=await kE(y.localStore,_.query,!1).then(({documents:b})=>_.view.ha(b,w)));const v=m&&m.targetChanges.get(_.targetId),I=_.view.applyChanges(w,y.isPrimaryClient,v);return VE(y,_.targetId,I.Ea),I.snapshot}(e,d,f,h);const o=await kE(e.localStore,t,!0),s=new Q$(t,o.Ps),a=s.ha(o.documents),l=fc.createSynthesizedTargetChangeForCurrentChange(n,r&&e.onlineState!=="Offline",i),u=s.applyChanges(a,e.isPrimaryClient,l);VE(e,n,u.Ea);const c=new Y$(t,n,s);return e.ga.set(t,c),e.pa.has(n)?e.pa.get(n).push(t):e.pa.set(n,[t]),u.snapshot}async function tU(e,t){const n=ge(e),r=n.ga.get(t),i=n.pa.get(r.targetId);if(i.length>1)return n.pa.set(r.targetId,i.filter(o=>!Ih(o,t))),void n.ga.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await Wg(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),KR(n.remoteStore,r.targetId),Hg(n,r.targetId)}).catch(uc)):(Hg(n,r.targetId),await Wg(n.localStore,r.targetId,!0))}async function nU(e,t,n){const r=cU(e);try{const i=await function(s,a){const l=ge(s),u=vt.now(),c=a.reduce((h,p)=>h.add(p.key),ve());let d,f;return l.persistence.runTransaction("Locally write mutations","readwrite",h=>{let p=ai(),y=ve();return l._s.getEntries(h,c).next(_=>{p=_,p.forEach((g,m)=>{m.isValidDocument()||(y=y.add(g))})}).next(()=>l.localDocuments.getOverlayedDocuments(h,p)).next(_=>{d=_;const g=[];for(const m of a){const w=CF(m,d.get(m.key).overlayedDocument);w!=null&&g.push(new go(m.key,w,hR(w.value.mapValue),Gn.exists(!0)))}return l.mutationQueue.addMutationBatch(h,u,g,a)}).next(_=>{f=_;const g=_.applyToLocalDocumentSet(d,y);return l.documentOverlayCache.saveOverlays(h,_.batchId,g)})}).then(()=>({batchId:f.batchId,changes:SR(d)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,l){let u=s.Da[s.currentUser.toKey()];u||(u=new et(Ce)),u=u.insert(a,l),s.Da[s.currentUser.toKey()]=u}(r,i.batchId,n),await pc(r,i.changes),await Ph(r.remoteStore)}catch(i){const o=p_(i,"Failed to persist write");n.reject(o)}}async function oA(e,t){const n=ge(e);try{const r=await w$(n.localStore,t);t.targetChanges.forEach((i,o)=>{const s=n.Sa.get(o);s&&(We(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.ma=!0:i.modifiedDocuments.size>0?We(s.ma):i.removedDocuments.size>0&&(We(s.ma),s.ma=!1))}),await pc(n,r,t)}catch(r){await uc(r)}}function ME(e,t,n){const r=ge(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ga.forEach((o,s)=>{const a=s.view.U_(t);a.snapshot&&i.push(a.snapshot)}),function(s,a){const l=ge(s);l.onlineState=a;let u=!1;l.queries.forEach((c,d)=>{for(const f of d.listeners)f.U_(a)&&(u=!0)}),u&&m_(l)}(r.eventManager,t),i.length&&r.fa.c_(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function rU(e,t,n){const r=ge(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Sa.get(t),o=i&&i.key;if(o){let s=new et(ne.comparator);s=s.insert(o,zt.newNoDocument(o,fe.min()));const a=ve().add(o),l=new Rh(fe.min(),new Map,new et(Ce),s,a);await oA(r,l),r.wa=r.wa.remove(o),r.Sa.delete(t),g_(r)}else await Wg(r.localStore,t,!1).then(()=>Hg(r,t,n)).catch(uc)}async function iU(e,t){const n=ge(e),r=t.batch.batchId;try{const i=await _$(n.localStore,t);aA(n,r,null),sA(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await pc(n,i)}catch(i){await uc(i)}}async function oU(e,t,n){const r=ge(e);try{const i=await function(s,a){const l=ge(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,a).next(d=>(We(d!==null),c=d.keys(),l.mutationQueue.removeMutationBatch(u,d))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(r.localStore,t);aA(r,t,n),sA(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await pc(r,i)}catch(i){await uc(i)}}function sA(e,t){(e.Ca.get(t)||[]).forEach(n=>{n.resolve()}),e.Ca.delete(t)}function aA(e,t,n){const r=ge(e);let i=r.Da[r.currentUser.toKey()];if(i){const o=i.get(t);o&&(n?o.reject(n):o.resolve(),i=i.remove(t)),r.Da[r.currentUser.toKey()]=i}}function Hg(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.pa.get(t))e.ga.delete(r),n&&e.fa.xa(r,n);e.pa.delete(t),e.isPrimaryClient&&e.ba.mr(t).forEach(r=>{e.ba.containsKey(r)||lA(e,r)})}function lA(e,t){e.ya.delete(t.path.canonicalString());const n=e.wa.get(t);n!==null&&(KR(e.remoteStore,n),e.wa=e.wa.remove(t),e.Sa.delete(n),g_(e))}function VE(e,t,n){for(const r of n)r instanceof rA?(e.ba.addReference(r.key,t),sU(e,r)):r instanceof iA?(Z("SyncEngine","Document no longer in limbo: "+r.key),e.ba.removeReference(r.key,t),e.ba.containsKey(r.key)||lA(e,r.key)):le()}function sU(e,t){const n=t.key,r=n.path.canonicalString();e.wa.get(n)||e.ya.has(r)||(Z("SyncEngine","New document in limbo: "+n),e.ya.add(r),g_(e))}function g_(e){for(;e.ya.size>0&&e.wa.size<e.maxConcurrentLimboResolutions;){const t=e.ya.values().next().value;e.ya.delete(t);const n=new ne(Be.fromString(t)),r=e.va.next();e.Sa.set(r,new X$(n)),e.wa=e.wa.insert(n,r),GR(e.remoteStore,new Oi(kr(t_(n.path)),r,"TargetPurposeLimboResolution",Qv.ae))}}async function pc(e,t,n){const r=ge(e),i=[],o=[],s=[];r.ga.isEmpty()||(r.ga.forEach((a,l)=>{s.push(r.Ma(l,t,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,u!=null&&u.fromCache?"not-current":"current"),u){i.push(u);const c=u_.$i(l.targetId,u);o.push(c)}}))}),await Promise.all(s),r.fa.c_(i),await async function(l,u){const c=ge(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>M.forEach(u,f=>M.forEach(f.Qi,h=>c.persistence.referenceDelegate.addReference(d,f.targetId,h)).next(()=>M.forEach(f.Ki,h=>c.persistence.referenceDelegate.removeReference(d,f.targetId,h)))))}catch(d){if(!cc(d))throw d;Z("LocalStore","Failed to update sequence numbers: "+d)}for(const d of u){const f=d.targetId;if(!d.fromCache){const h=c.rs.get(f),p=h.snapshotVersion,y=h.withLastLimboFreeSnapshotVersion(p);c.rs=c.rs.insert(f,y)}}}(r.localStore,o))}async function aU(e,t){const n=ge(e);if(!n.currentUser.isEqual(t)){Z("SyncEngine","User change. New user:",t.toKey());const r=await zR(n.localStore,t);n.currentUser=t,function(o,s){o.Ca.forEach(a=>{a.forEach(l=>{l.reject(new G(N.CANCELLED,s))})}),o.Ca.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await pc(n,r.cs)}}function lU(e,t){const n=ge(e),r=n.Sa.get(t);if(r&&r.ma)return ve().add(r.key);{let i=ve();const o=n.pa.get(t);if(!o)return i;for(const s of o){const a=n.ga.get(s);i=i.unionWith(a.view.la)}return i}}function uU(e){const t=ge(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=oA.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=lU.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=rU.bind(null,t),t.fa.c_=G$.bind(null,t.eventManager),t.fa.xa=K$.bind(null,t.eventManager),t}function cU(e){const t=ge(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=iU.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=oU.bind(null,t),t}class FE{constructor(){this.synchronizeTabs=!1}async initialize(t){this.serializer=Ah(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),await this.persistence.start(),this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore)}createGarbageCollectionScheduler(t,n){return null}createIndexBackfillerScheduler(t,n){return null}createLocalStore(t){return v$(this.persistence,new g$,t.initialUser,this.serializer)}createPersistence(t){return new h$(l_.Jr,this.serializer)}createSharedClientState(t){return new b$}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class dU{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>ME(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=aU.bind(null,this.syncEngine),await W$(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new q$}()}createDatastore(t){const n=Ah(t.databaseInfo.databaseId),r=function(o){return new P$(o)}(t.databaseInfo);return function(o,s,a,l){return new D$(o,s,a,l)}(t.authCredentials,t.appCheckCredentials,r,n)}createRemoteStore(t){return function(r,i,o,s,a){return new O$(r,i,o,s,a)}(this.localStore,this.datastore,t.asyncQueue,n=>ME(this.syncEngine,n,0),function(){return NE.C()?new NE:new R$}())}createSyncEngine(t,n){return function(i,o,s,a,l,u,c){const d=new J$(i,o,s,a,l,u);return c&&(d.Fa=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}terminate(){return async function(n){const r=ge(n);Z("RemoteStore","RemoteStore shutting down."),r.F_.add(5),await hc(r),r.x_.shutdown(),r.O_.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uA{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Ba(this.observer.next,t)}error(t){this.observer.error?this.Ba(this.observer.error,t):si("Uncaught Error in snapshot listener:",t.toString())}La(){this.muted=!0}Ba(t,n){this.muted||setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fU{constructor(t,n,r,i){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=jt.UNAUTHENTICATED,this.clientId=cR.V(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async o=>{Z("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(Z("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new G(N.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const t=new ei;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const r=p_(n,"Failed to shutdown persistence");t.reject(r)}}),t.promise}}async function am(e,t){e.asyncQueue.verifyOperationInProgress(),Z("FirestoreClient","Initializing OfflineComponentProvider");const n=await e.getConfiguration();await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async i=>{r.isEqual(i)||(await zR(t.localStore,i),r=i)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function $E(e,t){e.asyncQueue.verifyOperationInProgress();const n=await pU(e);Z("FirestoreClient","Initializing OnlineComponentProvider");const r=await e.getConfiguration();await t.initialize(n,r),e.setCredentialChangeListener(i=>OE(t.remoteStore,i)),e.setAppCheckTokenChangeListener((i,o)=>OE(t.remoteStore,o)),e._onlineComponents=t}function hU(e){return e.name==="FirebaseError"?e.code===N.FAILED_PRECONDITION||e.code===N.UNIMPLEMENTED:!(typeof DOMException<"u"&&e instanceof DOMException)||e.code===22||e.code===20||e.code===11}async function pU(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Z("FirestoreClient","Using user provided OfflineComponentProvider");try{await am(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!hU(n))throw n;ua("Error using user provided cache. Falling back to memory cache: "+n),await am(e,new FE)}}else Z("FirestoreClient","Using default OfflineComponentProvider"),await am(e,new FE);return e._offlineComponents}async function cA(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Z("FirestoreClient","Using user provided OnlineComponentProvider"),await $E(e,e._uninitializedComponentsProvider._online)):(Z("FirestoreClient","Using default OnlineComponentProvider"),await $E(e,new dU))),e._onlineComponents}function mU(e){return cA(e).then(t=>t.syncEngine)}async function dA(e){const t=await cA(e),n=t.eventManager;return n.onListen=Z$.bind(null,t.syncEngine),n.onUnlisten=tU.bind(null,t.syncEngine),n}function gU(e,t,n={}){const r=new ei;return e.asyncQueue.enqueueAndForget(async()=>function(o,s,a,l,u){const c=new uA({next:f=>{s.enqueueAndForget(()=>tA(o,d));const h=f.docs.has(a);!h&&f.fromCache?u.reject(new G(N.UNAVAILABLE,"Failed to get document because the client is offline.")):h&&f.fromCache&&l&&l.source==="server"?u.reject(new G(N.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(f)},error:f=>u.reject(f)}),d=new nA(t_(a.path),c,{includeMetadataChanges:!0,Z_:!0});return eA(o,d)}(await dA(e),e.asyncQueue,t,n,r)),r.promise}function yU(e,t,n={}){const r=new ei;return e.asyncQueue.enqueueAndForget(async()=>function(o,s,a,l,u){const c=new uA({next:f=>{s.enqueueAndForget(()=>tA(o,d)),f.fromCache&&l.source==="server"?u.reject(new G(N.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(f)},error:f=>u.reject(f)}),d=new nA(a,c,{includeMetadataChanges:!0,Z_:!0});return eA(o,d)}(await dA(e),e.asyncQueue,t,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fA(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hA(e,t,n){if(!n)throw new G(N.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function vU(e,t,n,r){if(t===!0&&r===!0)throw new G(N.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function BE(e){if(!ne.isDocumentKey(e))throw new G(N.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function jE(e){if(ne.isDocumentKey(e))throw new G(N.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function xh(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(r){return r.constructor?r.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":le()}function gr(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new G(N.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=xh(e);throw new G(N.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zE{constructor(t){var n,r;if(t.host===void 0){if(t.ssl!==void 0)throw new G(N.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new G(N.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}vU("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=fA((r=t.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new G(N.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new G(N.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new G(N.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class kh{constructor(t,n,r,i){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new zE({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new G(N.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(t){if(this._settingsFrozen)throw new G(N.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new zE(t),t.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new $2;switch(r.type){case"firstParty":return new z2(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new G(N.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=UE.get(n);r&&(Z("ComponentProvider","Removing Datastore"),UE.delete(n),r.terminate())}(this),Promise.resolve()}}function _U(e,t,n,r={}){var i;const o=(e=gr(e,kh))._getSettings(),s=`${t}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&ua("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=jt.MOCK_USER;else{a=iS(r.mockUserToken,(i=e._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new G(N.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new jt(u)}e._authCredentials=new U2(new uR(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms{constructor(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new ms(this.firestore,t,this._query)}}class ln{constructor(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new zi(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new ln(this.firestore,t,this._key)}}class zi extends ms{constructor(t,n,r){super(t,n,t_(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new ln(this.firestore,null,new ne(t))}withConverter(t){return new zi(this.firestore,t,this._path)}}function pA(e,t,...n){if(e=Qe(e),hA("collection","path",t),e instanceof kh){const r=Be.fromString(t,...n);return jE(r),new zi(e,null,r)}{if(!(e instanceof ln||e instanceof zi))throw new G(N.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(Be.fromString(t,...n));return jE(r),new zi(e.firestore,null,r)}}function Vr(e,t,...n){if(e=Qe(e),arguments.length===1&&(t=cR.V()),hA("doc","path",t),e instanceof kh){const r=Be.fromString(t,...n);return BE(r),new ln(e,null,new ne(r))}{if(!(e instanceof ln||e instanceof zi))throw new G(N.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(Be.fromString(t,...n));return BE(r),new ln(e.firestore,e instanceof zi?e.converter:null,new ne(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wU{constructor(){this.Za=Promise.resolve(),this.Xa=[],this.eu=!1,this.tu=[],this.nu=null,this.ru=!1,this.iu=!1,this.su=[],this.Ho=new HR(this,"async_queue_retry"),this.ou=()=>{const n=sm();n&&Z("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Ho.$o()};const t=sm();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.ou)}get isShuttingDown(){return this.eu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this._u(),this.au(t)}enterRestrictedMode(t){if(!this.eu){this.eu=!0,this.iu=t||!1;const n=sm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.ou)}}enqueue(t){if(this._u(),this.eu)return new Promise(()=>{});const n=new ei;return this.au(()=>this.eu&&this.iu?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Xa.push(t),this.uu()))}async uu(){if(this.Xa.length!==0){try{await this.Xa[0](),this.Xa.shift(),this.Ho.reset()}catch(t){if(!cc(t))throw t;Z("AsyncQueue","Operation failed with retryable error: "+t)}this.Xa.length>0&&this.Ho.Qo(()=>this.uu())}}au(t){const n=this.Za.then(()=>(this.ru=!0,t().catch(r=>{this.nu=r,this.ru=!1;const i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw si("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.ru=!1,r))));return this.Za=n,n}enqueueAfterDelay(t,n,r){this._u(),this.su.indexOf(t)>-1&&(n=0);const i=h_.createAndSchedule(this,t,n,r,o=>this.cu(o));return this.tu.push(i),i}_u(){this.nu&&le()}verifyOperationInProgress(){}async lu(){let t;do t=this.Za,await t;while(t!==this.Za)}hu(t){for(const n of this.tu)if(n.timerId===t)return!0;return!1}Pu(t){return this.lu().then(()=>{this.tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tu)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.lu()})}Iu(t){this.su.push(t)}cu(t){const n=this.tu.indexOf(t);this.tu.splice(n,1)}}class gs extends kh{constructor(t,n,r,i){super(t,n,r,i),this.type="firestore",this._queue=function(){return new wU}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||mA(this),this._firestoreClient.terminate()}}function EU(e,t){const n=typeof e=="object"?e:dv(),r=typeof e=="string"?e:t||"(default)",i=eh(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=tS("firestore");o&&_U(i,...o)}return i}function y_(e){return e._firestoreClient||mA(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function mA(e){var t,n,r;const i=e._freezeSettings(),o=function(a,l,u,c){return new tF(a,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,fA(c.experimentalLongPollingOptions),c.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new fU(e._authCredentials,e._appCheckCredentials,e._queue,o),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{constructor(t){this._byteString=t}static fromBase64String(t){try{return new ma(Yt.fromBase64String(t))}catch(n){throw new G(N.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new ma(Yt.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dh{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new G(N.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ht(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v_{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new G(N.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new G(N.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Ce(this._lat,t._lat)||Ce(this._long,t._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IU=/^__.*__$/;class TU{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return this.fieldMask!==null?new go(t,this.data,this.fieldMask,n,this.fieldTransforms):new dc(t,this.data,n,this.fieldTransforms)}}class gA{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return new go(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function yA(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw le()}}class w_{constructor(t,n,r,i,o,s){this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.du(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Tu(){return this.settings.Tu}Eu(t){return new w_(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Au(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.Eu({path:r,Ru:!1});return i.Vu(t),i}mu(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.Eu({path:r,Ru:!1});return i.du(),i}fu(t){return this.Eu({path:void 0,Ru:!0})}gu(t){return af(t,this.settings.methodName,this.settings.pu||!1,this.path,this.settings.yu)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}du(){if(this.path)for(let t=0;t<this.path.length;t++)this.Vu(this.path.get(t))}Vu(t){if(t.length===0)throw this.gu("Document fields must not be empty");if(yA(this.Tu)&&IU.test(t))throw this.gu('Document fields cannot begin and end with "__"')}}class SU{constructor(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||Ah(t)}wu(t,n,r,i=!1){return new w_({Tu:t,methodName:n,yu:r,path:Ht.emptyPath(),Ru:!1,pu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Nh(e){const t=e._freezeSettings(),n=Ah(e._databaseId);return new SU(e._databaseId,!!t.ignoreUndefinedProperties,n)}function vA(e,t,n,r,i,o={}){const s=e.wu(o.merge||o.mergeFields?2:0,t,n,i);E_("Data must be an object, but it was:",s,r);const a=_A(r,s);let l,u;if(o.merge)l=new Tn(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){const c=[];for(const d of o.mergeFields){const f=qg(t,d,n);if(!s.contains(f))throw new G(N.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);EA(c,f)||c.push(f)}l=new Tn(c),u=s.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,u=s.fieldTransforms;return new TU(new pn(a),l,u)}class Oh extends v_{_toFieldTransform(t){if(t.Tu!==2)throw t.Tu===1?t.gu(`${this._methodName}() can only appear at the top level of your update data`):t.gu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Oh}}function bU(e,t,n,r){const i=e.wu(1,t,n);E_("Data must be an object, but it was:",i,r);const o=[],s=pn.empty();hs(r,(l,u)=>{const c=I_(t,l,n);u=Qe(u);const d=i.mu(c);if(u instanceof Oh)o.push(c);else{const f=mc(u,d);f!=null&&(o.push(c),s.set(c,f))}});const a=new Tn(o);return new gA(s,a,i.fieldTransforms)}function RU(e,t,n,r,i,o){const s=e.wu(1,t,n),a=[qg(t,r,n)],l=[i];if(o.length%2!=0)throw new G(N.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<o.length;f+=2)a.push(qg(t,o[f])),l.push(o[f+1]);const u=[],c=pn.empty();for(let f=a.length-1;f>=0;--f)if(!EA(u,a[f])){const h=a[f];let p=l[f];p=Qe(p);const y=s.mu(h);if(p instanceof Oh)u.push(h);else{const _=mc(p,y);_!=null&&(u.push(h),c.set(h,_))}}const d=new Tn(u);return new gA(c,d,s.fieldTransforms)}function AU(e,t,n,r=!1){return mc(n,e.wu(r?4:3,t))}function mc(e,t){if(wA(e=Qe(e)))return E_("Unsupported field value:",t,e),_A(e,t);if(e instanceof v_)return function(r,i){if(!yA(i.Tu))throw i.gu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.gu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Ru&&t.Tu!==4)throw t.gu("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const a of r){let l=mc(a,i.fu(s));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),s++}return{arrayValue:{values:o}}}(e,t)}return function(r,i){if((r=Qe(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return IF(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=vt.fromDate(r);return{timestampValue:of(i.serializer,o)}}if(r instanceof vt){const o=new vt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:of(i.serializer,o)}}if(r instanceof __)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ma)return{bytesValue:VR(i.serializer,r._byteString)};if(r instanceof ln){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.gu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:s_(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.gu(`Unsupported field value: ${xh(r)}`)}(e,t)}function _A(e,t){const n={};return dR(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):hs(e,(r,i)=>{const o=mc(i,t.Au(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function wA(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof vt||e instanceof __||e instanceof ma||e instanceof ln||e instanceof v_)}function E_(e,t,n){if(!wA(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=xh(n);throw r==="an object"?t.gu(e+" a custom object"):t.gu(e+" "+r)}}function qg(e,t,n){if((t=Qe(t))instanceof Dh)return t._internalPath;if(typeof t=="string")return I_(e,t);throw af("Field path arguments must be of type string or ",e,!1,void 0,n)}const CU=new RegExp("[~\\*/\\[\\]]");function I_(e,t,n){if(t.search(CU)>=0)throw af(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new Dh(...t.split("."))._internalPath}catch{throw af(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function af(e,t,n,r,i){const o=r&&!r.isEmpty(),s=i!==void 0;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new G(N.INVALID_ARGUMENT,a+e+l)}function EA(e,t){return e.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IA{constructor(t,n,r,i,o){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new ln(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new PU(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(T_("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class PU extends IA{data(){return super.data()}}function T_(e,t){return typeof t=="string"?I_(e,t):t instanceof Dh?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xU(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new G(N.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class S_{}class TA extends S_{}function kU(e,t,...n){let r=[];t instanceof S_&&r.push(t),r=r.concat(n),function(o){const s=o.filter(l=>l instanceof R_).length,a=o.filter(l=>l instanceof b_).length;if(s>1||s>0&&a>0)throw new G(N.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)e=i._apply(e);return e}class b_ extends TA{constructor(t,n,r){super(),this._field=t,this._op=n,this._value=r,this.type="where"}static _create(t,n,r){return new b_(t,n,r)}_apply(t){const n=this._parse(t);return SA(t._query,n),new ms(t.firestore,t.converter,Fg(t._query,n))}_parse(t){const n=Nh(t.firestore);return function(o,s,a,l,u,c,d){let f;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new G(N.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){HE(d,c);const h=[];for(const p of d)h.push(WE(l,o,p));f={arrayValue:{values:h}}}else f=WE(l,o,d)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||HE(d,c),f=AU(a,s,d,c==="in"||c==="not-in");return ht.create(u,c,f)}(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}class R_ extends S_{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new R_(t,n)}_parse(t){const n=this._queryConstraints.map(r=>r._parse(t)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:mr.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:(function(i,o){let s=i;const a=o.getFlattenedFilters();for(const l of a)SA(s,l),s=Fg(s,l)}(t._query,n),new ms(t.firestore,t.converter,Fg(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class A_ extends TA{constructor(t,n){super(),this._field=t,this._direction=n,this.type="orderBy"}static _create(t,n){return new A_(t,n)}_apply(t){const n=function(i,o,s){if(i.startAt!==null)throw new G(N.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new G(N.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const a=new Xs(o,s);return function(u,c){if(n_(u)===null){const d=Eh(u);d!==null&&bA(u,d,c.field)}}(i,a),a}(t._query,this._field,this._direction);return new ms(t.firestore,t.converter,function(i,o){const s=i.explicitOrderBy.concat([o]);return new Ma(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(t._query,n))}}function DU(e,t="asc"){const n=t,r=T_("orderBy",e);return A_._create(r,n)}function WE(e,t,n){if(typeof(n=Qe(n))=="string"){if(n==="")throw new G(N.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!wR(t)&&n.indexOf("/")!==-1)throw new G(N.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(Be.fromString(n));if(!ne.isDocumentKey(r))throw new G(N.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return pE(e,new ne(r))}if(n instanceof ln)return pE(e,n._key);throw new G(N.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${xh(n)}.`)}function HE(e,t){if(!Array.isArray(e)||e.length===0)throw new G(N.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function SA(e,t){if(t.isInequality()){const r=Eh(e),i=t.field;if(r!==null&&!r.isEqual(i))throw new G(N.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const o=n_(e);o!==null&&bA(e,i,o)}const n=function(i,o){for(const s of i)for(const a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(e.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(n!==null)throw n===t.op?new G(N.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new G(N.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}function bA(e,t,n){if(!n.isEqual(t))throw new G(N.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class NU{convertValue(t,n="none"){switch(es(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ft(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Zo(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 10:return this.convertObject(t.mapValue,n);default:throw le()}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const r={};return hs(t,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertGeoPoint(t){return new __(ft(t.latitude),ft(t.longitude))}convertArray(t,n){return(t.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(t,n){switch(n){case"previous":const r=Xv(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(hu(t));default:return null}}convertTimestamp(t){const n=oo(t);return new vt(n.seconds,n.nanos)}convertDocumentKey(t,n){const r=Be.fromString(t);We(jR(r));const i=new pu(r.get(1),r.get(3)),o=new ne(r.popFirst(5));return i.isEqual(n)||si(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RA(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rl{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class AA extends IA{constructor(t,n,r,i,o,s){super(t,n,r,i,s),this._firestore=t,this._firestoreImpl=t,this.metadata=o}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Id(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const r=this._document.data.field(T_("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Id extends AA{data(t={}){return super.data(t)}}class OU{constructor(t,n,r,i){this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new Rl(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(r=>{t.call(n,new Id(this._firestore,this._userDataWriter,r.key,r,new Rl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new G(N.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{const l=new Id(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Rl(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{const l=new Id(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Rl(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return a.type!==0&&(u=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),c=s.indexOf(a.doc.key)),{type:LU(a.type),doc:l,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function LU(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return le()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MU(e){e=gr(e,ln);const t=gr(e.firestore,gs);return gU(y_(t),e._key).then(n=>UU(t,e,n))}class CA extends NU{constructor(t){super(),this.firestore=t}convertBytes(t){return new ma(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new ln(this.firestore,null,n)}}function VU(e){e=gr(e,ms);const t=gr(e.firestore,gs),n=y_(t),r=new CA(t);return xU(e._query),yU(n,e._query).then(i=>new OU(t,r,e,i))}function PA(e,t,n){e=gr(e,ln);const r=gr(e.firestore,gs),i=RA(e.converter,t,n);return Lh(r,[vA(Nh(r),"setDoc",e._key,i,e.converter!==null,n).toMutation(e._key,Gn.none())])}function C_(e,t,n,...r){e=gr(e,ln);const i=gr(e.firestore,gs),o=Nh(i);let s;return s=typeof(t=Qe(t))=="string"||t instanceof Dh?RU(o,"updateDoc",e._key,t,n,r):bU(o,"updateDoc",e._key,t),Lh(i,[s.toMutation(e._key,Gn.exists(!0))])}function FU(e){return Lh(gr(e.firestore,gs),[new r_(e._key,Gn.none())])}function $U(e,t){const n=gr(e.firestore,gs),r=Vr(e),i=RA(e.converter,t);return Lh(n,[vA(Nh(e.firestore),"addDoc",r._key,i,e.converter!==null,{}).toMutation(r._key,Gn.exists(!1))]).then(()=>r)}function Lh(e,t){return function(r,i){const o=new ei;return r.asyncQueue.enqueueAndForget(async()=>nU(await mU(r),i,o)),o.promise}(y_(e),t)}function UU(e,t,n){const r=n.docs.get(t._key),i=new CA(e);return new AA(e,i,t._key,r,new Rl(n.hasPendingWrites,n.fromCache),t.converter)}(function(t,n=!0){(function(i){La=i})(cs),Go(new ro("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),a=new gs(new B2(r.getProvider("auth-internal")),new H2(r.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new G(N.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new pu(u.options.projectId,c)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Cr(cE,"4.2.0",t),Cr(cE,"4.2.0","esm2017")})();const BU={apiKey:"AIzaSyCaX0SRtWa-ecU44jA8e-dalR9kcUN4pdM",authDomain:"link-sharing-183d2.firebaseapp.com",projectId:"link-sharing-183d2",storageBucket:"link-sharing-183d2.appspot.com",messagingSenderId:"286405717194",appId:"1:286405717194:web:b4d2955ffbec62d3329833"},xA=aS(BU),xn=gM(xA),yr=EU(xA),jU=PV();var kA={exports:{}},DA={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ga=E;function zU(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var WU=typeof Object.is=="function"?Object.is:zU,HU=ga.useState,qU=ga.useEffect,GU=ga.useLayoutEffect,KU=ga.useDebugValue;function QU(e,t){var n=t(),r=HU({inst:{value:n,getSnapshot:t}}),i=r[0].inst,o=r[1];return GU(function(){i.value=n,i.getSnapshot=t,lm(i)&&o({inst:i})},[e,n,t]),qU(function(){return lm(i)&&o({inst:i}),e(function(){lm(i)&&o({inst:i})})},[e]),KU(n),n}function lm(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!WU(e,n)}catch{return!0}}function YU(e,t){return t()}var XU=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?YU:QU;DA.useSyncExternalStore=ga.useSyncExternalStore!==void 0?ga.useSyncExternalStore:XU;kA.exports=DA;var NA=kA.exports,OA={exports:{}},LA={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mh=E,JU=NA;function ZU(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var e4=typeof Object.is=="function"?Object.is:ZU,t4=JU.useSyncExternalStore,n4=Mh.useRef,r4=Mh.useEffect,i4=Mh.useMemo,o4=Mh.useDebugValue;LA.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var o=n4(null);if(o.current===null){var s={hasValue:!1,value:null};o.current=s}else s=o.current;o=i4(function(){function l(h){if(!u){if(u=!0,c=h,h=r(h),i!==void 0&&s.hasValue){var p=s.value;if(i(p,h))return d=p}return d=h}if(p=d,e4(c,h))return p;var y=r(h);return i!==void 0&&i(p,y)?p:(c=h,d=y)}var u=!1,c,d,f=n===void 0?null:n;return[function(){return l(t())},f===null?void 0:function(){return l(f())}]},[t,n,r,i]);var a=t4(e,o[0],o[1]);return r4(function(){s.hasValue=!0,s.value=a},[a]),o4(a),a};OA.exports=LA;var s4=OA.exports,MA={exports:{}},Nn={},VA={exports:{}},FA={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(V,J){var ie=V.length;V.push(J);e:for(;0<ie;){var Pe=ie-1>>>1,Le=V[Pe];if(0<i(Le,J))V[Pe]=J,V[ie]=Le,ie=Pe;else break e}}function n(V){return V.length===0?null:V[0]}function r(V){if(V.length===0)return null;var J=V[0],ie=V.pop();if(ie!==J){V[0]=ie;e:for(var Pe=0,Le=V.length,fn=Le>>>1;Pe<fn;){var Re=2*(Pe+1)-1,Jt=V[Re],wt=Re+1,Mn=V[wt];if(0>i(Jt,ie))wt<Le&&0>i(Mn,Jt)?(V[Pe]=Mn,V[wt]=ie,Pe=wt):(V[Pe]=Jt,V[Re]=ie,Pe=Re);else if(wt<Le&&0>i(Mn,ie))V[Pe]=Mn,V[wt]=ie,Pe=wt;else break e}}return J}function i(V,J){var ie=V.sortIndex-J.sortIndex;return ie!==0?ie:V.id-J.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();e.unstable_now=function(){return s.now()-a}}var l=[],u=[],c=1,d=null,f=3,h=!1,p=!1,y=!1,_=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(V){for(var J=n(u);J!==null;){if(J.callback===null)r(u);else if(J.startTime<=V)r(u),J.sortIndex=J.expirationTime,t(l,J);else break;J=n(u)}}function v(V){if(y=!1,w(V),!p)if(n(l)!==null)p=!0,he(I);else{var J=n(u);J!==null&&we(v,J.startTime-V)}}function I(V,J){p=!1,y&&(y=!1,g(A),A=-1),h=!0;var ie=f;try{for(w(J),d=n(l);d!==null&&(!(d.expirationTime>J)||V&&!j());){var Pe=d.callback;if(typeof Pe=="function"){d.callback=null,f=d.priorityLevel;var Le=Pe(d.expirationTime<=J);J=e.unstable_now(),typeof Le=="function"?d.callback=Le:d===n(l)&&r(l),w(J)}else r(l);d=n(l)}if(d!==null)var fn=!0;else{var Re=n(u);Re!==null&&we(v,Re.startTime-J),fn=!1}return fn}finally{d=null,f=ie,h=!1}}var b=!1,R=null,A=-1,O=5,k=-1;function j(){return!(e.unstable_now()-k<O)}function $(){if(R!==null){var V=e.unstable_now();k=V;var J=!0;try{J=R(!0,V)}finally{J?X():(b=!1,R=null)}}else b=!1}var X;if(typeof m=="function")X=function(){m($)};else if(typeof MessageChannel<"u"){var oe=new MessageChannel,pe=oe.port2;oe.port1.onmessage=$,X=function(){pe.postMessage(null)}}else X=function(){_($,0)};function he(V){R=V,b||(b=!0,X())}function we(V,J){A=_(function(){V(e.unstable_now())},J)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(V){V.callback=null},e.unstable_continueExecution=function(){p||h||(p=!0,he(I))},e.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<V?Math.floor(1e3/V):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(V){switch(f){case 1:case 2:case 3:var J=3;break;default:J=f}var ie=f;f=J;try{return V()}finally{f=ie}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(V,J){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var ie=f;f=V;try{return J()}finally{f=ie}},e.unstable_scheduleCallback=function(V,J,ie){var Pe=e.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?Pe+ie:Pe):ie=Pe,V){case 1:var Le=-1;break;case 2:Le=250;break;case 5:Le=1073741823;break;case 4:Le=1e4;break;default:Le=5e3}return Le=ie+Le,V={id:c++,callback:J,priorityLevel:V,startTime:ie,expirationTime:Le,sortIndex:-1},ie>Pe?(V.sortIndex=ie,t(u,V),n(l)===null&&V===n(u)&&(y?(g(A),A=-1):y=!0,we(v,ie-Pe))):(V.sortIndex=Le,t(l,V),p||h||(p=!0,he(I))),V},e.unstable_shouldYield=j,e.unstable_wrapCallback=function(V){var J=f;return function(){var ie=f;f=J;try{return V.apply(this,arguments)}finally{f=ie}}}})(FA);VA.exports=FA;var a4=VA.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $A=E,kn=a4;function F(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var UA=new Set,vu={};function ys(e,t){ya(e,t),ya(e+"Capture",t)}function ya(e,t){for(vu[e]=t,e=0;e<t.length;e++)UA.add(t[e])}var li=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Gg=Object.prototype.hasOwnProperty,l4=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,qE={},GE={};function u4(e){return Gg.call(GE,e)?!0:Gg.call(qE,e)?!1:l4.test(e)?GE[e]=!0:(qE[e]=!0,!1)}function c4(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function d4(e,t,n,r){if(t===null||typeof t>"u"||c4(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function dn(e,t,n,r,i,o,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var Vt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Vt[e]=new dn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Vt[t]=new dn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Vt[e]=new dn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Vt[e]=new dn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Vt[e]=new dn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Vt[e]=new dn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Vt[e]=new dn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Vt[e]=new dn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Vt[e]=new dn(e,5,!1,e.toLowerCase(),null,!1,!1)});var P_=/[\-:]([a-z])/g;function x_(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(P_,x_);Vt[t]=new dn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(P_,x_);Vt[t]=new dn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(P_,x_);Vt[t]=new dn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Vt[e]=new dn(e,1,!1,e.toLowerCase(),null,!1,!1)});Vt.xlinkHref=new dn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Vt[e]=new dn(e,1,!1,e.toLowerCase(),null,!0,!0)});function k_(e,t,n,r){var i=Vt.hasOwnProperty(t)?Vt[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(d4(t,n,i,r)&&(n=null),r||i===null?u4(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var gi=$A.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Wc=Symbol.for("react.element"),Ds=Symbol.for("react.portal"),Ns=Symbol.for("react.fragment"),D_=Symbol.for("react.strict_mode"),Kg=Symbol.for("react.profiler"),BA=Symbol.for("react.provider"),jA=Symbol.for("react.context"),N_=Symbol.for("react.forward_ref"),Qg=Symbol.for("react.suspense"),Yg=Symbol.for("react.suspense_list"),O_=Symbol.for("react.memo"),Si=Symbol.for("react.lazy"),zA=Symbol.for("react.offscreen"),KE=Symbol.iterator;function tl(e){return e===null||typeof e!="object"?null:(e=KE&&e[KE]||e["@@iterator"],typeof e=="function"?e:null)}var tt=Object.assign,um;function Al(e){if(um===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);um=t&&t[1]||""}return`
`+um+e}var cm=!1;function dm(e,t){if(!e||cm)return"";cm=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=s&&0<=a);break}}}finally{cm=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Al(e):""}function f4(e){switch(e.tag){case 5:return Al(e.type);case 16:return Al("Lazy");case 13:return Al("Suspense");case 19:return Al("SuspenseList");case 0:case 2:case 15:return e=dm(e.type,!1),e;case 11:return e=dm(e.type.render,!1),e;case 1:return e=dm(e.type,!0),e;default:return""}}function Xg(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ns:return"Fragment";case Ds:return"Portal";case Kg:return"Profiler";case D_:return"StrictMode";case Qg:return"Suspense";case Yg:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case jA:return(e.displayName||"Context")+".Consumer";case BA:return(e._context.displayName||"Context")+".Provider";case N_:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case O_:return t=e.displayName||null,t!==null?t:Xg(e.type)||"Memo";case Si:t=e._payload,e=e._init;try{return Xg(e(t))}catch{}}return null}function h4(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Xg(t);case 8:return t===D_?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ao(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function WA(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function p4(e){var t=WA(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Hc(e){e._valueTracker||(e._valueTracker=p4(e))}function HA(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=WA(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function lf(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Jg(e,t){var n=t.checked;return tt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function QE(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=ao(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function qA(e,t){t=t.checked,t!=null&&k_(e,"checked",t,!1)}function Zg(e,t){qA(e,t);var n=ao(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?ey(e,t.type,n):t.hasOwnProperty("defaultValue")&&ey(e,t.type,ao(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function YE(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function ey(e,t,n){(t!=="number"||lf(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Cl=Array.isArray;function Zs(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ao(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function ty(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(F(91));return tt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function XE(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(F(92));if(Cl(n)){if(1<n.length)throw Error(F(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:ao(n)}}function GA(e,t){var n=ao(t.value),r=ao(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function JE(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function KA(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ny(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?KA(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var qc,QA=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(qc=qc||document.createElement("div"),qc.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=qc.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function _u(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Ul={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},m4=["Webkit","ms","Moz","O"];Object.keys(Ul).forEach(function(e){m4.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ul[t]=Ul[e]})});function YA(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Ul.hasOwnProperty(e)&&Ul[e]?(""+t).trim():t+"px"}function XA(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=YA(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var g4=tt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ry(e,t){if(t){if(g4[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(F(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(F(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(F(61))}if(t.style!=null&&typeof t.style!="object")throw Error(F(62))}}function iy(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var oy=null;function L_(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var sy=null,ea=null,ta=null;function ZE(e){if(e=vc(e)){if(typeof sy!="function")throw Error(F(280));var t=e.stateNode;t&&(t=Bh(t),sy(e.stateNode,e.type,t))}}function JA(e){ea?ta?ta.push(e):ta=[e]:ea=e}function ZA(){if(ea){var e=ea,t=ta;if(ta=ea=null,ZE(e),t)for(e=0;e<t.length;e++)ZE(t[e])}}function eC(e,t){return e(t)}function tC(){}var fm=!1;function nC(e,t,n){if(fm)return e(t,n);fm=!0;try{return eC(e,t,n)}finally{fm=!1,(ea!==null||ta!==null)&&(tC(),ZA())}}function wu(e,t){var n=e.stateNode;if(n===null)return null;var r=Bh(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(F(231,t,typeof n));return n}var ay=!1;if(li)try{var nl={};Object.defineProperty(nl,"passive",{get:function(){ay=!0}}),window.addEventListener("test",nl,nl),window.removeEventListener("test",nl,nl)}catch{ay=!1}function y4(e,t,n,r,i,o,s,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var Bl=!1,uf=null,cf=!1,ly=null,v4={onError:function(e){Bl=!0,uf=e}};function _4(e,t,n,r,i,o,s,a,l){Bl=!1,uf=null,y4.apply(v4,arguments)}function w4(e,t,n,r,i,o,s,a,l){if(_4.apply(this,arguments),Bl){if(Bl){var u=uf;Bl=!1,uf=null}else throw Error(F(198));cf||(cf=!0,ly=u)}}function vs(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function rC(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function eI(e){if(vs(e)!==e)throw Error(F(188))}function E4(e){var t=e.alternate;if(!t){if(t=vs(e),t===null)throw Error(F(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return eI(i),e;if(o===r)return eI(i),t;o=o.sibling}throw Error(F(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(F(189))}}if(n.alternate!==r)throw Error(F(190))}if(n.tag!==3)throw Error(F(188));return n.stateNode.current===n?e:t}function iC(e){return e=E4(e),e!==null?oC(e):null}function oC(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=oC(e);if(t!==null)return t;e=e.sibling}return null}var sC=kn.unstable_scheduleCallback,tI=kn.unstable_cancelCallback,I4=kn.unstable_shouldYield,T4=kn.unstable_requestPaint,ut=kn.unstable_now,S4=kn.unstable_getCurrentPriorityLevel,M_=kn.unstable_ImmediatePriority,aC=kn.unstable_UserBlockingPriority,df=kn.unstable_NormalPriority,b4=kn.unstable_LowPriority,lC=kn.unstable_IdlePriority,Vh=null,Nr=null;function R4(e){if(Nr&&typeof Nr.onCommitFiberRoot=="function")try{Nr.onCommitFiberRoot(Vh,e,void 0,(e.current.flags&128)===128)}catch{}}var dr=Math.clz32?Math.clz32:P4,A4=Math.log,C4=Math.LN2;function P4(e){return e>>>=0,e===0?32:31-(A4(e)/C4|0)|0}var Gc=64,Kc=4194304;function Pl(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ff(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=Pl(a):(o&=s,o!==0&&(r=Pl(o)))}else s=n&~i,s!==0?r=Pl(s):o!==0&&(r=Pl(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,o=t&-t,i>=o||i===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-dr(t),i=1<<n,r|=e[n],t&=~i;return r}function x4(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function k4(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var s=31-dr(o),a=1<<s,l=i[s];l===-1?(!(a&n)||a&r)&&(i[s]=x4(a,t)):l<=t&&(e.expiredLanes|=a),o&=~a}}function uy(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function uC(){var e=Gc;return Gc<<=1,!(Gc&4194240)&&(Gc=64),e}function hm(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function gc(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-dr(t),e[t]=n}function D4(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-dr(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}function V_(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-dr(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var xe=0;function cC(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var dC,F_,fC,hC,pC,cy=!1,Qc=[],Wi=null,Hi=null,qi=null,Eu=new Map,Iu=new Map,ki=[],N4="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function nI(e,t){switch(e){case"focusin":case"focusout":Wi=null;break;case"dragenter":case"dragleave":Hi=null;break;case"mouseover":case"mouseout":qi=null;break;case"pointerover":case"pointerout":Eu.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Iu.delete(t.pointerId)}}function rl(e,t,n,r,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},t!==null&&(t=vc(t),t!==null&&F_(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function O4(e,t,n,r,i){switch(t){case"focusin":return Wi=rl(Wi,e,t,n,r,i),!0;case"dragenter":return Hi=rl(Hi,e,t,n,r,i),!0;case"mouseover":return qi=rl(qi,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Eu.set(o,rl(Eu.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Iu.set(o,rl(Iu.get(o)||null,e,t,n,r,i)),!0}return!1}function mC(e){var t=Lo(e.target);if(t!==null){var n=vs(t);if(n!==null){if(t=n.tag,t===13){if(t=rC(n),t!==null){e.blockedOn=t,pC(e.priority,function(){fC(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Td(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=dy(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);oy=r,n.target.dispatchEvent(r),oy=null}else return t=vc(n),t!==null&&F_(t),e.blockedOn=n,!1;t.shift()}return!0}function rI(e,t,n){Td(e)&&n.delete(t)}function L4(){cy=!1,Wi!==null&&Td(Wi)&&(Wi=null),Hi!==null&&Td(Hi)&&(Hi=null),qi!==null&&Td(qi)&&(qi=null),Eu.forEach(rI),Iu.forEach(rI)}function il(e,t){e.blockedOn===t&&(e.blockedOn=null,cy||(cy=!0,kn.unstable_scheduleCallback(kn.unstable_NormalPriority,L4)))}function Tu(e){function t(i){return il(i,e)}if(0<Qc.length){il(Qc[0],e);for(var n=1;n<Qc.length;n++){var r=Qc[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Wi!==null&&il(Wi,e),Hi!==null&&il(Hi,e),qi!==null&&il(qi,e),Eu.forEach(t),Iu.forEach(t),n=0;n<ki.length;n++)r=ki[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<ki.length&&(n=ki[0],n.blockedOn===null);)mC(n),n.blockedOn===null&&ki.shift()}var na=gi.ReactCurrentBatchConfig,hf=!0;function M4(e,t,n,r){var i=xe,o=na.transition;na.transition=null;try{xe=1,$_(e,t,n,r)}finally{xe=i,na.transition=o}}function V4(e,t,n,r){var i=xe,o=na.transition;na.transition=null;try{xe=4,$_(e,t,n,r)}finally{xe=i,na.transition=o}}function $_(e,t,n,r){if(hf){var i=dy(e,t,n,r);if(i===null)Tm(e,t,r,pf,n),nI(e,r);else if(O4(i,e,t,n,r))r.stopPropagation();else if(nI(e,r),t&4&&-1<N4.indexOf(e)){for(;i!==null;){var o=vc(i);if(o!==null&&dC(o),o=dy(e,t,n,r),o===null&&Tm(e,t,r,pf,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else Tm(e,t,r,null,n)}}var pf=null;function dy(e,t,n,r){if(pf=null,e=L_(r),e=Lo(e),e!==null)if(t=vs(e),t===null)e=null;else if(n=t.tag,n===13){if(e=rC(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return pf=e,null}function gC(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(S4()){case M_:return 1;case aC:return 4;case df:case b4:return 16;case lC:return 536870912;default:return 16}default:return 16}}var Li=null,U_=null,Sd=null;function yC(){if(Sd)return Sd;var e,t=U_,n=t.length,r,i="value"in Li?Li.value:Li.textContent,o=i.length;for(e=0;e<n&&t[e]===i[e];e++);var s=n-e;for(r=1;r<=s&&t[n-r]===i[o-r];r++);return Sd=i.slice(e,1<r?1-r:void 0)}function bd(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Yc(){return!0}function iI(){return!1}function On(e){function t(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Yc:iI,this.isPropagationStopped=iI,this}return tt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Yc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Yc)},persist:function(){},isPersistent:Yc}),t}var $a={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},B_=On($a),yc=tt({},$a,{view:0,detail:0}),F4=On(yc),pm,mm,ol,Fh=tt({},yc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:j_,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ol&&(ol&&e.type==="mousemove"?(pm=e.screenX-ol.screenX,mm=e.screenY-ol.screenY):mm=pm=0,ol=e),pm)},movementY:function(e){return"movementY"in e?e.movementY:mm}}),oI=On(Fh),$4=tt({},Fh,{dataTransfer:0}),U4=On($4),B4=tt({},yc,{relatedTarget:0}),gm=On(B4),j4=tt({},$a,{animationName:0,elapsedTime:0,pseudoElement:0}),z4=On(j4),W4=tt({},$a,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),H4=On(W4),q4=tt({},$a,{data:0}),sI=On(q4),G4={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},K4={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Q4={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Y4(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Q4[e])?!!t[e]:!1}function j_(){return Y4}var X4=tt({},yc,{key:function(e){if(e.key){var t=G4[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=bd(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?K4[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:j_,charCode:function(e){return e.type==="keypress"?bd(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?bd(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),J4=On(X4),Z4=tt({},Fh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),aI=On(Z4),eB=tt({},yc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:j_}),tB=On(eB),nB=tt({},$a,{propertyName:0,elapsedTime:0,pseudoElement:0}),rB=On(nB),iB=tt({},Fh,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),oB=On(iB),sB=[9,13,27,32],z_=li&&"CompositionEvent"in window,jl=null;li&&"documentMode"in document&&(jl=document.documentMode);var aB=li&&"TextEvent"in window&&!jl,vC=li&&(!z_||jl&&8<jl&&11>=jl),lI=String.fromCharCode(32),uI=!1;function _C(e,t){switch(e){case"keyup":return sB.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function wC(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Os=!1;function lB(e,t){switch(e){case"compositionend":return wC(t);case"keypress":return t.which!==32?null:(uI=!0,lI);case"textInput":return e=t.data,e===lI&&uI?null:e;default:return null}}function uB(e,t){if(Os)return e==="compositionend"||!z_&&_C(e,t)?(e=yC(),Sd=U_=Li=null,Os=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return vC&&t.locale!=="ko"?null:t.data;default:return null}}var cB={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function cI(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!cB[e.type]:t==="textarea"}function EC(e,t,n,r){JA(r),t=mf(t,"onChange"),0<t.length&&(n=new B_("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var zl=null,Su=null;function dB(e){DC(e,0)}function $h(e){var t=Vs(e);if(HA(t))return e}function fB(e,t){if(e==="change")return t}var IC=!1;if(li){var ym;if(li){var vm="oninput"in document;if(!vm){var dI=document.createElement("div");dI.setAttribute("oninput","return;"),vm=typeof dI.oninput=="function"}ym=vm}else ym=!1;IC=ym&&(!document.documentMode||9<document.documentMode)}function fI(){zl&&(zl.detachEvent("onpropertychange",TC),Su=zl=null)}function TC(e){if(e.propertyName==="value"&&$h(Su)){var t=[];EC(t,Su,e,L_(e)),nC(dB,t)}}function hB(e,t,n){e==="focusin"?(fI(),zl=t,Su=n,zl.attachEvent("onpropertychange",TC)):e==="focusout"&&fI()}function pB(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return $h(Su)}function mB(e,t){if(e==="click")return $h(t)}function gB(e,t){if(e==="input"||e==="change")return $h(t)}function yB(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var vr=typeof Object.is=="function"?Object.is:yB;function bu(e,t){if(vr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Gg.call(t,i)||!vr(e[i],t[i]))return!1}return!0}function hI(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function pI(e,t){var n=hI(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=hI(n)}}function SC(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?SC(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function bC(){for(var e=window,t=lf();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=lf(e.document)}return t}function W_(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function vB(e){var t=bC(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&SC(n.ownerDocument.documentElement,n)){if(r!==null&&W_(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=pI(n,o);var s=pI(n,r);i&&s&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var _B=li&&"documentMode"in document&&11>=document.documentMode,Ls=null,fy=null,Wl=null,hy=!1;function mI(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;hy||Ls==null||Ls!==lf(r)||(r=Ls,"selectionStart"in r&&W_(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Wl&&bu(Wl,r)||(Wl=r,r=mf(fy,"onSelect"),0<r.length&&(t=new B_("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Ls)))}function Xc(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ms={animationend:Xc("Animation","AnimationEnd"),animationiteration:Xc("Animation","AnimationIteration"),animationstart:Xc("Animation","AnimationStart"),transitionend:Xc("Transition","TransitionEnd")},_m={},RC={};li&&(RC=document.createElement("div").style,"AnimationEvent"in window||(delete Ms.animationend.animation,delete Ms.animationiteration.animation,delete Ms.animationstart.animation),"TransitionEvent"in window||delete Ms.transitionend.transition);function Uh(e){if(_m[e])return _m[e];if(!Ms[e])return e;var t=Ms[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in RC)return _m[e]=t[n];return e}var AC=Uh("animationend"),CC=Uh("animationiteration"),PC=Uh("animationstart"),xC=Uh("transitionend"),kC=new Map,gI="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function yo(e,t){kC.set(e,t),ys(t,[e])}for(var wm=0;wm<gI.length;wm++){var Em=gI[wm],wB=Em.toLowerCase(),EB=Em[0].toUpperCase()+Em.slice(1);yo(wB,"on"+EB)}yo(AC,"onAnimationEnd");yo(CC,"onAnimationIteration");yo(PC,"onAnimationStart");yo("dblclick","onDoubleClick");yo("focusin","onFocus");yo("focusout","onBlur");yo(xC,"onTransitionEnd");ya("onMouseEnter",["mouseout","mouseover"]);ya("onMouseLeave",["mouseout","mouseover"]);ya("onPointerEnter",["pointerout","pointerover"]);ya("onPointerLeave",["pointerout","pointerover"]);ys("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ys("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ys("onBeforeInput",["compositionend","keypress","textInput","paste"]);ys("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ys("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ys("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),IB=new Set("cancel close invalid load scroll toggle".split(" ").concat(xl));function yI(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,w4(r,t,void 0,e),e.currentTarget=null}function DC(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;yI(i,a,u),o=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,u=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;yI(i,a,u),o=l}}}if(cf)throw e=ly,cf=!1,ly=null,e}function $e(e,t){var n=t[vy];n===void 0&&(n=t[vy]=new Set);var r=e+"__bubble";n.has(r)||(NC(t,e,2,!1),n.add(r))}function Im(e,t,n){var r=0;t&&(r|=4),NC(n,e,r,t)}var Jc="_reactListening"+Math.random().toString(36).slice(2);function Ru(e){if(!e[Jc]){e[Jc]=!0,UA.forEach(function(n){n!=="selectionchange"&&(IB.has(n)||Im(n,!1,e),Im(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Jc]||(t[Jc]=!0,Im("selectionchange",!1,t))}}function NC(e,t,n,r){switch(gC(t)){case 1:var i=M4;break;case 4:i=V4;break;default:i=$_}n=i.bind(null,t,n,e),i=void 0,!ay||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Tm(e,t,n,r,i){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=Lo(a),s===null)return;if(l=s.tag,l===5||l===6){r=o=s;continue e}a=a.parentNode}}r=r.return}nC(function(){var u=o,c=L_(n),d=[];e:{var f=kC.get(e);if(f!==void 0){var h=B_,p=e;switch(e){case"keypress":if(bd(n)===0)break e;case"keydown":case"keyup":h=J4;break;case"focusin":p="focus",h=gm;break;case"focusout":p="blur",h=gm;break;case"beforeblur":case"afterblur":h=gm;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=oI;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=U4;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=tB;break;case AC:case CC:case PC:h=z4;break;case xC:h=rB;break;case"scroll":h=F4;break;case"wheel":h=oB;break;case"copy":case"cut":case"paste":h=H4;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=aI}var y=(t&4)!==0,_=!y&&e==="scroll",g=y?f!==null?f+"Capture":null:f;y=[];for(var m=u,w;m!==null;){w=m;var v=w.stateNode;if(w.tag===5&&v!==null&&(w=v,g!==null&&(v=wu(m,g),v!=null&&y.push(Au(m,v,w)))),_)break;m=m.return}0<y.length&&(f=new h(f,p,null,n,c),d.push({event:f,listeners:y}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",f&&n!==oy&&(p=n.relatedTarget||n.fromElement)&&(Lo(p)||p[ui]))break e;if((h||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,h?(p=n.relatedTarget||n.toElement,h=u,p=p?Lo(p):null,p!==null&&(_=vs(p),p!==_||p.tag!==5&&p.tag!==6)&&(p=null)):(h=null,p=u),h!==p)){if(y=oI,v="onMouseLeave",g="onMouseEnter",m="mouse",(e==="pointerout"||e==="pointerover")&&(y=aI,v="onPointerLeave",g="onPointerEnter",m="pointer"),_=h==null?f:Vs(h),w=p==null?f:Vs(p),f=new y(v,m+"leave",h,n,c),f.target=_,f.relatedTarget=w,v=null,Lo(c)===u&&(y=new y(g,m+"enter",p,n,c),y.target=w,y.relatedTarget=_,v=y),_=v,h&&p)t:{for(y=h,g=p,m=0,w=y;w;w=Ts(w))m++;for(w=0,v=g;v;v=Ts(v))w++;for(;0<m-w;)y=Ts(y),m--;for(;0<w-m;)g=Ts(g),w--;for(;m--;){if(y===g||g!==null&&y===g.alternate)break t;y=Ts(y),g=Ts(g)}y=null}else y=null;h!==null&&vI(d,f,h,y,!1),p!==null&&_!==null&&vI(d,_,p,y,!0)}}e:{if(f=u?Vs(u):window,h=f.nodeName&&f.nodeName.toLowerCase(),h==="select"||h==="input"&&f.type==="file")var I=fB;else if(cI(f))if(IC)I=gB;else{I=pB;var b=hB}else(h=f.nodeName)&&h.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(I=mB);if(I&&(I=I(e,u))){EC(d,I,n,c);break e}b&&b(e,f,u),e==="focusout"&&(b=f._wrapperState)&&b.controlled&&f.type==="number"&&ey(f,"number",f.value)}switch(b=u?Vs(u):window,e){case"focusin":(cI(b)||b.contentEditable==="true")&&(Ls=b,fy=u,Wl=null);break;case"focusout":Wl=fy=Ls=null;break;case"mousedown":hy=!0;break;case"contextmenu":case"mouseup":case"dragend":hy=!1,mI(d,n,c);break;case"selectionchange":if(_B)break;case"keydown":case"keyup":mI(d,n,c)}var R;if(z_)e:{switch(e){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else Os?_C(e,n)&&(A="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(A="onCompositionStart");A&&(vC&&n.locale!=="ko"&&(Os||A!=="onCompositionStart"?A==="onCompositionEnd"&&Os&&(R=yC()):(Li=c,U_="value"in Li?Li.value:Li.textContent,Os=!0)),b=mf(u,A),0<b.length&&(A=new sI(A,e,null,n,c),d.push({event:A,listeners:b}),R?A.data=R:(R=wC(n),R!==null&&(A.data=R)))),(R=aB?lB(e,n):uB(e,n))&&(u=mf(u,"onBeforeInput"),0<u.length&&(c=new sI("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=R))}DC(d,t)})}function Au(e,t,n){return{instance:e,listener:t,currentTarget:n}}function mf(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=wu(e,n),o!=null&&r.unshift(Au(e,o,i)),o=wu(e,t),o!=null&&r.push(Au(e,o,i))),e=e.return}return r}function Ts(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function vI(e,t,n,r,i){for(var o=t._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=wu(n,o),l!=null&&s.unshift(Au(n,l,a))):i||(l=wu(n,o),l!=null&&s.push(Au(n,l,a)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var TB=/\r\n?/g,SB=/\u0000|\uFFFD/g;function _I(e){return(typeof e=="string"?e:""+e).replace(TB,`
`).replace(SB,"")}function Zc(e,t,n){if(t=_I(t),_I(e)!==t&&n)throw Error(F(425))}function gf(){}var py=null,my=null;function gy(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var yy=typeof setTimeout=="function"?setTimeout:void 0,bB=typeof clearTimeout=="function"?clearTimeout:void 0,wI=typeof Promise=="function"?Promise:void 0,RB=typeof queueMicrotask=="function"?queueMicrotask:typeof wI<"u"?function(e){return wI.resolve(null).then(e).catch(AB)}:yy;function AB(e){setTimeout(function(){throw e})}function Sm(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Tu(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Tu(t)}function Gi(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function EI(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Ua=Math.random().toString(36).slice(2),Tr="__reactFiber$"+Ua,Cu="__reactProps$"+Ua,ui="__reactContainer$"+Ua,vy="__reactEvents$"+Ua,CB="__reactListeners$"+Ua,PB="__reactHandles$"+Ua;function Lo(e){var t=e[Tr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ui]||n[Tr]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=EI(e);e!==null;){if(n=e[Tr])return n;e=EI(e)}return t}e=n,n=e.parentNode}return null}function vc(e){return e=e[Tr]||e[ui],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Vs(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(F(33))}function Bh(e){return e[Cu]||null}var _y=[],Fs=-1;function vo(e){return{current:e}}function ze(e){0>Fs||(e.current=_y[Fs],_y[Fs]=null,Fs--)}function Fe(e,t){Fs++,_y[Fs]=e.current,e.current=t}var lo={},Xt=vo(lo),yn=vo(!1),ts=lo;function va(e,t){var n=e.type.contextTypes;if(!n)return lo;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function vn(e){return e=e.childContextTypes,e!=null}function yf(){ze(yn),ze(Xt)}function II(e,t,n){if(Xt.current!==lo)throw Error(F(168));Fe(Xt,t),Fe(yn,n)}function OC(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(F(108,h4(e)||"Unknown",i));return tt({},n,r)}function vf(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||lo,ts=Xt.current,Fe(Xt,e),Fe(yn,yn.current),!0}function TI(e,t,n){var r=e.stateNode;if(!r)throw Error(F(169));n?(e=OC(e,t,ts),r.__reactInternalMemoizedMergedChildContext=e,ze(yn),ze(Xt),Fe(Xt,e)):ze(yn),Fe(yn,n)}var Kr=null,jh=!1,bm=!1;function LC(e){Kr===null?Kr=[e]:Kr.push(e)}function xB(e){jh=!0,LC(e)}function _o(){if(!bm&&Kr!==null){bm=!0;var e=0,t=xe;try{var n=Kr;for(xe=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Kr=null,jh=!1}catch(i){throw Kr!==null&&(Kr=Kr.slice(e+1)),sC(M_,_o),i}finally{xe=t,bm=!1}}return null}var $s=[],Us=0,_f=null,wf=0,Bn=[],jn=0,ns=null,Jr=1,Zr="";function Ao(e,t){$s[Us++]=wf,$s[Us++]=_f,_f=e,wf=t}function MC(e,t,n){Bn[jn++]=Jr,Bn[jn++]=Zr,Bn[jn++]=ns,ns=e;var r=Jr;e=Zr;var i=32-dr(r)-1;r&=~(1<<i),n+=1;var o=32-dr(t)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Jr=1<<32-dr(t)+i|n<<i|r,Zr=o+e}else Jr=1<<o|n<<i|r,Zr=e}function H_(e){e.return!==null&&(Ao(e,1),MC(e,1,0))}function q_(e){for(;e===_f;)_f=$s[--Us],$s[Us]=null,wf=$s[--Us],$s[Us]=null;for(;e===ns;)ns=Bn[--jn],Bn[jn]=null,Zr=Bn[--jn],Bn[jn]=null,Jr=Bn[--jn],Bn[jn]=null}var Rn=null,Sn=null,Ke=!1,ar=null;function VC(e,t){var n=Wn(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function SI(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Rn=e,Sn=Gi(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Rn=e,Sn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=ns!==null?{id:Jr,overflow:Zr}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Wn(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Rn=e,Sn=null,!0):!1;default:return!1}}function wy(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Ey(e){if(Ke){var t=Sn;if(t){var n=t;if(!SI(e,t)){if(wy(e))throw Error(F(418));t=Gi(n.nextSibling);var r=Rn;t&&SI(e,t)?VC(r,n):(e.flags=e.flags&-4097|2,Ke=!1,Rn=e)}}else{if(wy(e))throw Error(F(418));e.flags=e.flags&-4097|2,Ke=!1,Rn=e}}}function bI(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Rn=e}function ed(e){if(e!==Rn)return!1;if(!Ke)return bI(e),Ke=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!gy(e.type,e.memoizedProps)),t&&(t=Sn)){if(wy(e))throw FC(),Error(F(418));for(;t;)VC(e,t),t=Gi(t.nextSibling)}if(bI(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(F(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Sn=Gi(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Sn=null}}else Sn=Rn?Gi(e.stateNode.nextSibling):null;return!0}function FC(){for(var e=Sn;e;)e=Gi(e.nextSibling)}function _a(){Sn=Rn=null,Ke=!1}function G_(e){ar===null?ar=[e]:ar.push(e)}var kB=gi.ReactCurrentBatchConfig;function rr(e,t){if(e&&e.defaultProps){t=tt({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var Ef=vo(null),If=null,Bs=null,K_=null;function Q_(){K_=Bs=If=null}function Y_(e){var t=Ef.current;ze(Ef),e._currentValue=t}function Iy(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ra(e,t){If=e,K_=Bs=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(mn=!0),e.firstContext=null)}function Yn(e){var t=e._currentValue;if(K_!==e)if(e={context:e,memoizedValue:t,next:null},Bs===null){if(If===null)throw Error(F(308));Bs=e,If.dependencies={lanes:0,firstContext:e}}else Bs=Bs.next=e;return t}var Mo=null;function X_(e){Mo===null?Mo=[e]:Mo.push(e)}function $C(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,X_(t)):(n.next=i.next,i.next=n),t.interleaved=n,ci(e,r)}function ci(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var bi=!1;function J_(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function UC(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ti(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ki(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,be&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,ci(e,n)}return i=r.interleaved,i===null?(t.next=t,X_(r)):(t.next=i.next,i.next=t),r.interleaved=t,ci(e,n)}function Rd(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,V_(e,n)}}function RI(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=t:o=o.next=t}else i=o=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Tf(e,t,n,r){var i=e.updateQueue;bi=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,s===null?o=u:s.next=u,s=l;var c=e.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==s&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(o!==null){var d=i.baseState;s=0,c=u=l=null,a=o;do{var f=a.lane,h=a.eventTime;if((r&f)===f){c!==null&&(c=c.next={eventTime:h,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,y=a;switch(f=t,h=n,y.tag){case 1:if(p=y.payload,typeof p=="function"){d=p.call(h,d,f);break e}d=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=y.payload,f=typeof p=="function"?p.call(h,d,f):p,f==null)break e;d=tt({},d,f);break e;case 2:bi=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else h={eventTime:h,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=h,l=d):c=c.next=h,s|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(1);if(c===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,t=i.shared.interleaved,t!==null){i=t;do s|=i.lane,i=i.next;while(i!==t)}else o===null&&(i.shared.lanes=0);is|=s,e.lanes=s,e.memoizedState=d}}function AI(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(F(191,i));i.call(r)}}}var BC=new $A.Component().refs;function Ty(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:tt({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var zh={isMounted:function(e){return(e=e._reactInternals)?vs(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=un(),i=Yi(e),o=ti(r,i);o.payload=t,n!=null&&(o.callback=n),t=Ki(e,o,i),t!==null&&(fr(t,e,i,r),Rd(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=un(),i=Yi(e),o=ti(r,i);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=Ki(e,o,i),t!==null&&(fr(t,e,i,r),Rd(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=un(),r=Yi(e),i=ti(n,r);i.tag=2,t!=null&&(i.callback=t),t=Ki(e,i,r),t!==null&&(fr(t,e,r,n),Rd(t,e,r))}};function CI(e,t,n,r,i,o,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,s):t.prototype&&t.prototype.isPureReactComponent?!bu(n,r)||!bu(i,o):!0}function jC(e,t,n){var r=!1,i=lo,o=t.contextType;return typeof o=="object"&&o!==null?o=Yn(o):(i=vn(t)?ts:Xt.current,r=t.contextTypes,o=(r=r!=null)?va(e,i):lo),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=zh,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function PI(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&zh.enqueueReplaceState(t,t.state,null)}function Sy(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=BC,J_(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=Yn(o):(o=vn(t)?ts:Xt.current,i.context=va(e,o)),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(Ty(e,t,o,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&zh.enqueueReplaceState(i,i.state,null),Tf(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function sl(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(F(309));var r=n.stateNode}if(!r)throw Error(F(147,e));var i=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(s){var a=i.refs;a===BC&&(a=i.refs={}),s===null?delete a[o]:a[o]=s},t._stringRef=o,t)}if(typeof e!="string")throw Error(F(284));if(!n._owner)throw Error(F(290,e))}return e}function td(e,t){throw e=Object.prototype.toString.call(t),Error(F(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function xI(e){var t=e._init;return t(e._payload)}function zC(e){function t(g,m){if(e){var w=g.deletions;w===null?(g.deletions=[m],g.flags|=16):w.push(m)}}function n(g,m){if(!e)return null;for(;m!==null;)t(g,m),m=m.sibling;return null}function r(g,m){for(g=new Map;m!==null;)m.key!==null?g.set(m.key,m):g.set(m.index,m),m=m.sibling;return g}function i(g,m){return g=Xi(g,m),g.index=0,g.sibling=null,g}function o(g,m,w){return g.index=w,e?(w=g.alternate,w!==null?(w=w.index,w<m?(g.flags|=2,m):w):(g.flags|=2,m)):(g.flags|=1048576,m)}function s(g){return e&&g.alternate===null&&(g.flags|=2),g}function a(g,m,w,v){return m===null||m.tag!==6?(m=Dm(w,g.mode,v),m.return=g,m):(m=i(m,w),m.return=g,m)}function l(g,m,w,v){var I=w.type;return I===Ns?c(g,m,w.props.children,v,w.key):m!==null&&(m.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===Si&&xI(I)===m.type)?(v=i(m,w.props),v.ref=sl(g,m,w),v.return=g,v):(v=Dd(w.type,w.key,w.props,null,g.mode,v),v.ref=sl(g,m,w),v.return=g,v)}function u(g,m,w,v){return m===null||m.tag!==4||m.stateNode.containerInfo!==w.containerInfo||m.stateNode.implementation!==w.implementation?(m=Nm(w,g.mode,v),m.return=g,m):(m=i(m,w.children||[]),m.return=g,m)}function c(g,m,w,v,I){return m===null||m.tag!==7?(m=Ho(w,g.mode,v,I),m.return=g,m):(m=i(m,w),m.return=g,m)}function d(g,m,w){if(typeof m=="string"&&m!==""||typeof m=="number")return m=Dm(""+m,g.mode,w),m.return=g,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Wc:return w=Dd(m.type,m.key,m.props,null,g.mode,w),w.ref=sl(g,null,m),w.return=g,w;case Ds:return m=Nm(m,g.mode,w),m.return=g,m;case Si:var v=m._init;return d(g,v(m._payload),w)}if(Cl(m)||tl(m))return m=Ho(m,g.mode,w,null),m.return=g,m;td(g,m)}return null}function f(g,m,w,v){var I=m!==null?m.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return I!==null?null:a(g,m,""+w,v);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Wc:return w.key===I?l(g,m,w,v):null;case Ds:return w.key===I?u(g,m,w,v):null;case Si:return I=w._init,f(g,m,I(w._payload),v)}if(Cl(w)||tl(w))return I!==null?null:c(g,m,w,v,null);td(g,w)}return null}function h(g,m,w,v,I){if(typeof v=="string"&&v!==""||typeof v=="number")return g=g.get(w)||null,a(m,g,""+v,I);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Wc:return g=g.get(v.key===null?w:v.key)||null,l(m,g,v,I);case Ds:return g=g.get(v.key===null?w:v.key)||null,u(m,g,v,I);case Si:var b=v._init;return h(g,m,w,b(v._payload),I)}if(Cl(v)||tl(v))return g=g.get(w)||null,c(m,g,v,I,null);td(m,v)}return null}function p(g,m,w,v){for(var I=null,b=null,R=m,A=m=0,O=null;R!==null&&A<w.length;A++){R.index>A?(O=R,R=null):O=R.sibling;var k=f(g,R,w[A],v);if(k===null){R===null&&(R=O);break}e&&R&&k.alternate===null&&t(g,R),m=o(k,m,A),b===null?I=k:b.sibling=k,b=k,R=O}if(A===w.length)return n(g,R),Ke&&Ao(g,A),I;if(R===null){for(;A<w.length;A++)R=d(g,w[A],v),R!==null&&(m=o(R,m,A),b===null?I=R:b.sibling=R,b=R);return Ke&&Ao(g,A),I}for(R=r(g,R);A<w.length;A++)O=h(R,g,A,w[A],v),O!==null&&(e&&O.alternate!==null&&R.delete(O.key===null?A:O.key),m=o(O,m,A),b===null?I=O:b.sibling=O,b=O);return e&&R.forEach(function(j){return t(g,j)}),Ke&&Ao(g,A),I}function y(g,m,w,v){var I=tl(w);if(typeof I!="function")throw Error(F(150));if(w=I.call(w),w==null)throw Error(F(151));for(var b=I=null,R=m,A=m=0,O=null,k=w.next();R!==null&&!k.done;A++,k=w.next()){R.index>A?(O=R,R=null):O=R.sibling;var j=f(g,R,k.value,v);if(j===null){R===null&&(R=O);break}e&&R&&j.alternate===null&&t(g,R),m=o(j,m,A),b===null?I=j:b.sibling=j,b=j,R=O}if(k.done)return n(g,R),Ke&&Ao(g,A),I;if(R===null){for(;!k.done;A++,k=w.next())k=d(g,k.value,v),k!==null&&(m=o(k,m,A),b===null?I=k:b.sibling=k,b=k);return Ke&&Ao(g,A),I}for(R=r(g,R);!k.done;A++,k=w.next())k=h(R,g,A,k.value,v),k!==null&&(e&&k.alternate!==null&&R.delete(k.key===null?A:k.key),m=o(k,m,A),b===null?I=k:b.sibling=k,b=k);return e&&R.forEach(function($){return t(g,$)}),Ke&&Ao(g,A),I}function _(g,m,w,v){if(typeof w=="object"&&w!==null&&w.type===Ns&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Wc:e:{for(var I=w.key,b=m;b!==null;){if(b.key===I){if(I=w.type,I===Ns){if(b.tag===7){n(g,b.sibling),m=i(b,w.props.children),m.return=g,g=m;break e}}else if(b.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===Si&&xI(I)===b.type){n(g,b.sibling),m=i(b,w.props),m.ref=sl(g,b,w),m.return=g,g=m;break e}n(g,b);break}else t(g,b);b=b.sibling}w.type===Ns?(m=Ho(w.props.children,g.mode,v,w.key),m.return=g,g=m):(v=Dd(w.type,w.key,w.props,null,g.mode,v),v.ref=sl(g,m,w),v.return=g,g=v)}return s(g);case Ds:e:{for(b=w.key;m!==null;){if(m.key===b)if(m.tag===4&&m.stateNode.containerInfo===w.containerInfo&&m.stateNode.implementation===w.implementation){n(g,m.sibling),m=i(m,w.children||[]),m.return=g,g=m;break e}else{n(g,m);break}else t(g,m);m=m.sibling}m=Nm(w,g.mode,v),m.return=g,g=m}return s(g);case Si:return b=w._init,_(g,m,b(w._payload),v)}if(Cl(w))return p(g,m,w,v);if(tl(w))return y(g,m,w,v);td(g,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,m!==null&&m.tag===6?(n(g,m.sibling),m=i(m,w),m.return=g,g=m):(n(g,m),m=Dm(w,g.mode,v),m.return=g,g=m),s(g)):n(g,m)}return _}var wa=zC(!0),WC=zC(!1),_c={},Or=vo(_c),Pu=vo(_c),xu=vo(_c);function Vo(e){if(e===_c)throw Error(F(174));return e}function Z_(e,t){switch(Fe(xu,t),Fe(Pu,e),Fe(Or,_c),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ny(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=ny(t,e)}ze(Or),Fe(Or,t)}function Ea(){ze(Or),ze(Pu),ze(xu)}function HC(e){Vo(xu.current);var t=Vo(Or.current),n=ny(t,e.type);t!==n&&(Fe(Pu,e),Fe(Or,n))}function ew(e){Pu.current===e&&(ze(Or),ze(Pu))}var Je=vo(0);function Sf(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Rm=[];function tw(){for(var e=0;e<Rm.length;e++)Rm[e]._workInProgressVersionPrimary=null;Rm.length=0}var Ad=gi.ReactCurrentDispatcher,Am=gi.ReactCurrentBatchConfig,rs=0,Ze=null,gt=null,It=null,bf=!1,Hl=!1,ku=0,DB=0;function Ut(){throw Error(F(321))}function nw(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!vr(e[n],t[n]))return!1;return!0}function rw(e,t,n,r,i,o){if(rs=o,Ze=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ad.current=e===null||e.memoizedState===null?MB:VB,e=n(r,i),Hl){o=0;do{if(Hl=!1,ku=0,25<=o)throw Error(F(301));o+=1,It=gt=null,t.updateQueue=null,Ad.current=FB,e=n(r,i)}while(Hl)}if(Ad.current=Rf,t=gt!==null&&gt.next!==null,rs=0,It=gt=Ze=null,bf=!1,t)throw Error(F(300));return e}function iw(){var e=ku!==0;return ku=0,e}function Er(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return It===null?Ze.memoizedState=It=e:It=It.next=e,It}function Xn(){if(gt===null){var e=Ze.alternate;e=e!==null?e.memoizedState:null}else e=gt.next;var t=It===null?Ze.memoizedState:It.next;if(t!==null)It=t,gt=e;else{if(e===null)throw Error(F(310));gt=e,e={memoizedState:gt.memoizedState,baseState:gt.baseState,baseQueue:gt.baseQueue,queue:gt.queue,next:null},It===null?Ze.memoizedState=It=e:It=It.next=e}return It}function Du(e,t){return typeof t=="function"?t(e):t}function Cm(e){var t=Xn(),n=t.queue;if(n===null)throw Error(F(311));n.lastRenderedReducer=e;var r=gt,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,l=null,u=o;do{var c=u.lane;if((rs&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=d,s=r):l=l.next=d,Ze.lanes|=c,is|=c}u=u.next}while(u!==null&&u!==o);l===null?s=r:l.next=a,vr(r,t.memoizedState)||(mn=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do o=i.lane,Ze.lanes|=o,is|=o,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Pm(e){var t=Xn(),n=t.queue;if(n===null)throw Error(F(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=e(o,s.action),s=s.next;while(s!==i);vr(o,t.memoizedState)||(mn=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function qC(){}function GC(e,t){var n=Ze,r=Xn(),i=t(),o=!vr(r.memoizedState,i);if(o&&(r.memoizedState=i,mn=!0),r=r.queue,ow(YC.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||It!==null&&It.memoizedState.tag&1){if(n.flags|=2048,Nu(9,QC.bind(null,n,r,i,t),void 0,null),Tt===null)throw Error(F(349));rs&30||KC(n,t,i)}return i}function KC(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Ze.updateQueue,t===null?(t={lastEffect:null,stores:null},Ze.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function QC(e,t,n,r){t.value=n,t.getSnapshot=r,XC(t)&&JC(e)}function YC(e,t,n){return n(function(){XC(t)&&JC(e)})}function XC(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!vr(e,n)}catch{return!0}}function JC(e){var t=ci(e,1);t!==null&&fr(t,e,1,-1)}function kI(e){var t=Er();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Du,lastRenderedState:e},t.queue=e,e=e.dispatch=LB.bind(null,Ze,e),[t.memoizedState,e]}function Nu(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Ze.updateQueue,t===null?(t={lastEffect:null,stores:null},Ze.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function ZC(){return Xn().memoizedState}function Cd(e,t,n,r){var i=Er();Ze.flags|=e,i.memoizedState=Nu(1|t,n,void 0,r===void 0?null:r)}function Wh(e,t,n,r){var i=Xn();r=r===void 0?null:r;var o=void 0;if(gt!==null){var s=gt.memoizedState;if(o=s.destroy,r!==null&&nw(r,s.deps)){i.memoizedState=Nu(t,n,o,r);return}}Ze.flags|=e,i.memoizedState=Nu(1|t,n,o,r)}function DI(e,t){return Cd(8390656,8,e,t)}function ow(e,t){return Wh(2048,8,e,t)}function eP(e,t){return Wh(4,2,e,t)}function tP(e,t){return Wh(4,4,e,t)}function nP(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function rP(e,t,n){return n=n!=null?n.concat([e]):null,Wh(4,4,nP.bind(null,t,e),n)}function sw(){}function iP(e,t){var n=Xn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&nw(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function oP(e,t){var n=Xn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&nw(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function sP(e,t,n){return rs&21?(vr(n,t)||(n=uC(),Ze.lanes|=n,is|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,mn=!0),e.memoizedState=n)}function NB(e,t){var n=xe;xe=n!==0&&4>n?n:4,e(!0);var r=Am.transition;Am.transition={};try{e(!1),t()}finally{xe=n,Am.transition=r}}function aP(){return Xn().memoizedState}function OB(e,t,n){var r=Yi(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},lP(e))uP(t,n);else if(n=$C(e,t,n,r),n!==null){var i=un();fr(n,e,r,i),cP(n,t,r)}}function LB(e,t,n){var r=Yi(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(lP(e))uP(t,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var s=t.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,vr(a,s)){var l=t.interleaved;l===null?(i.next=i,X_(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}n=$C(e,t,i,r),n!==null&&(i=un(),fr(n,e,r,i),cP(n,t,r))}}function lP(e){var t=e.alternate;return e===Ze||t!==null&&t===Ze}function uP(e,t){Hl=bf=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function cP(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,V_(e,n)}}var Rf={readContext:Yn,useCallback:Ut,useContext:Ut,useEffect:Ut,useImperativeHandle:Ut,useInsertionEffect:Ut,useLayoutEffect:Ut,useMemo:Ut,useReducer:Ut,useRef:Ut,useState:Ut,useDebugValue:Ut,useDeferredValue:Ut,useTransition:Ut,useMutableSource:Ut,useSyncExternalStore:Ut,useId:Ut,unstable_isNewReconciler:!1},MB={readContext:Yn,useCallback:function(e,t){return Er().memoizedState=[e,t===void 0?null:t],e},useContext:Yn,useEffect:DI,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Cd(4194308,4,nP.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Cd(4194308,4,e,t)},useInsertionEffect:function(e,t){return Cd(4,2,e,t)},useMemo:function(e,t){var n=Er();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Er();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=OB.bind(null,Ze,e),[r.memoizedState,e]},useRef:function(e){var t=Er();return e={current:e},t.memoizedState=e},useState:kI,useDebugValue:sw,useDeferredValue:function(e){return Er().memoizedState=e},useTransition:function(){var e=kI(!1),t=e[0];return e=NB.bind(null,e[1]),Er().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Ze,i=Er();if(Ke){if(n===void 0)throw Error(F(407));n=n()}else{if(n=t(),Tt===null)throw Error(F(349));rs&30||KC(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,DI(YC.bind(null,r,o,e),[e]),r.flags|=2048,Nu(9,QC.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Er(),t=Tt.identifierPrefix;if(Ke){var n=Zr,r=Jr;n=(r&~(1<<32-dr(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=ku++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=DB++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},VB={readContext:Yn,useCallback:iP,useContext:Yn,useEffect:ow,useImperativeHandle:rP,useInsertionEffect:eP,useLayoutEffect:tP,useMemo:oP,useReducer:Cm,useRef:ZC,useState:function(){return Cm(Du)},useDebugValue:sw,useDeferredValue:function(e){var t=Xn();return sP(t,gt.memoizedState,e)},useTransition:function(){var e=Cm(Du)[0],t=Xn().memoizedState;return[e,t]},useMutableSource:qC,useSyncExternalStore:GC,useId:aP,unstable_isNewReconciler:!1},FB={readContext:Yn,useCallback:iP,useContext:Yn,useEffect:ow,useImperativeHandle:rP,useInsertionEffect:eP,useLayoutEffect:tP,useMemo:oP,useReducer:Pm,useRef:ZC,useState:function(){return Pm(Du)},useDebugValue:sw,useDeferredValue:function(e){var t=Xn();return gt===null?t.memoizedState=e:sP(t,gt.memoizedState,e)},useTransition:function(){var e=Pm(Du)[0],t=Xn().memoizedState;return[e,t]},useMutableSource:qC,useSyncExternalStore:GC,useId:aP,unstable_isNewReconciler:!1};function Ia(e,t){try{var n="",r=t;do n+=f4(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i,digest:null}}function xm(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function by(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var $B=typeof WeakMap=="function"?WeakMap:Map;function dP(e,t,n){n=ti(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Cf||(Cf=!0,Ly=r),by(e,t)},n}function fP(e,t,n){n=ti(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){by(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){by(e,t),typeof r!="function"&&(Qi===null?Qi=new Set([this]):Qi.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),n}function NI(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new $B;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=ZB.bind(null,e,t,n),t.then(e,e))}function OI(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function LI(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=ti(-1,1),t.tag=2,Ki(n,t,1))),n.lanes|=1),e)}var UB=gi.ReactCurrentOwner,mn=!1;function on(e,t,n,r){t.child=e===null?WC(t,null,n,r):wa(t,e.child,n,r)}function MI(e,t,n,r,i){n=n.render;var o=t.ref;return ra(t,i),r=rw(e,t,n,r,o,i),n=iw(),e!==null&&!mn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,di(e,t,i)):(Ke&&n&&H_(t),t.flags|=1,on(e,t,r,i),t.child)}function VI(e,t,n,r,i){if(e===null){var o=n.type;return typeof o=="function"&&!pw(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,hP(e,t,o,r,i)):(e=Dd(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:bu,n(s,r)&&e.ref===t.ref)return di(e,t,i)}return t.flags|=1,e=Xi(o,r),e.ref=t.ref,e.return=t,t.child=e}function hP(e,t,n,r,i){if(e!==null){var o=e.memoizedProps;if(bu(o,r)&&e.ref===t.ref)if(mn=!1,t.pendingProps=r=o,(e.lanes&i)!==0)e.flags&131072&&(mn=!0);else return t.lanes=e.lanes,di(e,t,i)}return Ry(e,t,n,r,i)}function pP(e,t,n){var r=t.pendingProps,i=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Fe(zs,En),En|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Fe(zs,En),En|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Fe(zs,En),En|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,Fe(zs,En),En|=r;return on(e,t,i,n),t.child}function mP(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ry(e,t,n,r,i){var o=vn(n)?ts:Xt.current;return o=va(t,o),ra(t,i),n=rw(e,t,n,r,o,i),r=iw(),e!==null&&!mn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,di(e,t,i)):(Ke&&r&&H_(t),t.flags|=1,on(e,t,n,i),t.child)}function FI(e,t,n,r,i){if(vn(n)){var o=!0;vf(t)}else o=!1;if(ra(t,i),t.stateNode===null)Pd(e,t),jC(t,n,r),Sy(t,n,r,i),r=!0;else if(e===null){var s=t.stateNode,a=t.memoizedProps;s.props=a;var l=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=Yn(u):(u=vn(n)?ts:Xt.current,u=va(t,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof s.getSnapshotBeforeUpdate=="function";d||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==u)&&PI(t,s,r,u),bi=!1;var f=t.memoizedState;s.state=f,Tf(t,r,s,i),l=t.memoizedState,a!==r||f!==l||yn.current||bi?(typeof c=="function"&&(Ty(t,n,c,r),l=t.memoizedState),(a=bi||CI(t,n,a,r,f,l,u))?(d||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=u,r=a):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,UC(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:rr(t.type,a),s.props=u,d=t.pendingProps,f=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=Yn(l):(l=vn(n)?ts:Xt.current,l=va(t,l));var h=n.getDerivedStateFromProps;(c=typeof h=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==d||f!==l)&&PI(t,s,r,l),bi=!1,f=t.memoizedState,s.state=f,Tf(t,r,s,i);var p=t.memoizedState;a!==d||f!==p||yn.current||bi?(typeof h=="function"&&(Ty(t,n,h,r),p=t.memoizedState),(u=bi||CI(t,n,u,r,f,p,l)||!1)?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,p,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,p,l)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),s.props=r,s.state=p,s.context=l,r=u):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return Ay(e,t,n,r,o,i)}function Ay(e,t,n,r,i,o){mP(e,t);var s=(t.flags&128)!==0;if(!r&&!s)return i&&TI(t,n,!1),di(e,t,o);r=t.stateNode,UB.current=t;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&s?(t.child=wa(t,e.child,null,o),t.child=wa(t,null,a,o)):on(e,t,a,o),t.memoizedState=r.state,i&&TI(t,n,!0),t.child}function gP(e){var t=e.stateNode;t.pendingContext?II(e,t.pendingContext,t.pendingContext!==t.context):t.context&&II(e,t.context,!1),Z_(e,t.containerInfo)}function $I(e,t,n,r,i){return _a(),G_(i),t.flags|=256,on(e,t,n,r),t.child}var Cy={dehydrated:null,treeContext:null,retryLane:0};function Py(e){return{baseLanes:e,cachePool:null,transitions:null}}function yP(e,t,n){var r=t.pendingProps,i=Je.current,o=!1,s=(t.flags&128)!==0,a;if((a=s)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Fe(Je,i&1),e===null)return Ey(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=r.children,e=r.fallback,o?(r=t.mode,o=t.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=Gh(s,r,0,null),e=Ho(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Py(n),t.memoizedState=Cy,e):aw(t,s));if(i=e.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return BB(e,t,s,r,a,i,n);if(o){o=r.fallback,s=t.mode,i=e.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=Xi(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=Xi(a,o):(o=Ho(o,s,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,s=e.child.memoizedState,s=s===null?Py(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=e.childLanes&~n,t.memoizedState=Cy,r}return o=e.child,e=o.sibling,r=Xi(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function aw(e,t){return t=Gh({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function nd(e,t,n,r){return r!==null&&G_(r),wa(t,e.child,null,n),e=aw(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function BB(e,t,n,r,i,o,s){if(n)return t.flags&256?(t.flags&=-257,r=xm(Error(F(422))),nd(e,t,s,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Gh({mode:"visible",children:r.children},i,0,null),o=Ho(o,i,s,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&wa(t,e.child,null,s),t.child.memoizedState=Py(s),t.memoizedState=Cy,o);if(!(t.mode&1))return nd(e,t,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(F(419)),r=xm(o,r,void 0),nd(e,t,s,r)}if(a=(s&e.childLanes)!==0,mn||a){if(r=Tt,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,ci(e,i),fr(r,e,i,-1))}return hw(),r=xm(Error(F(421))),nd(e,t,s,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=ej.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,Sn=Gi(i.nextSibling),Rn=t,Ke=!0,ar=null,e!==null&&(Bn[jn++]=Jr,Bn[jn++]=Zr,Bn[jn++]=ns,Jr=e.id,Zr=e.overflow,ns=t),t=aw(t,r.children),t.flags|=4096,t)}function UI(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Iy(e.return,t,n)}function km(e,t,n,r,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function vP(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(on(e,t,r.children,n),r=Je.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&UI(e,n,t);else if(e.tag===19)UI(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Fe(Je,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Sf(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),km(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Sf(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}km(t,!0,n,null,o);break;case"together":km(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Pd(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function di(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),is|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(F(153));if(t.child!==null){for(e=t.child,n=Xi(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Xi(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function jB(e,t,n){switch(t.tag){case 3:gP(t),_a();break;case 5:HC(t);break;case 1:vn(t.type)&&vf(t);break;case 4:Z_(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Fe(Ef,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Fe(Je,Je.current&1),t.flags|=128,null):n&t.child.childLanes?yP(e,t,n):(Fe(Je,Je.current&1),e=di(e,t,n),e!==null?e.sibling:null);Fe(Je,Je.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return vP(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Fe(Je,Je.current),r)break;return null;case 22:case 23:return t.lanes=0,pP(e,t,n)}return di(e,t,n)}var _P,xy,wP,EP;_P=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};xy=function(){};wP=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Vo(Or.current);var o=null;switch(n){case"input":i=Jg(e,i),r=Jg(e,r),o=[];break;case"select":i=tt({},i,{value:void 0}),r=tt({},r,{value:void 0}),o=[];break;case"textarea":i=ty(e,i),r=ty(e,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=gf)}ry(n,r);var s;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(vu.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(vu.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&$e("scroll",e),o||a===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}};EP=function(e,t,n,r){n!==r&&(t.flags|=4)};function al(e,t){if(!Ke)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Bt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function zB(e,t,n){var r=t.pendingProps;switch(q_(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Bt(t),null;case 1:return vn(t.type)&&yf(),Bt(t),null;case 3:return r=t.stateNode,Ea(),ze(yn),ze(Xt),tw(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(ed(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ar!==null&&(Fy(ar),ar=null))),xy(e,t),Bt(t),null;case 5:ew(t);var i=Vo(xu.current);if(n=t.type,e!==null&&t.stateNode!=null)wP(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(F(166));return Bt(t),null}if(e=Vo(Or.current),ed(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[Tr]=t,r[Cu]=o,e=(t.mode&1)!==0,n){case"dialog":$e("cancel",r),$e("close",r);break;case"iframe":case"object":case"embed":$e("load",r);break;case"video":case"audio":for(i=0;i<xl.length;i++)$e(xl[i],r);break;case"source":$e("error",r);break;case"img":case"image":case"link":$e("error",r),$e("load",r);break;case"details":$e("toggle",r);break;case"input":QE(r,o),$e("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},$e("invalid",r);break;case"textarea":XE(r,o),$e("invalid",r)}ry(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&Zc(r.textContent,a,e),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&Zc(r.textContent,a,e),i=["children",""+a]):vu.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&$e("scroll",r)}switch(n){case"input":Hc(r),YE(r,o,!0);break;case"textarea":Hc(r),JE(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=gf)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=KA(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),n==="select"&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[Tr]=t,e[Cu]=r,_P(e,t,!1,!1),t.stateNode=e;e:{switch(s=iy(n,r),n){case"dialog":$e("cancel",e),$e("close",e),i=r;break;case"iframe":case"object":case"embed":$e("load",e),i=r;break;case"video":case"audio":for(i=0;i<xl.length;i++)$e(xl[i],e);i=r;break;case"source":$e("error",e),i=r;break;case"img":case"image":case"link":$e("error",e),$e("load",e),i=r;break;case"details":$e("toggle",e),i=r;break;case"input":QE(e,r),i=Jg(e,r),$e("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=tt({},r,{value:void 0}),$e("invalid",e);break;case"textarea":XE(e,r),i=ty(e,r),$e("invalid",e);break;default:i=r}ry(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?XA(e,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&QA(e,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&_u(e,l):typeof l=="number"&&_u(e,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(vu.hasOwnProperty(o)?l!=null&&o==="onScroll"&&$e("scroll",e):l!=null&&k_(e,o,l,s))}switch(n){case"input":Hc(e),YE(e,r,!1);break;case"textarea":Hc(e),JE(e);break;case"option":r.value!=null&&e.setAttribute("value",""+ao(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?Zs(e,!!r.multiple,o,!1):r.defaultValue!=null&&Zs(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=gf)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Bt(t),null;case 6:if(e&&t.stateNode!=null)EP(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(F(166));if(n=Vo(xu.current),Vo(Or.current),ed(t)){if(r=t.stateNode,n=t.memoizedProps,r[Tr]=t,(o=r.nodeValue!==n)&&(e=Rn,e!==null))switch(e.tag){case 3:Zc(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Zc(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Tr]=t,t.stateNode=r}return Bt(t),null;case 13:if(ze(Je),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ke&&Sn!==null&&t.mode&1&&!(t.flags&128))FC(),_a(),t.flags|=98560,o=!1;else if(o=ed(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(F(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(F(317));o[Tr]=t}else _a(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Bt(t),o=!1}else ar!==null&&(Fy(ar),ar=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Je.current&1?yt===0&&(yt=3):hw())),t.updateQueue!==null&&(t.flags|=4),Bt(t),null);case 4:return Ea(),xy(e,t),e===null&&Ru(t.stateNode.containerInfo),Bt(t),null;case 10:return Y_(t.type._context),Bt(t),null;case 17:return vn(t.type)&&yf(),Bt(t),null;case 19:if(ze(Je),o=t.memoizedState,o===null)return Bt(t),null;if(r=(t.flags&128)!==0,s=o.rendering,s===null)if(r)al(o,!1);else{if(yt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=Sf(e),s!==null){for(t.flags|=128,al(o,!1),r=s.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Fe(Je,Je.current&1|2),t.child}e=e.sibling}o.tail!==null&&ut()>Ta&&(t.flags|=128,r=!0,al(o,!1),t.lanes=4194304)}else{if(!r)if(e=Sf(s),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),al(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!Ke)return Bt(t),null}else 2*ut()-o.renderingStartTime>Ta&&n!==1073741824&&(t.flags|=128,r=!0,al(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(n=o.last,n!==null?n.sibling=s:t.child=s,o.last=s)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=ut(),t.sibling=null,n=Je.current,Fe(Je,r?n&1|2:n&1),t):(Bt(t),null);case 22:case 23:return fw(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?En&1073741824&&(Bt(t),t.subtreeFlags&6&&(t.flags|=8192)):Bt(t),null;case 24:return null;case 25:return null}throw Error(F(156,t.tag))}function WB(e,t){switch(q_(t),t.tag){case 1:return vn(t.type)&&yf(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ea(),ze(yn),ze(Xt),tw(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return ew(t),null;case 13:if(ze(Je),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(F(340));_a()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ze(Je),null;case 4:return Ea(),null;case 10:return Y_(t.type._context),null;case 22:case 23:return fw(),null;case 24:return null;default:return null}}var rd=!1,Wt=!1,HB=typeof WeakSet=="function"?WeakSet:Set,Y=null;function js(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){nt(e,t,r)}else n.current=null}function ky(e,t,n){try{n()}catch(r){nt(e,t,r)}}var BI=!1;function qB(e,t){if(py=hf,e=bC(),W_(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,u=0,c=0,d=e,f=null;t:for(;;){for(var h;d!==n||i!==0&&d.nodeType!==3||(a=s+i),d!==o||r!==0&&d.nodeType!==3||(l=s+r),d.nodeType===3&&(s+=d.nodeValue.length),(h=d.firstChild)!==null;)f=d,d=h;for(;;){if(d===e)break t;if(f===n&&++u===i&&(a=s),f===o&&++c===r&&(l=s),(h=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=h}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(my={focusedElem:e,selectionRange:n},hf=!1,Y=t;Y!==null;)if(t=Y,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Y=e;else for(;Y!==null;){t=Y;try{var p=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var y=p.memoizedProps,_=p.memoizedState,g=t.stateNode,m=g.getSnapshotBeforeUpdate(t.elementType===t.type?y:rr(t.type,y),_);g.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(F(163))}}catch(v){nt(t,t.return,v)}if(e=t.sibling,e!==null){e.return=t.return,Y=e;break}Y=t.return}return p=BI,BI=!1,p}function ql(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,o!==void 0&&ky(t,n,o)}i=i.next}while(i!==r)}}function Hh(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Dy(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function IP(e){var t=e.alternate;t!==null&&(e.alternate=null,IP(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Tr],delete t[Cu],delete t[vy],delete t[CB],delete t[PB])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function TP(e){return e.tag===5||e.tag===3||e.tag===4}function jI(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||TP(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ny(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=gf));else if(r!==4&&(e=e.child,e!==null))for(Ny(e,t,n),e=e.sibling;e!==null;)Ny(e,t,n),e=e.sibling}function Oy(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Oy(e,t,n),e=e.sibling;e!==null;)Oy(e,t,n),e=e.sibling}var xt=null,or=!1;function Ii(e,t,n){for(n=n.child;n!==null;)SP(e,t,n),n=n.sibling}function SP(e,t,n){if(Nr&&typeof Nr.onCommitFiberUnmount=="function")try{Nr.onCommitFiberUnmount(Vh,n)}catch{}switch(n.tag){case 5:Wt||js(n,t);case 6:var r=xt,i=or;xt=null,Ii(e,t,n),xt=r,or=i,xt!==null&&(or?(e=xt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):xt.removeChild(n.stateNode));break;case 18:xt!==null&&(or?(e=xt,n=n.stateNode,e.nodeType===8?Sm(e.parentNode,n):e.nodeType===1&&Sm(e,n),Tu(e)):Sm(xt,n.stateNode));break;case 4:r=xt,i=or,xt=n.stateNode.containerInfo,or=!0,Ii(e,t,n),xt=r,or=i;break;case 0:case 11:case 14:case 15:if(!Wt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&ky(n,t,s),i=i.next}while(i!==r)}Ii(e,t,n);break;case 1:if(!Wt&&(js(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){nt(n,t,a)}Ii(e,t,n);break;case 21:Ii(e,t,n);break;case 22:n.mode&1?(Wt=(r=Wt)||n.memoizedState!==null,Ii(e,t,n),Wt=r):Ii(e,t,n);break;default:Ii(e,t,n)}}function zI(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new HB),t.forEach(function(r){var i=tj.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function nr(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,a=s;e:for(;a!==null;){switch(a.tag){case 5:xt=a.stateNode,or=!1;break e;case 3:xt=a.stateNode.containerInfo,or=!0;break e;case 4:xt=a.stateNode.containerInfo,or=!0;break e}a=a.return}if(xt===null)throw Error(F(160));SP(o,s,i),xt=null,or=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){nt(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)bP(t,e),t=t.sibling}function bP(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(nr(t,e),wr(e),r&4){try{ql(3,e,e.return),Hh(3,e)}catch(y){nt(e,e.return,y)}try{ql(5,e,e.return)}catch(y){nt(e,e.return,y)}}break;case 1:nr(t,e),wr(e),r&512&&n!==null&&js(n,n.return);break;case 5:if(nr(t,e),wr(e),r&512&&n!==null&&js(n,n.return),e.flags&32){var i=e.stateNode;try{_u(i,"")}catch(y){nt(e,e.return,y)}}if(r&4&&(i=e.stateNode,i!=null)){var o=e.memoizedProps,s=n!==null?n.memoizedProps:o,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&qA(i,o),iy(a,s);var u=iy(a,o);for(s=0;s<l.length;s+=2){var c=l[s],d=l[s+1];c==="style"?XA(i,d):c==="dangerouslySetInnerHTML"?QA(i,d):c==="children"?_u(i,d):k_(i,c,d,u)}switch(a){case"input":Zg(i,o);break;case"textarea":GA(i,o);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var h=o.value;h!=null?Zs(i,!!o.multiple,h,!1):f!==!!o.multiple&&(o.defaultValue!=null?Zs(i,!!o.multiple,o.defaultValue,!0):Zs(i,!!o.multiple,o.multiple?[]:"",!1))}i[Cu]=o}catch(y){nt(e,e.return,y)}}break;case 6:if(nr(t,e),wr(e),r&4){if(e.stateNode===null)throw Error(F(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(y){nt(e,e.return,y)}}break;case 3:if(nr(t,e),wr(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Tu(t.containerInfo)}catch(y){nt(e,e.return,y)}break;case 4:nr(t,e),wr(e);break;case 13:nr(t,e),wr(e),i=e.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(cw=ut())),r&4&&zI(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(Wt=(u=Wt)||c,nr(t,e),Wt=u):nr(t,e),wr(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(Y=e,c=e.child;c!==null;){for(d=Y=c;Y!==null;){switch(f=Y,h=f.child,f.tag){case 0:case 11:case 14:case 15:ql(4,f,f.return);break;case 1:js(f,f.return);var p=f.stateNode;if(typeof p.componentWillUnmount=="function"){r=f,n=f.return;try{t=r,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(y){nt(r,n,y)}}break;case 5:js(f,f.return);break;case 22:if(f.memoizedState!==null){HI(d);continue}}h!==null?(h.return=f,Y=h):HI(d)}c=c.sibling}e:for(c=null,d=e;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=d.stateNode,l=d.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=YA("display",s))}catch(y){nt(e,e.return,y)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(y){nt(e,e.return,y)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:nr(t,e),wr(e),r&4&&zI(e);break;case 21:break;default:nr(t,e),wr(e)}}function wr(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(TP(n)){var r=n;break e}n=n.return}throw Error(F(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(_u(i,""),r.flags&=-33);var o=jI(e);Oy(e,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=jI(e);Ny(e,a,s);break;default:throw Error(F(161))}}catch(l){nt(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function GB(e,t,n){Y=e,RP(e)}function RP(e,t,n){for(var r=(e.mode&1)!==0;Y!==null;){var i=Y,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||rd;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Wt;a=rd;var u=Wt;if(rd=s,(Wt=l)&&!u)for(Y=i;Y!==null;)s=Y,l=s.child,s.tag===22&&s.memoizedState!==null?qI(i):l!==null?(l.return=s,Y=l):qI(i);for(;o!==null;)Y=o,RP(o),o=o.sibling;Y=i,rd=a,Wt=u}WI(e)}else i.subtreeFlags&8772&&o!==null?(o.return=i,Y=o):WI(e)}}function WI(e){for(;Y!==null;){var t=Y;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Wt||Hh(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Wt)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:rr(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&AI(t,o,r);break;case 3:var s=t.updateQueue;if(s!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}AI(t,s,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&Tu(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(F(163))}Wt||t.flags&512&&Dy(t)}catch(f){nt(t,t.return,f)}}if(t===e){Y=null;break}if(n=t.sibling,n!==null){n.return=t.return,Y=n;break}Y=t.return}}function HI(e){for(;Y!==null;){var t=Y;if(t===e){Y=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Y=n;break}Y=t.return}}function qI(e){for(;Y!==null;){var t=Y;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Hh(4,t)}catch(l){nt(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(l){nt(t,i,l)}}var o=t.return;try{Dy(t)}catch(l){nt(t,o,l)}break;case 5:var s=t.return;try{Dy(t)}catch(l){nt(t,s,l)}}}catch(l){nt(t,t.return,l)}if(t===e){Y=null;break}var a=t.sibling;if(a!==null){a.return=t.return,Y=a;break}Y=t.return}}var KB=Math.ceil,Af=gi.ReactCurrentDispatcher,lw=gi.ReactCurrentOwner,Kn=gi.ReactCurrentBatchConfig,be=0,Tt=null,pt=null,Mt=0,En=0,zs=vo(0),yt=0,Ou=null,is=0,qh=0,uw=0,Gl=null,hn=null,cw=0,Ta=1/0,Gr=null,Cf=!1,Ly=null,Qi=null,id=!1,Mi=null,Pf=0,Kl=0,My=null,xd=-1,kd=0;function un(){return be&6?ut():xd!==-1?xd:xd=ut()}function Yi(e){return e.mode&1?be&2&&Mt!==0?Mt&-Mt:kB.transition!==null?(kd===0&&(kd=uC()),kd):(e=xe,e!==0||(e=window.event,e=e===void 0?16:gC(e.type)),e):1}function fr(e,t,n,r){if(50<Kl)throw Kl=0,My=null,Error(F(185));gc(e,n,r),(!(be&2)||e!==Tt)&&(e===Tt&&(!(be&2)&&(qh|=n),yt===4&&Di(e,Mt)),_n(e,r),n===1&&be===0&&!(t.mode&1)&&(Ta=ut()+500,jh&&_o()))}function _n(e,t){var n=e.callbackNode;k4(e,t);var r=ff(e,e===Tt?Mt:0);if(r===0)n!==null&&tI(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&tI(n),t===1)e.tag===0?xB(GI.bind(null,e)):LC(GI.bind(null,e)),RB(function(){!(be&6)&&_o()}),n=null;else{switch(cC(r)){case 1:n=M_;break;case 4:n=aC;break;case 16:n=df;break;case 536870912:n=lC;break;default:n=df}n=OP(n,AP.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function AP(e,t){if(xd=-1,kd=0,be&6)throw Error(F(327));var n=e.callbackNode;if(ia()&&e.callbackNode!==n)return null;var r=ff(e,e===Tt?Mt:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=xf(e,r);else{t=r;var i=be;be|=2;var o=PP();(Tt!==e||Mt!==t)&&(Gr=null,Ta=ut()+500,Wo(e,t));do try{XB();break}catch(a){CP(e,a)}while(1);Q_(),Af.current=o,be=i,pt!==null?t=0:(Tt=null,Mt=0,t=yt)}if(t!==0){if(t===2&&(i=uy(e),i!==0&&(r=i,t=Vy(e,i))),t===1)throw n=Ou,Wo(e,0),Di(e,r),_n(e,ut()),n;if(t===6)Di(e,r);else{if(i=e.current.alternate,!(r&30)&&!QB(i)&&(t=xf(e,r),t===2&&(o=uy(e),o!==0&&(r=o,t=Vy(e,o))),t===1))throw n=Ou,Wo(e,0),Di(e,r),_n(e,ut()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(F(345));case 2:Co(e,hn,Gr);break;case 3:if(Di(e,r),(r&130023424)===r&&(t=cw+500-ut(),10<t)){if(ff(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){un(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=yy(Co.bind(null,e,hn,Gr),t);break}Co(e,hn,Gr);break;case 4:if(Di(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-dr(r);o=1<<s,s=t[s],s>i&&(i=s),r&=~o}if(r=i,r=ut()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*KB(r/1960))-r,10<r){e.timeoutHandle=yy(Co.bind(null,e,hn,Gr),r);break}Co(e,hn,Gr);break;case 5:Co(e,hn,Gr);break;default:throw Error(F(329))}}}return _n(e,ut()),e.callbackNode===n?AP.bind(null,e):null}function Vy(e,t){var n=Gl;return e.current.memoizedState.isDehydrated&&(Wo(e,t).flags|=256),e=xf(e,t),e!==2&&(t=hn,hn=n,t!==null&&Fy(t)),e}function Fy(e){hn===null?hn=e:hn.push.apply(hn,e)}function QB(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!vr(o(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Di(e,t){for(t&=~uw,t&=~qh,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-dr(t),r=1<<n;e[n]=-1,t&=~r}}function GI(e){if(be&6)throw Error(F(327));ia();var t=ff(e,0);if(!(t&1))return _n(e,ut()),null;var n=xf(e,t);if(e.tag!==0&&n===2){var r=uy(e);r!==0&&(t=r,n=Vy(e,r))}if(n===1)throw n=Ou,Wo(e,0),Di(e,t),_n(e,ut()),n;if(n===6)throw Error(F(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Co(e,hn,Gr),_n(e,ut()),null}function dw(e,t){var n=be;be|=1;try{return e(t)}finally{be=n,be===0&&(Ta=ut()+500,jh&&_o())}}function os(e){Mi!==null&&Mi.tag===0&&!(be&6)&&ia();var t=be;be|=1;var n=Kn.transition,r=xe;try{if(Kn.transition=null,xe=1,e)return e()}finally{xe=r,Kn.transition=n,be=t,!(be&6)&&_o()}}function fw(){En=zs.current,ze(zs)}function Wo(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,bB(n)),pt!==null)for(n=pt.return;n!==null;){var r=n;switch(q_(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&yf();break;case 3:Ea(),ze(yn),ze(Xt),tw();break;case 5:ew(r);break;case 4:Ea();break;case 13:ze(Je);break;case 19:ze(Je);break;case 10:Y_(r.type._context);break;case 22:case 23:fw()}n=n.return}if(Tt=e,pt=e=Xi(e.current,null),Mt=En=t,yt=0,Ou=null,uw=qh=is=0,hn=Gl=null,Mo!==null){for(t=0;t<Mo.length;t++)if(n=Mo[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}Mo=null}return e}function CP(e,t){do{var n=pt;try{if(Q_(),Ad.current=Rf,bf){for(var r=Ze.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}bf=!1}if(rs=0,It=gt=Ze=null,Hl=!1,ku=0,lw.current=null,n===null||n.return===null){yt=1,Ou=t,pt=null;break}e:{var o=e,s=n.return,a=n,l=t;if(t=Mt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var h=OI(s);if(h!==null){h.flags&=-257,LI(h,s,a,o,t),h.mode&1&&NI(o,u,t),t=h,l=u;var p=t.updateQueue;if(p===null){var y=new Set;y.add(l),t.updateQueue=y}else p.add(l);break e}else{if(!(t&1)){NI(o,u,t),hw();break e}l=Error(F(426))}}else if(Ke&&a.mode&1){var _=OI(s);if(_!==null){!(_.flags&65536)&&(_.flags|=256),LI(_,s,a,o,t),G_(Ia(l,a));break e}}o=l=Ia(l,a),yt!==4&&(yt=2),Gl===null?Gl=[o]:Gl.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var g=dP(o,l,t);RI(o,g);break e;case 1:a=l;var m=o.type,w=o.stateNode;if(!(o.flags&128)&&(typeof m.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Qi===null||!Qi.has(w)))){o.flags|=65536,t&=-t,o.lanes|=t;var v=fP(o,a,t);RI(o,v);break e}}o=o.return}while(o!==null)}kP(n)}catch(I){t=I,pt===n&&n!==null&&(pt=n=n.return);continue}break}while(1)}function PP(){var e=Af.current;return Af.current=Rf,e===null?Rf:e}function hw(){(yt===0||yt===3||yt===2)&&(yt=4),Tt===null||!(is&268435455)&&!(qh&268435455)||Di(Tt,Mt)}function xf(e,t){var n=be;be|=2;var r=PP();(Tt!==e||Mt!==t)&&(Gr=null,Wo(e,t));do try{YB();break}catch(i){CP(e,i)}while(1);if(Q_(),be=n,Af.current=r,pt!==null)throw Error(F(261));return Tt=null,Mt=0,yt}function YB(){for(;pt!==null;)xP(pt)}function XB(){for(;pt!==null&&!I4();)xP(pt)}function xP(e){var t=NP(e.alternate,e,En);e.memoizedProps=e.pendingProps,t===null?kP(e):pt=t,lw.current=null}function kP(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=WB(n,t),n!==null){n.flags&=32767,pt=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{yt=6,pt=null;return}}else if(n=zB(n,t,En),n!==null){pt=n;return}if(t=t.sibling,t!==null){pt=t;return}pt=t=e}while(t!==null);yt===0&&(yt=5)}function Co(e,t,n){var r=xe,i=Kn.transition;try{Kn.transition=null,xe=1,JB(e,t,n,r)}finally{Kn.transition=i,xe=r}return null}function JB(e,t,n,r){do ia();while(Mi!==null);if(be&6)throw Error(F(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(F(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(D4(e,o),e===Tt&&(pt=Tt=null,Mt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||id||(id=!0,OP(df,function(){return ia(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Kn.transition,Kn.transition=null;var s=xe;xe=1;var a=be;be|=4,lw.current=null,qB(e,n),bP(n,e),vB(my),hf=!!py,my=py=null,e.current=n,GB(n),T4(),be=a,xe=s,Kn.transition=o}else e.current=n;if(id&&(id=!1,Mi=e,Pf=i),o=e.pendingLanes,o===0&&(Qi=null),R4(n.stateNode),_n(e,ut()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Cf)throw Cf=!1,e=Ly,Ly=null,e;return Pf&1&&e.tag!==0&&ia(),o=e.pendingLanes,o&1?e===My?Kl++:(Kl=0,My=e):Kl=0,_o(),null}function ia(){if(Mi!==null){var e=cC(Pf),t=Kn.transition,n=xe;try{if(Kn.transition=null,xe=16>e?16:e,Mi===null)var r=!1;else{if(e=Mi,Mi=null,Pf=0,be&6)throw Error(F(331));var i=be;for(be|=4,Y=e.current;Y!==null;){var o=Y,s=o.child;if(Y.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(Y=u;Y!==null;){var c=Y;switch(c.tag){case 0:case 11:case 15:ql(8,c,o)}var d=c.child;if(d!==null)d.return=c,Y=d;else for(;Y!==null;){c=Y;var f=c.sibling,h=c.return;if(IP(c),c===u){Y=null;break}if(f!==null){f.return=h,Y=f;break}Y=h}}}var p=o.alternate;if(p!==null){var y=p.child;if(y!==null){p.child=null;do{var _=y.sibling;y.sibling=null,y=_}while(y!==null)}}Y=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,Y=s;else e:for(;Y!==null;){if(o=Y,o.flags&2048)switch(o.tag){case 0:case 11:case 15:ql(9,o,o.return)}var g=o.sibling;if(g!==null){g.return=o.return,Y=g;break e}Y=o.return}}var m=e.current;for(Y=m;Y!==null;){s=Y;var w=s.child;if(s.subtreeFlags&2064&&w!==null)w.return=s,Y=w;else e:for(s=m;Y!==null;){if(a=Y,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Hh(9,a)}}catch(I){nt(a,a.return,I)}if(a===s){Y=null;break e}var v=a.sibling;if(v!==null){v.return=a.return,Y=v;break e}Y=a.return}}if(be=i,_o(),Nr&&typeof Nr.onPostCommitFiberRoot=="function")try{Nr.onPostCommitFiberRoot(Vh,e)}catch{}r=!0}return r}finally{xe=n,Kn.transition=t}}return!1}function KI(e,t,n){t=Ia(n,t),t=dP(e,t,1),e=Ki(e,t,1),t=un(),e!==null&&(gc(e,1,t),_n(e,t))}function nt(e,t,n){if(e.tag===3)KI(e,e,n);else for(;t!==null;){if(t.tag===3){KI(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Qi===null||!Qi.has(r))){e=Ia(n,e),e=fP(t,e,1),t=Ki(t,e,1),e=un(),t!==null&&(gc(t,1,e),_n(t,e));break}}t=t.return}}function ZB(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=un(),e.pingedLanes|=e.suspendedLanes&n,Tt===e&&(Mt&n)===n&&(yt===4||yt===3&&(Mt&130023424)===Mt&&500>ut()-cw?Wo(e,0):uw|=n),_n(e,t)}function DP(e,t){t===0&&(e.mode&1?(t=Kc,Kc<<=1,!(Kc&130023424)&&(Kc=4194304)):t=1);var n=un();e=ci(e,t),e!==null&&(gc(e,t,n),_n(e,n))}function ej(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),DP(e,n)}function tj(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(F(314))}r!==null&&r.delete(t),DP(e,n)}var NP;NP=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||yn.current)mn=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return mn=!1,jB(e,t,n);mn=!!(e.flags&131072)}else mn=!1,Ke&&t.flags&1048576&&MC(t,wf,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Pd(e,t),e=t.pendingProps;var i=va(t,Xt.current);ra(t,n),i=rw(null,t,r,e,i,n);var o=iw();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,vn(r)?(o=!0,vf(t)):o=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,J_(t),i.updater=zh,t.stateNode=i,i._reactInternals=t,Sy(t,r,e,n),t=Ay(null,t,r,!0,o,n)):(t.tag=0,Ke&&o&&H_(t),on(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Pd(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=rj(r),e=rr(r,e),i){case 0:t=Ry(null,t,r,e,n);break e;case 1:t=FI(null,t,r,e,n);break e;case 11:t=MI(null,t,r,e,n);break e;case 14:t=VI(null,t,r,rr(r.type,e),n);break e}throw Error(F(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:rr(r,i),Ry(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:rr(r,i),FI(e,t,r,i,n);case 3:e:{if(gP(t),e===null)throw Error(F(387));r=t.pendingProps,o=t.memoizedState,i=o.element,UC(e,t),Tf(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){i=Ia(Error(F(423)),t),t=$I(e,t,r,n,i);break e}else if(r!==i){i=Ia(Error(F(424)),t),t=$I(e,t,r,n,i);break e}else for(Sn=Gi(t.stateNode.containerInfo.firstChild),Rn=t,Ke=!0,ar=null,n=WC(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(_a(),r===i){t=di(e,t,n);break e}on(e,t,r,n)}t=t.child}return t;case 5:return HC(t),e===null&&Ey(t),r=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,s=i.children,gy(r,i)?s=null:o!==null&&gy(r,o)&&(t.flags|=32),mP(e,t),on(e,t,s,n),t.child;case 6:return e===null&&Ey(t),null;case 13:return yP(e,t,n);case 4:return Z_(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=wa(t,null,r,n):on(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:rr(r,i),MI(e,t,r,i,n);case 7:return on(e,t,t.pendingProps,n),t.child;case 8:return on(e,t,t.pendingProps.children,n),t.child;case 12:return on(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,Fe(Ef,r._currentValue),r._currentValue=s,o!==null)if(vr(o.value,s)){if(o.children===i.children&&!yn.current){t=di(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=ti(-1,n&-n),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Iy(o.return,n,t),a.lanes|=n;break}l=l.next}}else if(o.tag===10)s=o.type===t.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(F(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),Iy(s,n,t),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===t){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}on(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,ra(t,n),i=Yn(i),r=r(i),t.flags|=1,on(e,t,r,n),t.child;case 14:return r=t.type,i=rr(r,t.pendingProps),i=rr(r.type,i),VI(e,t,r,i,n);case 15:return hP(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:rr(r,i),Pd(e,t),t.tag=1,vn(r)?(e=!0,vf(t)):e=!1,ra(t,n),jC(t,r,i),Sy(t,r,i,n),Ay(null,t,r,!0,e,n);case 19:return vP(e,t,n);case 22:return pP(e,t,n)}throw Error(F(156,t.tag))};function OP(e,t){return sC(e,t)}function nj(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wn(e,t,n,r){return new nj(e,t,n,r)}function pw(e){return e=e.prototype,!(!e||!e.isReactComponent)}function rj(e){if(typeof e=="function")return pw(e)?1:0;if(e!=null){if(e=e.$$typeof,e===N_)return 11;if(e===O_)return 14}return 2}function Xi(e,t){var n=e.alternate;return n===null?(n=Wn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Dd(e,t,n,r,i,o){var s=2;if(r=e,typeof e=="function")pw(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case Ns:return Ho(n.children,i,o,t);case D_:s=8,i|=8;break;case Kg:return e=Wn(12,n,t,i|2),e.elementType=Kg,e.lanes=o,e;case Qg:return e=Wn(13,n,t,i),e.elementType=Qg,e.lanes=o,e;case Yg:return e=Wn(19,n,t,i),e.elementType=Yg,e.lanes=o,e;case zA:return Gh(n,i,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case BA:s=10;break e;case jA:s=9;break e;case N_:s=11;break e;case O_:s=14;break e;case Si:s=16,r=null;break e}throw Error(F(130,e==null?e:typeof e,""))}return t=Wn(s,n,t,i),t.elementType=e,t.type=r,t.lanes=o,t}function Ho(e,t,n,r){return e=Wn(7,e,r,t),e.lanes=n,e}function Gh(e,t,n,r){return e=Wn(22,e,r,t),e.elementType=zA,e.lanes=n,e.stateNode={isHidden:!1},e}function Dm(e,t,n){return e=Wn(6,e,null,t),e.lanes=n,e}function Nm(e,t,n){return t=Wn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function ij(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=hm(0),this.expirationTimes=hm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=hm(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function mw(e,t,n,r,i,o,s,a,l){return e=new ij(e,t,n,a,l),t===1?(t=1,o===!0&&(t|=8)):t=0,o=Wn(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},J_(o),e}function oj(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ds,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function LP(e){if(!e)return lo;e=e._reactInternals;e:{if(vs(e)!==e||e.tag!==1)throw Error(F(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(vn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(F(171))}if(e.tag===1){var n=e.type;if(vn(n))return OC(e,n,t)}return t}function MP(e,t,n,r,i,o,s,a,l){return e=mw(n,r,!0,e,i,o,s,a,l),e.context=LP(null),n=e.current,r=un(),i=Yi(n),o=ti(r,i),o.callback=t??null,Ki(n,o,i),e.current.lanes=i,gc(e,i,r),_n(e,r),e}function Kh(e,t,n,r){var i=t.current,o=un(),s=Yi(i);return n=LP(n),t.context===null?t.context=n:t.pendingContext=n,t=ti(o,s),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Ki(i,t,s),e!==null&&(fr(e,i,s,o),Rd(e,i,s)),s}function kf(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function QI(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function gw(e,t){QI(e,t),(e=e.alternate)&&QI(e,t)}function sj(){return null}var VP=typeof reportError=="function"?reportError:function(e){console.error(e)};function yw(e){this._internalRoot=e}Qh.prototype.render=yw.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(F(409));Kh(e,t,null,null)};Qh.prototype.unmount=yw.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;os(function(){Kh(null,e,null,null)}),t[ui]=null}};function Qh(e){this._internalRoot=e}Qh.prototype.unstable_scheduleHydration=function(e){if(e){var t=hC();e={blockedOn:null,target:e,priority:t};for(var n=0;n<ki.length&&t!==0&&t<ki[n].priority;n++);ki.splice(n,0,e),n===0&&mC(e)}};function vw(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Yh(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function YI(){}function aj(e,t,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=kf(s);o.call(u)}}var s=MP(t,r,e,0,null,!1,!1,"",YI);return e._reactRootContainer=s,e[ui]=s.current,Ru(e.nodeType===8?e.parentNode:e),os(),s}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=kf(l);a.call(u)}}var l=mw(e,0,!1,null,null,!1,!1,"",YI);return e._reactRootContainer=l,e[ui]=l.current,Ru(e.nodeType===8?e.parentNode:e),os(function(){Kh(t,l,n,r)}),l}function Xh(e,t,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=kf(s);a.call(l)}}Kh(t,s,e,i)}else s=aj(n,t,e,i,r);return kf(s)}dC=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Pl(t.pendingLanes);n!==0&&(V_(t,n|1),_n(t,ut()),!(be&6)&&(Ta=ut()+500,_o()))}break;case 13:os(function(){var r=ci(e,1);if(r!==null){var i=un();fr(r,e,1,i)}}),gw(e,1)}};F_=function(e){if(e.tag===13){var t=ci(e,134217728);if(t!==null){var n=un();fr(t,e,134217728,n)}gw(e,134217728)}};fC=function(e){if(e.tag===13){var t=Yi(e),n=ci(e,t);if(n!==null){var r=un();fr(n,e,t,r)}gw(e,t)}};hC=function(){return xe};pC=function(e,t){var n=xe;try{return xe=e,t()}finally{xe=n}};sy=function(e,t,n){switch(t){case"input":if(Zg(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Bh(r);if(!i)throw Error(F(90));HA(r),Zg(r,i)}}}break;case"textarea":GA(e,n);break;case"select":t=n.value,t!=null&&Zs(e,!!n.multiple,t,!1)}};eC=dw;tC=os;var lj={usingClientEntryPoint:!1,Events:[vc,Vs,Bh,JA,ZA,dw]},ll={findFiberByHostInstance:Lo,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},uj={bundleType:ll.bundleType,version:ll.version,rendererPackageName:ll.rendererPackageName,rendererConfig:ll.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:gi.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=iC(e),e===null?null:e.stateNode},findFiberByHostInstance:ll.findFiberByHostInstance||sj,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var od=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!od.isDisabled&&od.supportsFiber)try{Vh=od.inject(uj),Nr=od}catch{}}Nn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=lj;Nn.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!vw(t))throw Error(F(200));return oj(e,t,null,n)};Nn.createRoot=function(e,t){if(!vw(e))throw Error(F(299));var n=!1,r="",i=VP;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=mw(e,1,!1,null,null,n,!1,r,i),e[ui]=t.current,Ru(e.nodeType===8?e.parentNode:e),new yw(t)};Nn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(F(188)):(e=Object.keys(e).join(","),Error(F(268,e)));return e=iC(t),e=e===null?null:e.stateNode,e};Nn.flushSync=function(e){return os(e)};Nn.hydrate=function(e,t,n){if(!Yh(t))throw Error(F(200));return Xh(null,e,t,!0,n)};Nn.hydrateRoot=function(e,t,n){if(!vw(e))throw Error(F(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=VP;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),t=MP(t,null,e,1,n??null,i,!1,o,s),e[ui]=t.current,Ru(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Qh(t)};Nn.render=function(e,t,n){if(!Yh(t))throw Error(F(200));return Xh(null,e,t,!1,n)};Nn.unmountComponentAtNode=function(e){if(!Yh(e))throw Error(F(40));return e._reactRootContainer?(os(function(){Xh(null,null,e,!1,function(){e._reactRootContainer=null,e[ui]=null})}),!0):!1};Nn.unstable_batchedUpdates=dw;Nn.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Yh(n))throw Error(F(200));if(e==null||e._reactInternals===void 0)throw Error(F(38));return Xh(e,t,n,!1,r)};Nn.version="18.2.0-next-9e3b772b8-20220608";function FP(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(FP)}catch(e){console.error(e)}}FP(),MA.exports=Nn;var wc=MA.exports;const cj=iv(wc);function dj(e){e()}let $P=dj;const fj=e=>$P=e,hj=()=>$P,XI=Symbol.for("react-redux-context"),JI=typeof globalThis<"u"?globalThis:{};function pj(){var e;if(!E.createContext)return{};const t=(e=JI[XI])!=null?e:JI[XI]=new Map;let n=t.get(E.createContext);return n||(n=E.createContext(null),t.set(E.createContext,n)),n}const fi=pj();function _w(e=fi){return function(){return E.useContext(e)}}const UP=_w(),BP=()=>{throw new Error("uSES not initialized!")};let jP=BP;const mj=e=>{jP=e},gj=(e,t)=>e===t;function yj(e=fi){const t=e===fi?UP:_w(e);return function(r,i={}){const{equalityFn:o=gj,stabilityCheck:s=void 0,noopCheck:a=void 0}=typeof i=="function"?{equalityFn:i}:i,{store:l,subscription:u,getServerState:c,stabilityCheck:d,noopCheck:f}=t();E.useRef(!0);const h=E.useCallback({[r.name](y){return r(y)}}[r.name],[r,d,s]),p=jP(u.addNestedSub,l.getState,c||l.getState,h,o);return E.useDebugValue(p),p}}const hi=yj();function Ji(){return Ji=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ji.apply(this,arguments)}function zP(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var WP={exports:{}},De={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ct=typeof Symbol=="function"&&Symbol.for,ww=Ct?Symbol.for("react.element"):60103,Ew=Ct?Symbol.for("react.portal"):60106,Jh=Ct?Symbol.for("react.fragment"):60107,Zh=Ct?Symbol.for("react.strict_mode"):60108,ep=Ct?Symbol.for("react.profiler"):60114,tp=Ct?Symbol.for("react.provider"):60109,np=Ct?Symbol.for("react.context"):60110,Iw=Ct?Symbol.for("react.async_mode"):60111,rp=Ct?Symbol.for("react.concurrent_mode"):60111,ip=Ct?Symbol.for("react.forward_ref"):60112,op=Ct?Symbol.for("react.suspense"):60113,vj=Ct?Symbol.for("react.suspense_list"):60120,sp=Ct?Symbol.for("react.memo"):60115,ap=Ct?Symbol.for("react.lazy"):60116,_j=Ct?Symbol.for("react.block"):60121,wj=Ct?Symbol.for("react.fundamental"):60117,Ej=Ct?Symbol.for("react.responder"):60118,Ij=Ct?Symbol.for("react.scope"):60119;function Ln(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case ww:switch(e=e.type,e){case Iw:case rp:case Jh:case ep:case Zh:case op:return e;default:switch(e=e&&e.$$typeof,e){case np:case ip:case ap:case sp:case tp:return e;default:return t}}case Ew:return t}}}function HP(e){return Ln(e)===rp}De.AsyncMode=Iw;De.ConcurrentMode=rp;De.ContextConsumer=np;De.ContextProvider=tp;De.Element=ww;De.ForwardRef=ip;De.Fragment=Jh;De.Lazy=ap;De.Memo=sp;De.Portal=Ew;De.Profiler=ep;De.StrictMode=Zh;De.Suspense=op;De.isAsyncMode=function(e){return HP(e)||Ln(e)===Iw};De.isConcurrentMode=HP;De.isContextConsumer=function(e){return Ln(e)===np};De.isContextProvider=function(e){return Ln(e)===tp};De.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===ww};De.isForwardRef=function(e){return Ln(e)===ip};De.isFragment=function(e){return Ln(e)===Jh};De.isLazy=function(e){return Ln(e)===ap};De.isMemo=function(e){return Ln(e)===sp};De.isPortal=function(e){return Ln(e)===Ew};De.isProfiler=function(e){return Ln(e)===ep};De.isStrictMode=function(e){return Ln(e)===Zh};De.isSuspense=function(e){return Ln(e)===op};De.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Jh||e===rp||e===ep||e===Zh||e===op||e===vj||typeof e=="object"&&e!==null&&(e.$$typeof===ap||e.$$typeof===sp||e.$$typeof===tp||e.$$typeof===np||e.$$typeof===ip||e.$$typeof===wj||e.$$typeof===Ej||e.$$typeof===Ij||e.$$typeof===_j)};De.typeOf=Ln;WP.exports=De;var Tj=WP.exports,Tw=Tj,Sj={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},bj={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},Rj={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},qP={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Sw={};Sw[Tw.ForwardRef]=Rj;Sw[Tw.Memo]=qP;function ZI(e){return Tw.isMemo(e)?qP:Sw[e.$$typeof]||Sj}var Aj=Object.defineProperty,Cj=Object.getOwnPropertyNames,e1=Object.getOwnPropertySymbols,Pj=Object.getOwnPropertyDescriptor,xj=Object.getPrototypeOf,t1=Object.prototype;function GP(e,t,n){if(typeof t!="string"){if(t1){var r=xj(t);r&&r!==t1&&GP(e,r,n)}var i=Cj(t);e1&&(i=i.concat(e1(t)));for(var o=ZI(e),s=ZI(t),a=0;a<i.length;++a){var l=i[a];if(!bj[l]&&!(n&&n[l])&&!(s&&s[l])&&!(o&&o[l])){var u=Pj(t,l);try{Aj(e,l,u)}catch{}}}}return e}var kj=GP;const n1=iv(kj);var KP={exports:{}},Ne={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bw=Symbol.for("react.element"),Rw=Symbol.for("react.portal"),lp=Symbol.for("react.fragment"),up=Symbol.for("react.strict_mode"),cp=Symbol.for("react.profiler"),dp=Symbol.for("react.provider"),fp=Symbol.for("react.context"),Dj=Symbol.for("react.server_context"),hp=Symbol.for("react.forward_ref"),pp=Symbol.for("react.suspense"),mp=Symbol.for("react.suspense_list"),gp=Symbol.for("react.memo"),yp=Symbol.for("react.lazy"),Nj=Symbol.for("react.offscreen"),QP;QP=Symbol.for("react.module.reference");function Zn(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case bw:switch(e=e.type,e){case lp:case cp:case up:case pp:case mp:return e;default:switch(e=e&&e.$$typeof,e){case Dj:case fp:case hp:case yp:case gp:case dp:return e;default:return t}}case Rw:return t}}}Ne.ContextConsumer=fp;Ne.ContextProvider=dp;Ne.Element=bw;Ne.ForwardRef=hp;Ne.Fragment=lp;Ne.Lazy=yp;Ne.Memo=gp;Ne.Portal=Rw;Ne.Profiler=cp;Ne.StrictMode=up;Ne.Suspense=pp;Ne.SuspenseList=mp;Ne.isAsyncMode=function(){return!1};Ne.isConcurrentMode=function(){return!1};Ne.isContextConsumer=function(e){return Zn(e)===fp};Ne.isContextProvider=function(e){return Zn(e)===dp};Ne.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===bw};Ne.isForwardRef=function(e){return Zn(e)===hp};Ne.isFragment=function(e){return Zn(e)===lp};Ne.isLazy=function(e){return Zn(e)===yp};Ne.isMemo=function(e){return Zn(e)===gp};Ne.isPortal=function(e){return Zn(e)===Rw};Ne.isProfiler=function(e){return Zn(e)===cp};Ne.isStrictMode=function(e){return Zn(e)===up};Ne.isSuspense=function(e){return Zn(e)===pp};Ne.isSuspenseList=function(e){return Zn(e)===mp};Ne.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===lp||e===cp||e===up||e===pp||e===mp||e===Nj||typeof e=="object"&&e!==null&&(e.$$typeof===yp||e.$$typeof===gp||e.$$typeof===dp||e.$$typeof===fp||e.$$typeof===hp||e.$$typeof===QP||e.getModuleId!==void 0)};Ne.typeOf=Zn;KP.exports=Ne;var Oj=KP.exports;const Lj=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function Mj(e,t,n,r,{areStatesEqual:i,areOwnPropsEqual:o,areStatePropsEqual:s}){let a=!1,l,u,c,d,f;function h(m,w){return l=m,u=w,c=e(l,u),d=t(r,u),f=n(c,d,u),a=!0,f}function p(){return c=e(l,u),t.dependsOnOwnProps&&(d=t(r,u)),f=n(c,d,u),f}function y(){return e.dependsOnOwnProps&&(c=e(l,u)),t.dependsOnOwnProps&&(d=t(r,u)),f=n(c,d,u),f}function _(){const m=e(l,u),w=!s(m,c);return c=m,w&&(f=n(c,d,u)),f}function g(m,w){const v=!o(w,u),I=!i(m,l,w,u);return l=m,u=w,v&&I?p():v?y():I?_():f}return function(w,v){return a?g(w,v):h(w,v)}}function Vj(e,t){let{initMapStateToProps:n,initMapDispatchToProps:r,initMergeProps:i}=t,o=zP(t,Lj);const s=n(e,o),a=r(e,o),l=i(e,o);return Mj(s,a,l,e,o)}function Fj(e,t){const n={};for(const r in e){const i=e[r];typeof i=="function"&&(n[r]=(...o)=>t(i(...o)))}return n}function $y(e){return function(n){const r=e(n);function i(){return r}return i.dependsOnOwnProps=!1,i}}function r1(e){return e.dependsOnOwnProps?!!e.dependsOnOwnProps:e.length!==1}function YP(e,t){return function(r,{displayName:i}){const o=function(a,l){return o.dependsOnOwnProps?o.mapToProps(a,l):o.mapToProps(a,void 0)};return o.dependsOnOwnProps=!0,o.mapToProps=function(a,l){o.mapToProps=e,o.dependsOnOwnProps=r1(e);let u=o(a,l);return typeof u=="function"&&(o.mapToProps=u,o.dependsOnOwnProps=r1(u),u=o(a,l)),u},o}}function Aw(e,t){return(n,r)=>{throw new Error(`Invalid value of type ${typeof e} for ${t} argument when connecting component ${r.wrappedComponentName}.`)}}function $j(e){return e&&typeof e=="object"?$y(t=>Fj(e,t)):e?typeof e=="function"?YP(e):Aw(e,"mapDispatchToProps"):$y(t=>({dispatch:t}))}function Uj(e){return e?typeof e=="function"?YP(e):Aw(e,"mapStateToProps"):$y(()=>({}))}function Bj(e,t,n){return Ji({},n,e,t)}function jj(e){return function(n,{displayName:r,areMergedPropsEqual:i}){let o=!1,s;return function(l,u,c){const d=e(l,u,c);return o?i(d,s)||(s=d):(o=!0,s=d),s}}}function zj(e){return e?typeof e=="function"?jj(e):Aw(e,"mergeProps"):()=>Bj}function Wj(){const e=hj();let t=null,n=null;return{clear(){t=null,n=null},notify(){e(()=>{let r=t;for(;r;)r.callback(),r=r.next})},get(){let r=[],i=t;for(;i;)r.push(i),i=i.next;return r},subscribe(r){let i=!0,o=n={callback:r,next:null,prev:n};return o.prev?o.prev.next=o:t=o,function(){!i||t===null||(i=!1,o.next?o.next.prev=o.prev:n=o.prev,o.prev?o.prev.next=o.next:t=o.next)}}}}const i1={notify(){},get:()=>[]};function XP(e,t){let n,r=i1,i=0,o=!1;function s(y){c();const _=r.subscribe(y);let g=!1;return()=>{g||(g=!0,_(),d())}}function a(){r.notify()}function l(){p.onStateChange&&p.onStateChange()}function u(){return o}function c(){i++,n||(n=t?t.addNestedSub(l):e.subscribe(l),r=Wj())}function d(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=i1)}function f(){o||(o=!0,c())}function h(){o&&(o=!1,d())}const p={addNestedSub:s,notifyNestedSubs:a,handleChangeWrapper:l,isSubscribed:u,trySubscribe:f,tryUnsubscribe:h,getListeners:()=>r};return p}const Hj=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Df=Hj?E.useLayoutEffect:E.useEffect;function o1(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function Om(e,t){if(o1(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!o1(e[n[i]],t[n[i]]))return!1;return!0}const qj=["reactReduxForwardedRef"];let JP=BP;const Gj=e=>{JP=e},Kj=[null,null];function Qj(e,t,n){Df(()=>e(...t),n)}function Yj(e,t,n,r,i,o){e.current=r,n.current=!1,i.current&&(i.current=null,o())}function Xj(e,t,n,r,i,o,s,a,l,u,c){if(!e)return()=>{};let d=!1,f=null;const h=()=>{if(d||!a.current)return;const y=t.getState();let _,g;try{_=r(y,i.current)}catch(m){g=m,f=m}g||(f=null),_===o.current?s.current||u():(o.current=_,l.current=_,s.current=!0,c())};return n.onStateChange=h,n.trySubscribe(),h(),()=>{if(d=!0,n.tryUnsubscribe(),n.onStateChange=null,f)throw f}}function Jj(e,t){return e===t}function ZP(e,t,n,{pure:r,areStatesEqual:i=Jj,areOwnPropsEqual:o=Om,areStatePropsEqual:s=Om,areMergedPropsEqual:a=Om,forwardRef:l=!1,context:u=fi}={}){const c=u,d=Uj(e),f=$j(t),h=zj(n),p=!!e;return _=>{const g=_.displayName||_.name||"Component",m=`Connect(${g})`,w={shouldHandleStateChanges:p,displayName:m,wrappedComponentName:g,WrappedComponent:_,initMapStateToProps:d,initMapDispatchToProps:f,initMergeProps:h,areStatesEqual:i,areStatePropsEqual:s,areOwnPropsEqual:o,areMergedPropsEqual:a};function v(R){const[A,O,k]=E.useMemo(()=>{const{reactReduxForwardedRef:Zt}=R,_r=zP(R,qj);return[R.context,Zt,_r]},[R]),j=E.useMemo(()=>A&&A.Consumer&&Oj.isContextConsumer(E.createElement(A.Consumer,null))?A:c,[A,c]),$=E.useContext(j),X=!!R.store&&!!R.store.getState&&!!R.store.dispatch,oe=!!$&&!!$.store,pe=X?R.store:$.store,he=oe?$.getServerState:pe.getState,we=E.useMemo(()=>Vj(pe.dispatch,w),[pe]),[V,J]=E.useMemo(()=>{if(!p)return Kj;const Zt=XP(pe,X?void 0:$.subscription),_r=Zt.notifyNestedSubs.bind(Zt);return[Zt,_r]},[pe,X,$]),ie=E.useMemo(()=>X?$:Ji({},$,{subscription:V}),[X,$,V]),Pe=E.useRef(),Le=E.useRef(k),fn=E.useRef(),Re=E.useRef(!1);E.useRef(!1);const Jt=E.useRef(!1),wt=E.useRef();Df(()=>(Jt.current=!0,()=>{Jt.current=!1}),[]);const Mn=E.useMemo(()=>()=>fn.current&&k===Le.current?fn.current:we(pe.getState(),k),[pe,k]),wn=E.useMemo(()=>_r=>V?Xj(p,pe,V,we,Le,Pe,Re,Jt,fn,J,_r):()=>{},[V]);Qj(Yj,[Le,Pe,Re,k,fn,J]);let zr;try{zr=JP(wn,Mn,he?()=>we(he(),k):Mn)}catch(Zt){throw wt.current&&(Zt.message+=`
The error may be correlated with this previous error:
${wt.current.stack}

`),Zt}Df(()=>{wt.current=void 0,fn.current=void 0,Pe.current=zr});const _i=E.useMemo(()=>E.createElement(_,Ji({},zr,{ref:O})),[O,_,zr]);return E.useMemo(()=>p?E.createElement(j.Provider,{value:ie},_i):_i,[j,_i,ie])}const b=E.memo(v);if(b.WrappedComponent=_,b.displayName=v.displayName=m,l){const A=E.forwardRef(function(k,j){return E.createElement(b,Ji({},k,{reactReduxForwardedRef:j}))});return A.displayName=m,A.WrappedComponent=_,n1(A,_)}return n1(b,_)}}function ex({store:e,context:t,children:n,serverState:r,stabilityCheck:i="once",noopCheck:o="once"}){const s=E.useMemo(()=>{const u=XP(e);return{store:e,subscription:u,getServerState:r?()=>r:void 0,stabilityCheck:i,noopCheck:o}},[e,r,i,o]),a=E.useMemo(()=>e.getState(),[e]);Df(()=>{const{subscription:u}=s;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),a!==e.getState()&&u.notifyNestedSubs(),()=>{u.tryUnsubscribe(),u.onStateChange=void 0}},[s,a]);const l=t||fi;return E.createElement(l.Provider,{value:s},n)}function tx(e=fi){const t=e===fi?UP:_w(e);return function(){const{store:r}=t();return r}}const Zj=tx();function e3(e=fi){const t=e===fi?Zj:tx(e);return function(){return t().dispatch}}const _s=e3();mj(s4.useSyncExternalStoreWithSelector);Gj(NA.useSyncExternalStore);fj(wc.unstable_batchedUpdates);function lr(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map(function(i){return"'"+i+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function uo(e){return!!e&&!!e[Ge]}function pi(e){var t;return!!e&&(function(n){if(!n||typeof n!="object")return!1;var r=Object.getPrototypeOf(n);if(r===null)return!0;var i=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;return i===Object||typeof i=="function"&&Function.toString.call(i)===u3}(e)||Array.isArray(e)||!!e[f1]||!!(!((t=e.constructor)===null||t===void 0)&&t[f1])||Cw(e)||Pw(e))}function ss(e,t,n){n===void 0&&(n=!1),Ba(e)===0?(n?Object.keys:sa)(e).forEach(function(r){n&&typeof r=="symbol"||t(r,e[r],e)}):e.forEach(function(r,i){return t(i,r,e)})}function Ba(e){var t=e[Ge];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:Cw(e)?2:Pw(e)?3:0}function oa(e,t){return Ba(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function t3(e,t){return Ba(e)===2?e.get(t):e[t]}function nx(e,t,n){var r=Ba(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function rx(e,t){return e===t?e!==0||1/e==1/t:e!=e&&t!=t}function Cw(e){return a3&&e instanceof Map}function Pw(e){return l3&&e instanceof Set}function Po(e){return e.o||e.t}function xw(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=ox(e);delete t[Ge];for(var n=sa(t),r=0;r<n.length;r++){var i=n[r],o=t[i];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(t[i]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function kw(e,t){return t===void 0&&(t=!1),Dw(e)||uo(e)||!pi(e)||(Ba(e)>1&&(e.set=e.add=e.clear=e.delete=n3),Object.freeze(e),t&&ss(e,function(n,r){return kw(r,!0)},!0)),e}function n3(){lr(2)}function Dw(e){return e==null||typeof e!="object"||Object.isFrozen(e)}function Lr(e){var t=zy[e];return t||lr(18,e),t}function r3(e,t){zy[e]||(zy[e]=t)}function Uy(){return Lu}function Lm(e,t){t&&(Lr("Patches"),e.u=[],e.s=[],e.v=t)}function Nf(e){By(e),e.p.forEach(i3),e.p=null}function By(e){e===Lu&&(Lu=e.l)}function s1(e){return Lu={p:[],l:Lu,h:e,m:!0,_:0}}function i3(e){var t=e[Ge];t.i===0||t.i===1?t.j():t.g=!0}function Mm(e,t){t._=t.p.length;var n=t.p[0],r=e!==void 0&&e!==n;return t.h.O||Lr("ES5").S(t,e,r),r?(n[Ge].P&&(Nf(t),lr(4)),pi(e)&&(e=Of(t,e),t.l||Lf(t,e)),t.u&&Lr("Patches").M(n[Ge].t,e,t.u,t.s)):e=Of(t,n,[]),Nf(t),t.u&&t.v(t.u,t.s),e!==ix?e:void 0}function Of(e,t,n){if(Dw(t))return t;var r=t[Ge];if(!r)return ss(t,function(a,l){return a1(e,r,t,a,l,n)},!0),t;if(r.A!==e)return t;if(!r.P)return Lf(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=r.i===4||r.i===5?r.o=xw(r.k):r.o,o=i,s=!1;r.i===3&&(o=new Set(i),i.clear(),s=!0),ss(o,function(a,l){return a1(e,r,i,a,l,n,s)}),Lf(e,i,!1),n&&e.u&&Lr("Patches").N(r,n,e.u,e.s)}return r.o}function a1(e,t,n,r,i,o,s){if(uo(i)){var a=Of(e,i,o&&t&&t.i!==3&&!oa(t.R,r)?o.concat(r):void 0);if(nx(n,r,a),!uo(a))return;e.m=!1}else s&&n.add(i);if(pi(i)&&!Dw(i)){if(!e.h.D&&e._<1)return;Of(e,i),t&&t.A.l||Lf(e,i)}}function Lf(e,t,n){n===void 0&&(n=!1),!e.l&&e.h.D&&e.m&&kw(t,n)}function Vm(e,t){var n=e[Ge];return(n?Po(n):e)[t]}function l1(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function Ni(e){e.P||(e.P=!0,e.l&&Ni(e.l))}function Fm(e){e.o||(e.o=xw(e.t))}function jy(e,t,n){var r=Cw(t)?Lr("MapSet").F(t,n):Pw(t)?Lr("MapSet").T(t,n):e.O?function(i,o){var s=Array.isArray(i),a={i:s?1:0,A:o?o.A:Uy(),P:!1,I:!1,R:{},l:o,t:i,k:null,o:null,j:null,C:!1},l=a,u=Mu;s&&(l=[a],u=kl);var c=Proxy.revocable(l,u),d=c.revoke,f=c.proxy;return a.k=f,a.j=d,f}(t,n):Lr("ES5").J(t,n);return(n?n.A:Uy()).p.push(r),r}function o3(e){return uo(e)||lr(22,e),function t(n){if(!pi(n))return n;var r,i=n[Ge],o=Ba(n);if(i){if(!i.P&&(i.i<4||!Lr("ES5").K(i)))return i.t;i.I=!0,r=u1(n,o),i.I=!1}else r=u1(n,o);return ss(r,function(s,a){i&&t3(i.t,s)===a||nx(r,s,t(a))}),o===3?new Set(r):r}(e)}function u1(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return xw(e)}function s3(){function e(o,s){var a=i[o];return a?a.enumerable=s:i[o]=a={configurable:!0,enumerable:s,get:function(){var l=this[Ge];return Mu.get(l,o)},set:function(l){var u=this[Ge];Mu.set(u,o,l)}},a}function t(o){for(var s=o.length-1;s>=0;s--){var a=o[s][Ge];if(!a.P)switch(a.i){case 5:r(a)&&Ni(a);break;case 4:n(a)&&Ni(a)}}}function n(o){for(var s=o.t,a=o.k,l=sa(a),u=l.length-1;u>=0;u--){var c=l[u];if(c!==Ge){var d=s[c];if(d===void 0&&!oa(s,c))return!0;var f=a[c],h=f&&f[Ge];if(h?h.t!==d:!rx(f,d))return!0}}var p=!!s[Ge];return l.length!==sa(s).length+(p?0:1)}function r(o){var s=o.k;if(s.length!==o.t.length)return!0;var a=Object.getOwnPropertyDescriptor(s,s.length-1);if(a&&!a.get)return!0;for(var l=0;l<s.length;l++)if(!s.hasOwnProperty(l))return!0;return!1}var i={};r3("ES5",{J:function(o,s){var a=Array.isArray(o),l=function(c,d){if(c){for(var f=Array(d.length),h=0;h<d.length;h++)Object.defineProperty(f,""+h,e(h,!0));return f}var p=ox(d);delete p[Ge];for(var y=sa(p),_=0;_<y.length;_++){var g=y[_];p[g]=e(g,c||!!p[g].enumerable)}return Object.create(Object.getPrototypeOf(d),p)}(a,o),u={i:a?5:4,A:s?s.A:Uy(),P:!1,I:!1,R:{},l:s,t:o,k:l,o:null,g:!1,C:!1};return Object.defineProperty(l,Ge,{value:u,writable:!0}),l},S:function(o,s,a){a?uo(s)&&s[Ge].A===o&&t(o.p):(o.u&&function l(u){if(u&&typeof u=="object"){var c=u[Ge];if(c){var d=c.t,f=c.k,h=c.R,p=c.i;if(p===4)ss(f,function(w){w!==Ge&&(d[w]!==void 0||oa(d,w)?h[w]||l(f[w]):(h[w]=!0,Ni(c)))}),ss(d,function(w){f[w]!==void 0||oa(f,w)||(h[w]=!1,Ni(c))});else if(p===5){if(r(c)&&(Ni(c),h.length=!0),f.length<d.length)for(var y=f.length;y<d.length;y++)h[y]=!1;else for(var _=d.length;_<f.length;_++)h[_]=!0;for(var g=Math.min(f.length,d.length),m=0;m<g;m++)f.hasOwnProperty(m)||(h[m]=!0),h[m]===void 0&&l(f[m])}}}}(o.p[0]),t(o.p))},K:function(o){return o.i===4?n(o):r(o)}})}var c1,Lu,Nw=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",a3=typeof Map<"u",l3=typeof Set<"u",d1=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",ix=Nw?Symbol.for("immer-nothing"):((c1={})["immer-nothing"]=!0,c1),f1=Nw?Symbol.for("immer-draftable"):"__$immer_draftable",Ge=Nw?Symbol.for("immer-state"):"__$immer_state",u3=""+Object.prototype.constructor,sa=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,ox=Object.getOwnPropertyDescriptors||function(e){var t={};return sa(e).forEach(function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)}),t},zy={},Mu={get:function(e,t){if(t===Ge)return e;var n=Po(e);if(!oa(n,t))return function(i,o,s){var a,l=l1(o,s);return l?"value"in l?l.value:(a=l.get)===null||a===void 0?void 0:a.call(i.k):void 0}(e,n,t);var r=n[t];return e.I||!pi(r)?r:r===Vm(e.t,t)?(Fm(e),e.o[t]=jy(e.A.h,r,e)):r},has:function(e,t){return t in Po(e)},ownKeys:function(e){return Reflect.ownKeys(Po(e))},set:function(e,t,n){var r=l1(Po(e),t);if(r!=null&&r.set)return r.set.call(e.k,n),!0;if(!e.P){var i=Vm(Po(e),t),o=i==null?void 0:i[Ge];if(o&&o.t===n)return e.o[t]=n,e.R[t]=!1,!0;if(rx(n,i)&&(n!==void 0||oa(e.t,t)))return!0;Fm(e),Ni(e)}return e.o[t]===n&&(n!==void 0||t in e.o)||Number.isNaN(n)&&Number.isNaN(e.o[t])||(e.o[t]=n,e.R[t]=!0),!0},deleteProperty:function(e,t){return Vm(e.t,t)!==void 0||t in e.t?(e.R[t]=!1,Fm(e),Ni(e)):delete e.R[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=Po(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.i!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty:function(){lr(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){lr(12)}},kl={};ss(Mu,function(e,t){kl[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),kl.deleteProperty=function(e,t){return kl.set.call(this,e,t,void 0)},kl.set=function(e,t,n){return Mu.set.call(this,e[0],t,n,e[0])};var c3=function(){function e(n){var r=this;this.O=d1,this.D=!0,this.produce=function(i,o,s){if(typeof i=="function"&&typeof o!="function"){var a=o;o=i;var l=r;return function(y){var _=this;y===void 0&&(y=a);for(var g=arguments.length,m=Array(g>1?g-1:0),w=1;w<g;w++)m[w-1]=arguments[w];return l.produce(y,function(v){var I;return(I=o).call.apply(I,[_,v].concat(m))})}}var u;if(typeof o!="function"&&lr(6),s!==void 0&&typeof s!="function"&&lr(7),pi(i)){var c=s1(r),d=jy(r,i,void 0),f=!0;try{u=o(d),f=!1}finally{f?Nf(c):By(c)}return typeof Promise<"u"&&u instanceof Promise?u.then(function(y){return Lm(c,s),Mm(y,c)},function(y){throw Nf(c),y}):(Lm(c,s),Mm(u,c))}if(!i||typeof i!="object"){if((u=o(i))===void 0&&(u=i),u===ix&&(u=void 0),r.D&&kw(u,!0),s){var h=[],p=[];Lr("Patches").M(i,u,h,p),s(h,p)}return u}lr(21,i)},this.produceWithPatches=function(i,o){if(typeof i=="function")return function(u){for(var c=arguments.length,d=Array(c>1?c-1:0),f=1;f<c;f++)d[f-1]=arguments[f];return r.produceWithPatches(u,function(h){return i.apply(void 0,[h].concat(d))})};var s,a,l=r.produce(i,o,function(u,c){s=u,a=c});return typeof Promise<"u"&&l instanceof Promise?l.then(function(u){return[u,s,a]}):[l,s,a]},typeof(n==null?void 0:n.useProxies)=="boolean"&&this.setUseProxies(n.useProxies),typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze)}var t=e.prototype;return t.createDraft=function(n){pi(n)||lr(8),uo(n)&&(n=o3(n));var r=s1(this),i=jy(this,n,void 0);return i[Ge].C=!0,By(r),i},t.finishDraft=function(n,r){var i=n&&n[Ge],o=i.A;return Lm(o,r),Mm(void 0,o)},t.setAutoFreeze=function(n){this.D=n},t.setUseProxies=function(n){n&&!d1&&lr(20),this.O=n},t.applyPatches=function(n,r){var i;for(i=r.length-1;i>=0;i--){var o=r[i];if(o.path.length===0&&o.op==="replace"){n=o.value;break}}i>-1&&(r=r.slice(i+1));var s=Lr("Patches").$;return uo(n)?s(n,r):this.produce(n,function(a){return s(a,r)})},e}(),Dn=new c3,sx=Dn.produce;Dn.produceWithPatches.bind(Dn);Dn.setAutoFreeze.bind(Dn);Dn.setUseProxies.bind(Dn);Dn.applyPatches.bind(Dn);Dn.createDraft.bind(Dn);Dn.finishDraft.bind(Dn);function Vu(e){"@babel/helpers - typeof";return Vu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vu(e)}function d3(e,t){if(Vu(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Vu(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function f3(e){var t=d3(e,"string");return Vu(t)==="symbol"?t:String(t)}function h3(e,t,n){return t=f3(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function p1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?h1(Object(n),!0).forEach(function(r){h3(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function kt(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var m1=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),$m=function(){return Math.random().toString(36).substring(7).split("").join(".")},Mf={INIT:"@@redux/INIT"+$m(),REPLACE:"@@redux/REPLACE"+$m(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+$m()}};function p3(e){if(typeof e!="object"||e===null)return!1;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function Ow(e,t,n){var r;if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(kt(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(kt(1));return n(Ow)(e,t)}if(typeof e!="function")throw new Error(kt(2));var i=e,o=t,s=[],a=s,l=!1;function u(){a===s&&(a=s.slice())}function c(){if(l)throw new Error(kt(3));return o}function d(y){if(typeof y!="function")throw new Error(kt(4));if(l)throw new Error(kt(5));var _=!0;return u(),a.push(y),function(){if(_){if(l)throw new Error(kt(6));_=!1,u();var m=a.indexOf(y);a.splice(m,1),s=null}}}function f(y){if(!p3(y))throw new Error(kt(7));if(typeof y.type>"u")throw new Error(kt(8));if(l)throw new Error(kt(9));try{l=!0,o=i(o,y)}finally{l=!1}for(var _=s=a,g=0;g<_.length;g++){var m=_[g];m()}return y}function h(y){if(typeof y!="function")throw new Error(kt(10));i=y,f({type:Mf.REPLACE})}function p(){var y,_=d;return y={subscribe:function(m){if(typeof m!="object"||m===null)throw new Error(kt(11));function w(){m.next&&m.next(c())}w();var v=_(w);return{unsubscribe:v}}},y[m1]=function(){return this},y}return f({type:Mf.INIT}),r={dispatch:f,subscribe:d,getState:c,replaceReducer:h},r[m1]=p,r}function m3(e){Object.keys(e).forEach(function(t){var n=e[t],r=n(void 0,{type:Mf.INIT});if(typeof r>"u")throw new Error(kt(12));if(typeof n(void 0,{type:Mf.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(kt(13))})}function g3(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];typeof e[i]=="function"&&(n[i]=e[i])}var o=Object.keys(n),s;try{m3(n)}catch(a){s=a}return function(l,u){if(l===void 0&&(l={}),s)throw s;for(var c=!1,d={},f=0;f<o.length;f++){var h=o[f],p=n[h],y=l[h],_=p(y,u);if(typeof _>"u")throw u&&u.type,new Error(kt(14));d[h]=_,c=c||_!==y}return c=c||o.length!==Object.keys(l).length,c?d:l}}function g1(e,t){return function(){return t(e.apply(this,arguments))}}function y1(e,t){if(typeof e=="function")return g1(e,t);if(typeof e!="object"||e===null)throw new Error(kt(16));var n={};for(var r in e){var i=e[r];typeof i=="function"&&(n[r]=g1(i,t))}return n}function Fu(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.length===0?function(r){return r}:t.length===1?t[0]:t.reduce(function(r,i){return function(){return r(i.apply(void 0,arguments))}})}function ax(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(r){return function(){var i=r.apply(void 0,arguments),o=function(){throw new Error(kt(15))},s={getState:i.getState,dispatch:function(){return o.apply(void 0,arguments)}},a=t.map(function(l){return l(s)});return o=Fu.apply(void 0,a)(i.dispatch),p1(p1({},i),{},{dispatch:o})}}}function lx(e){var t=function(r){var i=r.dispatch,o=r.getState;return function(s){return function(a){return typeof a=="function"?a(i,o,e):s(a)}}};return t}var ux=lx();ux.withExtraArgument=lx;const v1=ux;var cx=globalThis&&globalThis.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),y3=globalThis&&globalThis.__generator||function(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(u){return function(c){return l([u,c])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){n.label=u[1];break}if(u[0]===6&&n.label<o[1]){n.label=o[1],o=u;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(u);break}o[2]&&n.ops.pop(),n.trys.pop();continue}u=t.call(e,n)}catch(c){u=[6,c],i=0}finally{r=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},Sa=globalThis&&globalThis.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},v3=Object.defineProperty,_3=Object.defineProperties,w3=Object.getOwnPropertyDescriptors,_1=Object.getOwnPropertySymbols,E3=Object.prototype.hasOwnProperty,I3=Object.prototype.propertyIsEnumerable,w1=function(e,t,n){return t in e?v3(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},Zi=function(e,t){for(var n in t||(t={}))E3.call(t,n)&&w1(e,n,t[n]);if(_1)for(var r=0,i=_1(t);r<i.length;r++){var n=i[r];I3.call(t,n)&&w1(e,n,t[n])}return e},Um=function(e,t){return _3(e,w3(t))},T3=function(e,t,n){return new Promise(function(r,i){var o=function(l){try{a(n.next(l))}catch(u){i(u)}},s=function(l){try{a(n.throw(l))}catch(u){i(u)}},a=function(l){return l.done?r(l.value):Promise.resolve(l.value).then(o,s)};a((n=n.apply(e,t)).next())})},S3=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Fu:Fu.apply(null,arguments)};function b3(e){if(typeof e!="object"||e===null)return!1;var t=Object.getPrototypeOf(e);if(t===null)return!0;for(var n=t;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return t===n}function eo(e,t){function n(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];if(t){var o=t.apply(void 0,r);if(!o)throw new Error("prepareAction did not return an object");return Zi(Zi({type:e,payload:o.payload},"meta"in o&&{meta:o.meta}),"error"in o&&{error:o.error})}return{type:e,payload:r[0]}}return n.toString=function(){return""+e},n.type=e,n.match=function(r){return r.type===e},n}var R3=function(e){cx(t,e);function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e.apply(this,n)||this;return Object.setPrototypeOf(i,t.prototype),i}return Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return e.prototype.concat.apply(this,n)},t.prototype.prepend=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.length===1&&Array.isArray(n[0])?new(t.bind.apply(t,Sa([void 0],n[0].concat(this)))):new(t.bind.apply(t,Sa([void 0],n.concat(this))))},t}(Array),A3=function(e){cx(t,e);function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e.apply(this,n)||this;return Object.setPrototypeOf(i,t.prototype),i}return Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return e.prototype.concat.apply(this,n)},t.prototype.prepend=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.length===1&&Array.isArray(n[0])?new(t.bind.apply(t,Sa([void 0],n[0].concat(this)))):new(t.bind.apply(t,Sa([void 0],n.concat(this))))},t}(Array);function Wy(e){return pi(e)?sx(e,function(){}):e}function C3(e){return typeof e=="boolean"}function P3(){return function(t){return x3(t)}}function x3(e){e===void 0&&(e={});var t=e.thunk,n=t===void 0?!0:t;e.immutableCheck,e.serializableCheck,e.actionCreatorCheck;var r=new R3;return n&&(C3(n)?r.push(v1):r.push(v1.withExtraArgument(n.extraArgument))),r}var k3=!0;function D3(e){var t=P3(),n=e||{},r=n.reducer,i=r===void 0?void 0:r,o=n.middleware,s=o===void 0?t():o,a=n.devTools,l=a===void 0?!0:a,u=n.preloadedState,c=u===void 0?void 0:u,d=n.enhancers,f=d===void 0?void 0:d,h;if(typeof i=="function")h=i;else if(b3(i))h=g3(i);else throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');var p=s;typeof p=="function"&&(p=p(t));var y=ax.apply(void 0,p),_=Fu;l&&(_=S3(Zi({trace:!k3},typeof l=="object"&&l)));var g=new A3(y),m=g;Array.isArray(f)?m=Sa([y],f):typeof f=="function"&&(m=f(g));var w=_.apply(void 0,m);return Ow(h,c,w)}function dx(e){var t={},n=[],r,i={addCase:function(o,s){var a=typeof o=="string"?o:o.type;if(!a)throw new Error("`builder.addCase` cannot be called with an empty action type");if(a in t)throw new Error("`builder.addCase` cannot be called with two reducers for the same action type");return t[a]=s,i},addMatcher:function(o,s){return n.push({matcher:o,reducer:s}),i},addDefaultCase:function(o){return r=o,i}};return e(i),[t,n,r]}function N3(e){return typeof e=="function"}function O3(e,t,n,r){n===void 0&&(n=[]);var i=typeof t=="function"?dx(t):[t,n,r],o=i[0],s=i[1],a=i[2],l;if(N3(e))l=function(){return Wy(e())};else{var u=Wy(e);l=function(){return u}}function c(d,f){d===void 0&&(d=l());var h=Sa([o[f.type]],s.filter(function(p){var y=p.matcher;return y(f)}).map(function(p){var y=p.reducer;return y}));return h.filter(function(p){return!!p}).length===0&&(h=[a]),h.reduce(function(p,y){if(y)if(uo(p)){var _=p,g=y(_,f);return g===void 0?p:g}else{if(pi(p))return sx(p,function(m){return y(m,f)});var g=y(p,f);if(g===void 0){if(p===null)return p;throw Error("A case reducer on a non-draftable value must not return undefined")}return g}return p},d)}return c.getInitialState=l,c}function L3(e,t){return e+"/"+t}function fx(e){var t=e.name;if(!t)throw new Error("`name` is a required option for createSlice");typeof process<"u";var n=typeof e.initialState=="function"?e.initialState:Wy(e.initialState),r=e.reducers||{},i=Object.keys(r),o={},s={},a={};i.forEach(function(c){var d=r[c],f=L3(t,c),h,p;"reducer"in d?(h=d.reducer,p=d.prepare):h=d,o[c]=h,s[f]=h,a[c]=p?eo(f,p):eo(f)});function l(){var c=typeof e.extraReducers=="function"?dx(e.extraReducers):[e.extraReducers],d=c[0],f=d===void 0?{}:d,h=c[1],p=h===void 0?[]:h,y=c[2],_=y===void 0?void 0:y,g=Zi(Zi({},f),s);return O3(n,function(m){for(var w in g)m.addCase(w,g[w]);for(var v=0,I=p;v<I.length;v++){var b=I[v];m.addMatcher(b.matcher,b.reducer)}_&&m.addDefaultCase(_)})}var u;return{name:t,reducer:function(c,d){return u||(u=l()),u(c,d)},actions:a,caseReducers:o,getInitialState:function(){return u||(u=l()),u.getInitialState()}}}var M3="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",V3=function(e){e===void 0&&(e=21);for(var t="",n=e;n--;)t+=M3[Math.random()*64|0];return t},F3=["name","message","stack","code"],Bm=function(){function e(t,n){this.payload=t,this.meta=n}return e}(),E1=function(){function e(t,n){this.payload=t,this.meta=n}return e}(),$3=function(e){if(typeof e=="object"&&e!==null){for(var t={},n=0,r=F3;n<r.length;n++){var i=r[n];typeof e[i]=="string"&&(t[i]=e[i])}return t}return{message:String(e)}},U3=function(){function e(t,n,r){var i=eo(t+"/fulfilled",function(u,c,d,f){return{payload:u,meta:Um(Zi({},f||{}),{arg:d,requestId:c,requestStatus:"fulfilled"})}}),o=eo(t+"/pending",function(u,c,d){return{payload:void 0,meta:Um(Zi({},d||{}),{arg:c,requestId:u,requestStatus:"pending"})}}),s=eo(t+"/rejected",function(u,c,d,f,h){return{payload:f,error:(r&&r.serializeError||$3)(u||"Rejected"),meta:Um(Zi({},h||{}),{arg:d,requestId:c,rejectedWithValue:!!f,requestStatus:"rejected",aborted:(u==null?void 0:u.name)==="AbortError",condition:(u==null?void 0:u.name)==="ConditionError"})}}),a=typeof AbortController<"u"?AbortController:function(){function u(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return u.prototype.abort=function(){},u}();function l(u){return function(c,d,f){var h=r!=null&&r.idGenerator?r.idGenerator(u):V3(),p=new a,y;function _(m){y=m,p.abort()}var g=function(){return T3(this,null,function(){var m,w,v,I,b,R,A;return y3(this,function(O){switch(O.label){case 0:return O.trys.push([0,4,,5]),I=(m=r==null?void 0:r.condition)==null?void 0:m.call(r,u,{getState:d,extra:f}),j3(I)?[4,I]:[3,2];case 1:I=O.sent(),O.label=2;case 2:if(I===!1||p.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return b=new Promise(function(k,j){return p.signal.addEventListener("abort",function(){return j({name:"AbortError",message:y||"Aborted"})})}),c(o(h,u,(w=r==null?void 0:r.getPendingMeta)==null?void 0:w.call(r,{requestId:h,arg:u},{getState:d,extra:f}))),[4,Promise.race([b,Promise.resolve(n(u,{dispatch:c,getState:d,extra:f,requestId:h,signal:p.signal,abort:_,rejectWithValue:function(k,j){return new Bm(k,j)},fulfillWithValue:function(k,j){return new E1(k,j)}})).then(function(k){if(k instanceof Bm)throw k;return k instanceof E1?i(k.payload,h,u,k.meta):i(k,h,u)})])];case 3:return v=O.sent(),[3,5];case 4:return R=O.sent(),v=R instanceof Bm?s(null,h,u,R.payload,R.meta):s(R,h,u),[3,5];case 5:return A=r&&!r.dispatchConditionRejection&&s.match(v)&&v.meta.condition,A||c(v),[2,v]}})})}();return Object.assign(g,{abort:_,requestId:h,arg:u,unwrap:function(){return g.then(B3)}})}}return Object.assign(l,{pending:o,rejected:s,fulfilled:i,typePrefix:t})}return e.withTypes=function(){return e},e}();function B3(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}function j3(e){return e!==null&&typeof e=="object"&&typeof e.then=="function"}var Lw="listenerMiddleware";eo(Lw+"/add");eo(Lw+"/removeAll");eo(Lw+"/remove");var I1;typeof queueMicrotask=="function"&&queueMicrotask.bind(typeof window<"u"?window:typeof global<"u"?global:globalThis);s3();const z3={loading:!0,user:null},hx=fx({name:"auth",initialState:z3,reducers:{updateUserData:(e,t)=>{e.user={...e.user,...t.payload}},setAuth:(e,t)=>{const{user:n}=t.payload;e.user=n,e.loading=!1}}}),{setAuth:T1,updateUserData:px}=hx.actions,W3=hx.reducer;var je=(e=>(e.HOME="/",e.LINK="link",e.LOGIN="login",e.PROFILE="profile",e.REGISTER="register",e.PREVIEW="preview",e))(je||{});/**
 * @remix-run/router v1.9.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Xe(){return Xe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Xe.apply(this,arguments)}var dt;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(dt||(dt={}));const S1="popstate";function H3(e){e===void 0&&(e={});function t(r,i){let{pathname:o,search:s,hash:a}=r.location;return $u("",{pathname:o,search:s,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:as(i)}return G3(t,n,null,e)}function ye(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function ba(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function q3(){return Math.random().toString(36).substr(2,8)}function b1(e,t){return{usr:e.state,key:e.key,idx:t}}function $u(e,t,n,r){return n===void 0&&(n=null),Xe({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?yi(t):t,{state:n,key:t&&t.key||r||q3()})}function as(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function yi(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function G3(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,a=dt.Pop,l=null,u=c();u==null&&(u=0,s.replaceState(Xe({},s.state,{idx:u}),""));function c(){return(s.state||{idx:null}).idx}function d(){a=dt.Pop;let _=c(),g=_==null?null:_-u;u=_,l&&l({action:a,location:y.location,delta:g})}function f(_,g){a=dt.Push;let m=$u(y.location,_,g);n&&n(m,_),u=c()+1;let w=b1(m,u),v=y.createHref(m);try{s.pushState(w,"",v)}catch(I){if(I instanceof DOMException&&I.name==="DataCloneError")throw I;i.location.assign(v)}o&&l&&l({action:a,location:y.location,delta:1})}function h(_,g){a=dt.Replace;let m=$u(y.location,_,g);n&&n(m,_),u=c();let w=b1(m,u),v=y.createHref(m);s.replaceState(w,"",v),o&&l&&l({action:a,location:y.location,delta:0})}function p(_){let g=i.location.origin!=="null"?i.location.origin:i.location.href,m=typeof _=="string"?_:as(_);return ye(g,"No window.location.(origin|href) available to create URL for href: "+m),new URL(m,g)}let y={get action(){return a},get location(){return e(i,s)},listen(_){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(S1,d),l=_,()=>{i.removeEventListener(S1,d),l=null}},createHref(_){return t(i,_)},createURL:p,encodeLocation(_){let g=p(_);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:f,replace:h,go(_){return s.go(_)}};return y}var at;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(at||(at={}));const K3=new Set(["lazy","caseSensitive","path","id","index","children"]);function Q3(e){return e.index===!0}function Hy(e,t,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),e.map((i,o)=>{let s=[...n,o],a=typeof i.id=="string"?i.id:s.join("-");if(ye(i.index!==!0||!i.children,"Cannot specify children on an index route"),ye(!r[a],'Found a route id collision on id "'+a+`".  Route id's must be globally unique within Data Router usages`),Q3(i)){let l=Xe({},i,t(i),{id:a});return r[a]=l,l}else{let l=Xe({},i,t(i),{id:a,children:void 0});return r[a]=l,i.children&&(l.children=Hy(i.children,t,s,r)),l}})}function Ws(e,t,n){n===void 0&&(n="/");let r=typeof t=="string"?yi(t):t,i=ja(r.pathname||"/",n);if(i==null)return null;let o=mx(e);X3(o);let s=null;for(let a=0;s==null&&a<o.length;++a)s=s9(o[a],u9(i));return s}function Y3(e,t){let{route:n,pathname:r,params:i}=e;return{id:n.id,pathname:r,params:i,data:t[n.id],handle:n.handle}}function mx(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,s,a)=>{let l={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};l.relativePath.startsWith("/")&&(ye(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=ni([r,l.relativePath]),c=n.concat(l);o.children&&o.children.length>0&&(ye(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),mx(o.children,t,c,u)),!(o.path==null&&!o.index)&&t.push({path:u,score:i9(u,o.index),routesMeta:c})};return e.forEach((o,s)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))i(o,s);else for(let l of gx(o.path))i(o,s,l)}),t}function gx(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=gx(r.join("/")),a=[];return a.push(...s.map(l=>l===""?o:[o,l].join("/"))),i&&a.push(...s),a.map(l=>e.startsWith("/")&&l===""?"/":l)}function X3(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:o9(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const J3=/^:\w+$/,Z3=3,e9=2,t9=1,n9=10,r9=-2,R1=e=>e==="*";function i9(e,t){let n=e.split("/"),r=n.length;return n.some(R1)&&(r+=r9),t&&(r+=e9),n.filter(i=>!R1(i)).reduce((i,o)=>i+(J3.test(o)?Z3:o===""?t9:n9),r)}function o9(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function s9(e,t){let{routesMeta:n}=e,r={},i="/",o=[];for(let s=0;s<n.length;++s){let a=n[s],l=s===n.length-1,u=i==="/"?t:t.slice(i.length)||"/",c=a9({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},u);if(!c)return null;Object.assign(r,c.params);let d=a.route;o.push({params:r,pathname:ni([i,c.pathname]),pathnameBase:h9(ni([i,c.pathnameBase])),route:d}),c.pathnameBase!=="/"&&(i=ni([i,c.pathnameBase]))}return o}function a9(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=l9(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,c,d)=>{if(c==="*"){let f=a[d]||"";s=o.slice(0,o.length-f.length).replace(/(.)\/+$/,"$1")}return u[c]=c9(a[d]||"",c),u},{}),pathname:o,pathnameBase:s,pattern:e}}function l9(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),ba(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(s,a)=>(r.push(a),"/([^\\/]+)"));return e.endsWith("*")?(r.push("*"),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function u9(e){try{return decodeURI(e)}catch(t){return ba(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function c9(e,t){try{return decodeURIComponent(e)}catch(n){return ba(!1,'The value for the URL param "'+t+'" will not be decoded because'+(' the string "'+e+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),e}}function ja(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function d9(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?yi(e):e;return{pathname:n?n.startsWith("/")?n:f9(n,t):t,search:p9(r),hash:m9(i)}}function f9(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function jm(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Ec(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function vp(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=yi(e):(i=Xe({},e),ye(!i.pathname||!i.pathname.includes("?"),jm("?","pathname","search",i)),ye(!i.pathname||!i.pathname.includes("#"),jm("#","pathname","hash",i)),ye(!i.search||!i.search.includes("#"),jm("#","search","hash",i)));let o=e===""||i.pathname==="",s=o?"/":i.pathname,a;if(r||s==null)a=n;else{let d=t.length-1;if(s.startsWith("..")){let f=s.split("/");for(;f[0]==="..";)f.shift(),d-=1;i.pathname=f.join("/")}a=d>=0?t[d]:"/"}let l=d9(i,a),u=s&&s!=="/"&&s.endsWith("/"),c=(o||s===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const ni=e=>e.join("/").replace(/\/\/+/g,"/"),h9=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),p9=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,m9=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;class Mw{constructor(t,n,r,i){i===void 0&&(i=!1),this.status=t,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function yx(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const vx=["post","put","patch","delete"],g9=new Set(vx),y9=["get",...vx],v9=new Set(y9),_9=new Set([301,302,303,307,308]),w9=new Set([307,308]),zm={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},E9={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},ul={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},_x=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,I9=e=>({hasErrorBoundary:!!e.hasErrorBoundary});function T9(e){const t=e.window?e.window:typeof window<"u"?window:void 0,n=typeof t<"u"&&typeof t.document<"u"&&typeof t.document.createElement<"u",r=!n;ye(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(e.mapRouteProperties)i=e.mapRouteProperties;else if(e.detectErrorBoundary){let C=e.detectErrorBoundary;i=x=>({hasErrorBoundary:C(x)})}else i=I9;let o={},s=Hy(e.routes,i,void 0,o),a,l=e.basename||"/",u=Xe({v7_normalizeFormMethod:!1,v7_prependBasename:!1},e.future),c=null,d=new Set,f=null,h=null,p=null,y=e.hydrationData!=null,_=Ws(s,e.history.location,l),g=null;if(_==null){let C=Fn(404,{pathname:e.history.location.pathname}),{matches:x,route:L}=O1(s);_=x,g={[L.id]:C}}let m=!_.some(C=>C.route.lazy)&&(!_.some(C=>C.route.loader)||e.hydrationData!=null),w,v={historyAction:e.history.action,location:e.history.location,matches:_,initialized:m,navigation:zm,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||g,fetchers:new Map,blockers:new Map},I=dt.Pop,b=!1,R,A=!1,O=!1,k=[],j=[],$=new Map,X=0,oe=-1,pe=new Map,he=new Set,we=new Map,V=new Map,J=new Map,ie=!1;function Pe(){return c=e.history.listen(C=>{let{action:x,location:L,delta:Q}=C;if(ie){ie=!1;return}ba(J.size===0||Q!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let de=Rc({currentLocation:v.location,nextLocation:L,historyAction:x});if(de&&Q!=null){ie=!0,e.history.go(Q*-1),er(de,{state:"blocked",location:L,proceed(){er(de,{state:"proceeding",proceed:void 0,reset:void 0,location:L}),e.history.go(Q)},reset(){let ue=new Map(v.blockers);ue.set(de,ul),Re({blockers:ue})}});return}return wn(x,L)}),v.initialized||wn(dt.Pop,v.location),w}function Le(){c&&c(),d.clear(),R&&R.abort(),v.fetchers.forEach((C,x)=>D(x)),v.blockers.forEach((C,x)=>qe(x))}function fn(C){return d.add(C),()=>d.delete(C)}function Re(C){v=Xe({},v,C),d.forEach(x=>x(v))}function Jt(C,x){var L,Q;let de=v.actionData!=null&&v.navigation.formMethod!=null&&sr(v.navigation.formMethod)&&v.navigation.state==="loading"&&((L=C.state)==null?void 0:L._isRedirect)!==!0,ue;x.actionData?Object.keys(x.actionData).length>0?ue=x.actionData:ue=null:de?ue=v.actionData:ue=null;let me=x.loaderData?N1(v.loaderData,x.loaderData,x.matches||[],x.errors):v.loaderData,se=v.blockers;se.size>0&&(se=new Map(se),se.forEach((Ye,Ft)=>se.set(Ft,ul)));let re=b===!0||v.navigation.formMethod!=null&&sr(v.navigation.formMethod)&&((Q=C.state)==null?void 0:Q._isRedirect)!==!0;a&&(s=a,a=void 0),A||I===dt.Pop||(I===dt.Push?e.history.push(C,C.state):I===dt.Replace&&e.history.replace(C,C.state)),Re(Xe({},x,{actionData:ue,loaderData:me,historyAction:I,location:C,initialized:!0,navigation:zm,revalidation:"idle",restoreScrollPosition:Pc(C,x.matches||v.matches),preventScrollReset:re,blockers:se})),I=dt.Pop,b=!1,A=!1,O=!1,k=[],j=[]}async function wt(C,x){if(typeof C=="number"){e.history.go(C);return}let L=qy(v.location,v.matches,l,u.v7_prependBasename,C,x==null?void 0:x.fromRouteId,x==null?void 0:x.relative),{path:Q,submission:de,error:ue}=A1(u.v7_normalizeFormMethod,!1,L,x),me=v.location,se=$u(v.location,Q,x&&x.state);se=Xe({},se,e.history.encodeLocation(se));let re=x&&x.replace!=null?x.replace:void 0,Ye=dt.Push;re===!0?Ye=dt.Replace:re===!1||de!=null&&sr(de.formMethod)&&de.formAction===v.location.pathname+v.location.search&&(Ye=dt.Replace);let Ft=x&&"preventScrollReset"in x?x.preventScrollReset===!0:void 0,Ae=Rc({currentLocation:me,nextLocation:se,historyAction:Ye});if(Ae){er(Ae,{state:"blocked",location:se,proceed(){er(Ae,{state:"proceeding",proceed:void 0,reset:void 0,location:se}),wt(C,x)},reset(){let Me=new Map(v.blockers);Me.set(Ae,ul),Re({blockers:Me})}});return}return await wn(Ye,se,{submission:de,pendingError:ue,preventScrollReset:Ft,replace:x&&x.replace})}function Mn(){if(S(),Re({revalidation:"loading"}),v.navigation.state!=="submitting"){if(v.navigation.state==="idle"){wn(v.historyAction,v.location,{startUninterruptedRevalidation:!0});return}wn(I||v.historyAction,v.navigation.location,{overrideNavigation:v.navigation})}}async function wn(C,x,L){R&&R.abort(),R=null,I=C,A=(L&&L.startUninterruptedRevalidation)===!0,Cc(v.location,v.matches),b=(L&&L.preventScrollReset)===!0;let Q=a||s,de=L&&L.overrideNavigation,ue=Ws(Q,x,l);if(!ue){let Me=Fn(404,{pathname:x.pathname}),{matches:st,route:Eo}=O1(Q);wo(),Jt(x,{matches:st,loaderData:{},errors:{[Eo.id]:Me}});return}if(v.initialized&&!O&&C9(v.location,x)&&!(L&&L.submission&&sr(L.submission.formMethod))){Jt(x,{matches:ue});return}R=new AbortController;let me=dl(e.history,x,R.signal,L&&L.submission),se,re;if(L&&L.pendingError)re={[Hs(ue).route.id]:L.pendingError};else if(L&&L.submission&&sr(L.submission.formMethod)){let Me=await zr(me,x,L.submission,ue,{replace:L.replace});if(Me.shortCircuited)return;se=Me.pendingActionData,re=Me.pendingActionError,de=Wm(x,L.submission),me=new Request(me.url,{signal:me.signal})}let{shortCircuited:Ye,loaderData:Ft,errors:Ae}=await _i(me,x,ue,de,L&&L.submission,L&&L.fetcherSubmission,L&&L.replace,se,re);Ye||(R=null,Jt(x,Xe({matches:ue},se?{actionData:se}:{},{loaderData:Ft,errors:Ae})))}async function zr(C,x,L,Q,de){de===void 0&&(de={}),S();let ue=D9(x,L);Re({navigation:ue});let me,se=Ky(Q,x);if(!se.route.action&&!se.route.lazy)me={type:at.error,error:Fn(405,{method:C.method,pathname:x.pathname,routeId:se.route.id})};else if(me=await cl("action",C,se,Q,o,i,l),C.signal.aborted)return{shortCircuited:!0};if(aa(me)){let re;return de&&de.replace!=null?re=de.replace:re=me.location===v.location.pathname+v.location.search,await Es(v,me,{submission:L,replace:re}),{shortCircuited:!0}}if(Ql(me)){let re=Hs(Q,se.route.id);return(de&&de.replace)!==!0&&(I=dt.Push),{pendingActionData:{},pendingActionError:{[re.route.id]:me.error}}}if(Fo(me))throw Fn(400,{type:"defer-action"});return{pendingActionData:{[se.route.id]:me.data}}}async function _i(C,x,L,Q,de,ue,me,se,re){let Ye=Q||Wm(x,de),Ft=de||ue||V1(Ye),Ae=a||s,[Me,st]=C1(e.history,v,L,Ft,x,O,k,j,we,he,Ae,l,se,re);if(wo(Oe=>!(L&&L.some(tr=>tr.route.id===Oe))||Me&&Me.some(tr=>tr.route.id===Oe)),oe=++X,Me.length===0&&st.length===0){let Oe=U();return Jt(x,Xe({matches:L,loaderData:{},errors:re||null},se?{actionData:se}:{},Oe?{fetchers:new Map(v.fetchers)}:{})),{shortCircuited:!0}}if(!A){st.forEach(tr=>{let wi=v.fetchers.get(tr.key),Vp=fl(void 0,wi?wi.data:void 0);v.fetchers.set(tr.key,Vp)});let Oe=se||v.actionData;Re(Xe({navigation:Ye},Oe?Object.keys(Oe).length===0?{actionData:null}:{actionData:Oe}:{},st.length>0?{fetchers:new Map(v.fetchers)}:{}))}st.forEach(Oe=>{$.has(Oe.key)&&K(Oe.key),Oe.controller&&$.set(Oe.key,Oe.controller)});let Eo=()=>st.forEach(Oe=>K(Oe.key));R&&R.signal.addEventListener("abort",Eo);let{results:Io,loaderResults:Qa,fetcherResults:Np}=await Dp(v.matches,L,Me,st,C);if(C.signal.aborted)return{shortCircuited:!0};R&&R.signal.removeEventListener("abort",Eo),st.forEach(Oe=>$.delete(Oe.key));let Wr=L1(Io);if(Wr){if(Wr.idx>=Me.length){let Oe=st[Wr.idx-Me.length].key;he.add(Oe)}return await Es(v,Wr.result,{replace:me}),{shortCircuited:!0}}let{loaderData:Hr,errors:kc}=D1(v,L,Me,Qa,re,st,Np,V);V.forEach((Oe,tr)=>{Oe.subscribe(wi=>{(wi||Oe.done)&&V.delete(tr)})});let Op=U(),Lp=te(oe),Mp=Op||Lp||st.length>0;return Xe({loaderData:Hr,errors:kc},Mp?{fetchers:new Map(v.fetchers)}:{})}function Ga(C){return v.fetchers.get(C)||E9}function Zt(C,x,L,Q){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");$.has(C)&&K(C);let de=a||s,ue=qy(v.location,v.matches,l,u.v7_prependBasename,L,x,Q==null?void 0:Q.relative),me=Ws(de,ue,l);if(!me){P(C,x,Fn(404,{pathname:ue}));return}let{path:se,submission:re,error:Ye}=A1(u.v7_normalizeFormMethod,!0,ue,Q);if(Ye){P(C,x,Ye);return}let Ft=Ky(me,se);if(b=(Q&&Q.preventScrollReset)===!0,re&&sr(re.formMethod)){_r(C,x,se,Ft,me,re);return}we.set(C,{routeId:x,path:se}),m0(C,x,se,Ft,me,re)}async function _r(C,x,L,Q,de,ue){if(S(),we.delete(C),!Q.route.action&&!Q.route.lazy){let mt=Fn(405,{method:ue.formMethod,pathname:L,routeId:x});P(C,x,mt);return}let me=v.fetchers.get(C),se=N9(ue,me);v.fetchers.set(C,se),Re({fetchers:new Map(v.fetchers)});let re=new AbortController,Ye=dl(e.history,L,re.signal,ue);$.set(C,re);let Ft=X,Ae=await cl("action",Ye,Q,de,o,i,l);if(Ye.signal.aborted){$.get(C)===re&&$.delete(C);return}if(aa(Ae))if($.delete(C),oe>Ft){let mt=Ps(void 0);v.fetchers.set(C,mt),Re({fetchers:new Map(v.fetchers)});return}else{he.add(C);let mt=fl(ue);return v.fetchers.set(C,mt),Re({fetchers:new Map(v.fetchers)}),Es(v,Ae,{fetcherSubmission:ue})}if(Ql(Ae)){P(C,x,Ae.error);return}if(Fo(Ae))throw Fn(400,{type:"defer-action"});let Me=v.navigation.location||v.location,st=dl(e.history,Me,re.signal),Eo=a||s,Io=v.navigation.state!=="idle"?Ws(Eo,v.navigation.location,l):v.matches;ye(Io,"Didn't find any matches after fetcher action");let Qa=++X;pe.set(C,Qa);let Np=fl(ue,Ae.data);v.fetchers.set(C,Np);let[Wr,Hr]=C1(e.history,v,Io,ue,Me,O,k,j,we,he,Eo,l,{[Q.route.id]:Ae.data},void 0);Hr.filter(mt=>mt.key!==C).forEach(mt=>{let Ya=mt.key,g0=v.fetchers.get(Ya),oD=fl(void 0,g0?g0.data:void 0);v.fetchers.set(Ya,oD),$.has(Ya)&&K(Ya),mt.controller&&$.set(Ya,mt.controller)}),Re({fetchers:new Map(v.fetchers)});let kc=()=>Hr.forEach(mt=>K(mt.key));re.signal.addEventListener("abort",kc);let{results:Op,loaderResults:Lp,fetcherResults:Mp}=await Dp(v.matches,Io,Wr,Hr,st);if(re.signal.aborted)return;re.signal.removeEventListener("abort",kc),pe.delete(C),$.delete(C),Hr.forEach(mt=>$.delete(mt.key));let Oe=L1(Op);if(Oe){if(Oe.idx>=Wr.length){let mt=Hr[Oe.idx-Wr.length].key;he.add(mt)}return Es(v,Oe.result)}let{loaderData:tr,errors:wi}=D1(v,v.matches,Wr,Lp,void 0,Hr,Mp,V);if(v.fetchers.has(C)){let mt=Ps(Ae.data);v.fetchers.set(C,mt)}let Vp=te(Qa);v.navigation.state==="loading"&&Qa>oe?(ye(I,"Expected pending action"),R&&R.abort(),Jt(v.navigation.location,{matches:Io,loaderData:tr,errors:wi,fetchers:new Map(v.fetchers)})):(Re(Xe({errors:wi,loaderData:N1(v.loaderData,tr,Io,wi)},Vp||Hr.length>0?{fetchers:new Map(v.fetchers)}:{})),O=!1)}async function m0(C,x,L,Q,de,ue){let me=v.fetchers.get(C),se=fl(ue,me?me.data:void 0);v.fetchers.set(C,se),Re({fetchers:new Map(v.fetchers)});let re=new AbortController,Ye=dl(e.history,L,re.signal);$.set(C,re);let Ft=X,Ae=await cl("loader",Ye,Q,de,o,i,l);if(Fo(Ae)&&(Ae=await Ix(Ae,Ye.signal,!0)||Ae),$.get(C)===re&&$.delete(C),Ye.signal.aborted)return;if(aa(Ae))if(oe>Ft){let st=Ps(void 0);v.fetchers.set(C,st),Re({fetchers:new Map(v.fetchers)});return}else{he.add(C),await Es(v,Ae);return}if(Ql(Ae)){let st=Hs(v.matches,x);v.fetchers.delete(C),Re({fetchers:new Map(v.fetchers),errors:{[st.route.id]:Ae.error}});return}ye(!Fo(Ae),"Unhandled fetcher deferred data");let Me=Ps(Ae.data);v.fetchers.set(C,Me),Re({fetchers:new Map(v.fetchers)})}async function Es(C,x,L){let{submission:Q,fetcherSubmission:de,replace:ue}=L===void 0?{}:L;x.revalidate&&(O=!0);let me=$u(C.location,x.location,{_isRedirect:!0});if(ye(me,"Expected a location on the redirect navigation"),n){let Me=!1;if(x.reloadDocument)Me=!0;else if(_x.test(x.location)){const st=e.history.createURL(x.location);Me=st.origin!==t.location.origin||ja(st.pathname,l)==null}if(Me){ue?t.location.replace(x.location):t.location.assign(x.location);return}}R=null;let se=ue===!0?dt.Replace:dt.Push,{formMethod:re,formAction:Ye,formEncType:Ft}=C.navigation;!Q&&!de&&re&&Ye&&Ft&&(Q=V1(C.navigation));let Ae=Q||de;if(w9.has(x.status)&&Ae&&sr(Ae.formMethod))await wn(se,me,{submission:Xe({},Ae,{formAction:x.location}),preventScrollReset:b});else{let Me=Wm(me,Q);await wn(se,me,{overrideNavigation:Me,fetcherSubmission:de,preventScrollReset:b})}}async function Dp(C,x,L,Q,de){let ue=await Promise.all([...L.map(re=>cl("loader",de,re,x,o,i,l)),...Q.map(re=>re.matches&&re.match&&re.controller?cl("loader",dl(e.history,re.path,re.controller.signal),re.match,re.matches,o,i,l):{type:at.error,error:Fn(404,{pathname:re.path})})]),me=ue.slice(0,L.length),se=ue.slice(L.length);return await Promise.all([M1(C,L,me,me.map(()=>de.signal),!1,v.loaderData),M1(C,Q.map(re=>re.match),se,Q.map(re=>re.controller?re.controller.signal:null),!0)]),{results:ue,loaderResults:me,fetcherResults:se}}function S(){O=!0,k.push(...wo()),we.forEach((C,x)=>{$.has(x)&&(j.push(x),K(x))})}function P(C,x,L){let Q=Hs(v.matches,x);D(C),Re({errors:{[Q.route.id]:L},fetchers:new Map(v.fetchers)})}function D(C){let x=v.fetchers.get(C);$.has(C)&&!(x&&x.state==="loading"&&pe.has(C))&&K(C),we.delete(C),pe.delete(C),he.delete(C),v.fetchers.delete(C)}function K(C){let x=$.get(C);ye(x,"Expected fetch controller: "+C),x.abort(),$.delete(C)}function W(C){for(let x of C){let L=Ga(x),Q=Ps(L.data);v.fetchers.set(x,Q)}}function U(){let C=[],x=!1;for(let L of he){let Q=v.fetchers.get(L);ye(Q,"Expected fetcher: "+L),Q.state==="loading"&&(he.delete(L),C.push(L),x=!0)}return W(C),x}function te(C){let x=[];for(let[L,Q]of pe)if(Q<C){let de=v.fetchers.get(L);ye(de,"Expected fetcher: "+L),de.state==="loading"&&(K(L),pe.delete(L),x.push(L))}return W(x),x.length>0}function He(C,x){let L=v.blockers.get(C)||ul;return J.get(C)!==x&&J.set(C,x),L}function qe(C){v.blockers.delete(C),J.delete(C)}function er(C,x){let L=v.blockers.get(C)||ul;ye(L.state==="unblocked"&&x.state==="blocked"||L.state==="blocked"&&x.state==="blocked"||L.state==="blocked"&&x.state==="proceeding"||L.state==="blocked"&&x.state==="unblocked"||L.state==="proceeding"&&x.state==="unblocked","Invalid blocker state transition: "+L.state+" -> "+x.state);let Q=new Map(v.blockers);Q.set(C,x),Re({blockers:Q})}function Rc(C){let{currentLocation:x,nextLocation:L,historyAction:Q}=C;if(J.size===0)return;J.size>1&&ba(!1,"A router only supports one blocker at a time");let de=Array.from(J.entries()),[ue,me]=de[de.length-1],se=v.blockers.get(ue);if(!(se&&se.state==="proceeding")&&me({currentLocation:x,nextLocation:L,historyAction:Q}))return ue}function wo(C){let x=[];return V.forEach((L,Q)=>{(!C||C(Q))&&(L.cancel(),x.push(Q),V.delete(Q))}),x}function Ka(C,x,L){if(f=C,p=x,h=L||null,!y&&v.navigation===zm){y=!0;let Q=Pc(v.location,v.matches);Q!=null&&Re({restoreScrollPosition:Q})}return()=>{f=null,p=null,h=null}}function Ac(C,x){return h&&h(C,x.map(Q=>Y3(Q,v.loaderData)))||C.key}function Cc(C,x){if(f&&p){let L=Ac(C,x);f[L]=p()}}function Pc(C,x){if(f){let L=Ac(C,x),Q=f[L];if(typeof Q=="number")return Q}return null}function xc(C){o={},a=Hy(C,i,void 0,o)}return w={get basename(){return l},get state(){return v},get routes(){return s},initialize:Pe,subscribe:fn,enableScrollRestoration:Ka,navigate:wt,fetch:Zt,revalidate:Mn,createHref:C=>e.history.createHref(C),encodeLocation:C=>e.history.encodeLocation(C),getFetcher:Ga,deleteFetcher:D,dispose:Le,getBlocker:He,deleteBlocker:qe,_internalFetchControllers:$,_internalActiveDeferreds:V,_internalSetRoutes:xc},w}function S9(e){return e!=null&&("formData"in e&&e.formData!=null||"body"in e&&e.body!==void 0)}function qy(e,t,n,r,i,o,s){let a,l;if(o!=null&&s!=="path"){a=[];for(let c of t)if(a.push(c),c.route.id===o){l=c;break}}else a=t,l=t[t.length-1];let u=vp(i||".",Ec(a).map(c=>c.pathnameBase),ja(e.pathname,n)||e.pathname,s==="path");return i==null&&(u.search=e.search,u.hash=e.hash),(i==null||i===""||i===".")&&l&&l.route.index&&!Vw(u.search)&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),r&&n!=="/"&&(u.pathname=u.pathname==="/"?n:ni([n,u.pathname])),as(u)}function A1(e,t,n,r){if(!r||!S9(r))return{path:n};if(r.formMethod&&!k9(r.formMethod))return{path:n,error:Fn(405,{method:r.formMethod})};let i=()=>({path:n,error:Fn(400,{type:"invalid-body"})}),o=r.formMethod||"get",s=e?o.toUpperCase():o.toLowerCase(),a=Ex(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!sr(s))return i();let f=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((h,p)=>{let[y,_]=p;return""+h+y+"="+_+`
`},""):String(r.body);return{path:n,submission:{formMethod:s,formAction:a,formEncType:r.formEncType,formData:void 0,json:void 0,text:f}}}else if(r.formEncType==="application/json"){if(!sr(s))return i();try{let f=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:s,formAction:a,formEncType:r.formEncType,formData:void 0,json:f,text:void 0}}}catch{return i()}}}ye(typeof FormData=="function","FormData is not available in this environment");let l,u;if(r.formData)l=Gy(r.formData),u=r.formData;else if(r.body instanceof FormData)l=Gy(r.body),u=r.body;else if(r.body instanceof URLSearchParams)l=r.body,u=k1(l);else if(r.body==null)l=new URLSearchParams,u=new FormData;else try{l=new URLSearchParams(r.body),u=k1(l)}catch{return i()}let c={formMethod:s,formAction:a,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:u,json:void 0,text:void 0};if(sr(c.formMethod))return{path:n,submission:c};let d=yi(n);return t&&d.search&&Vw(d.search)&&l.append("index",""),d.search="?"+l,{path:as(d),submission:c}}function b9(e,t){let n=e;if(t){let r=e.findIndex(i=>i.route.id===t);r>=0&&(n=e.slice(0,r))}return n}function C1(e,t,n,r,i,o,s,a,l,u,c,d,f,h){let p=h?Object.values(h)[0]:f?Object.values(f)[0]:void 0,y=e.createURL(t.location),_=e.createURL(i),g=h?Object.keys(h)[0]:void 0,w=b9(n,g).filter((I,b)=>{if(I.route.lazy)return!0;if(I.route.loader==null)return!1;if(R9(t.loaderData,t.matches[b],I)||s.some(O=>O===I.route.id))return!0;let R=t.matches[b],A=I;return P1(I,Xe({currentUrl:y,currentParams:R.params,nextUrl:_,nextParams:A.params},r,{actionResult:p,defaultShouldRevalidate:o||y.pathname+y.search===_.pathname+_.search||y.search!==_.search||wx(R,A)}))}),v=[];return l.forEach((I,b)=>{if(!n.some(j=>j.route.id===I.routeId))return;let R=Ws(c,I.path,d);if(!R){v.push({key:b,routeId:I.routeId,path:I.path,matches:null,match:null,controller:null});return}let A=t.fetchers.get(b),O=Ky(R,I.path),k=!1;u.has(b)?k=!1:a.includes(b)?k=!0:A&&A.state!=="idle"&&A.data===void 0?k=o:k=P1(O,Xe({currentUrl:y,currentParams:t.matches[t.matches.length-1].params,nextUrl:_,nextParams:n[n.length-1].params},r,{actionResult:p,defaultShouldRevalidate:o})),k&&v.push({key:b,routeId:I.routeId,path:I.path,matches:R,match:O,controller:new AbortController})}),[w,v]}function R9(e,t,n){let r=!t||n.route.id!==t.route.id,i=e[n.route.id]===void 0;return r||i}function wx(e,t){let n=e.route.path;return e.pathname!==t.pathname||n!=null&&n.endsWith("*")&&e.params["*"]!==t.params["*"]}function P1(e,t){if(e.route.shouldRevalidate){let n=e.route.shouldRevalidate(t);if(typeof n=="boolean")return n}return t.defaultShouldRevalidate}async function x1(e,t,n){if(!e.lazy)return;let r=await e.lazy();if(!e.lazy)return;let i=n[e.id];ye(i,"No route found in manifest");let o={};for(let s in r){let l=i[s]!==void 0&&s!=="hasErrorBoundary";ba(!l,'Route "'+i.id+'" has a static property "'+s+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+s+'" will be ignored.')),!l&&!K3.has(s)&&(o[s]=r[s])}Object.assign(i,o),Object.assign(i,Xe({},t(i),{lazy:void 0}))}async function cl(e,t,n,r,i,o,s,a){a===void 0&&(a={});let l,u,c,d=p=>{let y,_=new Promise((g,m)=>y=m);return c=()=>y(),t.signal.addEventListener("abort",c),Promise.race([p({request:t,params:n.params,context:a.requestContext}),_])};try{let p=n.route[e];if(n.route.lazy)if(p){let y,_=await Promise.all([d(p).catch(g=>{y=g}),x1(n.route,o,i)]);if(y)throw y;u=_[0]}else if(await x1(n.route,o,i),p=n.route[e],p)u=await d(p);else if(e==="action"){let y=new URL(t.url),_=y.pathname+y.search;throw Fn(405,{method:t.method,pathname:_,routeId:n.route.id})}else return{type:at.data,data:void 0};else if(p)u=await d(p);else{let y=new URL(t.url),_=y.pathname+y.search;throw Fn(404,{pathname:_})}ye(u!==void 0,"You defined "+(e==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+e+"` ")+"function. Please return a value or `null`.")}catch(p){l=at.error,u=p}finally{c&&t.signal.removeEventListener("abort",c)}if(x9(u)){let p=u.status;if(_9.has(p)){let g=u.headers.get("Location");if(ye(g,"Redirects returned/thrown from loaders/actions must have a Location header"),!_x.test(g))g=qy(new URL(t.url),r.slice(0,r.indexOf(n)+1),s,!0,g);else if(!a.isStaticRequest){let m=new URL(t.url),w=g.startsWith("//")?new URL(m.protocol+g):new URL(g),v=ja(w.pathname,s)!=null;w.origin===m.origin&&v&&(g=w.pathname+w.search+w.hash)}if(a.isStaticRequest)throw u.headers.set("Location",g),u;return{type:at.redirect,status:p,location:g,revalidate:u.headers.get("X-Remix-Revalidate")!==null,reloadDocument:u.headers.get("X-Remix-Reload-Document")!==null}}if(a.isRouteRequest)throw{type:l===at.error?at.error:at.data,response:u};let y,_=u.headers.get("Content-Type");return _&&/\bapplication\/json\b/.test(_)?y=await u.json():y=await u.text(),l===at.error?{type:l,error:new Mw(p,u.statusText,y),headers:u.headers}:{type:at.data,data:y,statusCode:u.status,headers:u.headers}}if(l===at.error)return{type:l,error:u};if(P9(u)){var f,h;return{type:at.deferred,deferredData:u,statusCode:(f=u.init)==null?void 0:f.status,headers:((h=u.init)==null?void 0:h.headers)&&new Headers(u.init.headers)}}return{type:at.data,data:u}}function dl(e,t,n,r){let i=e.createURL(Ex(t)).toString(),o={signal:n};if(r&&sr(r.formMethod)){let{formMethod:s,formEncType:a}=r;o.method=s.toUpperCase(),a==="application/json"?(o.headers=new Headers({"Content-Type":a}),o.body=JSON.stringify(r.json)):a==="text/plain"?o.body=r.text:a==="application/x-www-form-urlencoded"&&r.formData?o.body=Gy(r.formData):o.body=r.formData}return new Request(i,o)}function Gy(e){let t=new URLSearchParams;for(let[n,r]of e.entries())t.append(n,typeof r=="string"?r:r.name);return t}function k1(e){let t=new FormData;for(let[n,r]of e.entries())t.append(n,r);return t}function A9(e,t,n,r,i){let o={},s=null,a,l=!1,u={};return n.forEach((c,d)=>{let f=t[d].route.id;if(ye(!aa(c),"Cannot handle redirect results in processLoaderData"),Ql(c)){let h=Hs(e,f),p=c.error;r&&(p=Object.values(r)[0],r=void 0),s=s||{},s[h.route.id]==null&&(s[h.route.id]=p),o[f]=void 0,l||(l=!0,a=yx(c.error)?c.error.status:500),c.headers&&(u[f]=c.headers)}else Fo(c)?(i.set(f,c.deferredData),o[f]=c.deferredData.data):o[f]=c.data,c.statusCode!=null&&c.statusCode!==200&&!l&&(a=c.statusCode),c.headers&&(u[f]=c.headers)}),r&&(s=r,o[Object.keys(r)[0]]=void 0),{loaderData:o,errors:s,statusCode:a||200,loaderHeaders:u}}function D1(e,t,n,r,i,o,s,a){let{loaderData:l,errors:u}=A9(t,n,r,i,a);for(let c=0;c<o.length;c++){let{key:d,match:f,controller:h}=o[c];ye(s!==void 0&&s[c]!==void 0,"Did not find corresponding fetcher result");let p=s[c];if(!(h&&h.signal.aborted))if(Ql(p)){let y=Hs(e.matches,f==null?void 0:f.route.id);u&&u[y.route.id]||(u=Xe({},u,{[y.route.id]:p.error})),e.fetchers.delete(d)}else if(aa(p))ye(!1,"Unhandled fetcher revalidation redirect");else if(Fo(p))ye(!1,"Unhandled fetcher deferred data");else{let y=Ps(p.data);e.fetchers.set(d,y)}}return{loaderData:l,errors:u}}function N1(e,t,n,r){let i=Xe({},t);for(let o of n){let s=o.route.id;if(t.hasOwnProperty(s)?t[s]!==void 0&&(i[s]=t[s]):e[s]!==void 0&&o.route.loader&&(i[s]=e[s]),r&&r.hasOwnProperty(s))break}return i}function Hs(e,t){return(t?e.slice(0,e.findIndex(r=>r.route.id===t)+1):[...e]).reverse().find(r=>r.route.hasErrorBoundary===!0)||e[0]}function O1(e){let t=e.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function Fn(e,t){let{pathname:n,routeId:r,method:i,type:o}=t===void 0?{}:t,s="Unknown Server Error",a="Unknown @remix-run/router error";return e===400?(s="Bad Request",i&&n&&r?a="You made a "+i+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":o==="defer-action"?a="defer() is not supported in actions":o==="invalid-body"&&(a="Unable to encode submission body")):e===403?(s="Forbidden",a='Route "'+r+'" does not match URL "'+n+'"'):e===404?(s="Not Found",a='No route matches URL "'+n+'"'):e===405&&(s="Method Not Allowed",i&&n&&r?a="You made a "+i.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(a='Invalid request method "'+i.toUpperCase()+'"')),new Mw(e||500,s,new Error(a),!0)}function L1(e){for(let t=e.length-1;t>=0;t--){let n=e[t];if(aa(n))return{result:n,idx:t}}}function Ex(e){let t=typeof e=="string"?yi(e):e;return as(Xe({},t,{hash:""}))}function C9(e,t){return e.pathname!==t.pathname||e.search!==t.search?!1:e.hash===""?t.hash!=="":e.hash===t.hash?!0:t.hash!==""}function Fo(e){return e.type===at.deferred}function Ql(e){return e.type===at.error}function aa(e){return(e&&e.type)===at.redirect}function P9(e){let t=e;return t&&typeof t=="object"&&typeof t.data=="object"&&typeof t.subscribe=="function"&&typeof t.cancel=="function"&&typeof t.resolveData=="function"}function x9(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body<"u"}function k9(e){return v9.has(e.toLowerCase())}function sr(e){return g9.has(e.toLowerCase())}async function M1(e,t,n,r,i,o){for(let s=0;s<n.length;s++){let a=n[s],l=t[s];if(!l)continue;let u=e.find(d=>d.route.id===l.route.id),c=u!=null&&!wx(u,l)&&(o&&o[l.route.id])!==void 0;if(Fo(a)&&(i||c)){let d=r[s];ye(d,"Expected an AbortSignal for revalidating fetcher deferred result"),await Ix(a,d,i).then(f=>{f&&(n[s]=f||n[s])})}}}async function Ix(e,t,n){if(n===void 0&&(n=!1),!await e.deferredData.resolveData(t)){if(n)try{return{type:at.data,data:e.deferredData.unwrappedData}}catch(i){return{type:at.error,error:i}}return{type:at.data,data:e.deferredData.data}}}function Vw(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function Ky(e,t){let n=typeof t=="string"?yi(t).search:t.search;if(e[e.length-1].route.index&&Vw(n||""))return e[e.length-1];let r=Ec(e);return r[r.length-1]}function V1(e){let{formMethod:t,formAction:n,formEncType:r,text:i,formData:o,json:s}=e;if(!(!t||!n||!r)){if(i!=null)return{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(o!=null)return{formMethod:t,formAction:n,formEncType:r,formData:o,json:void 0,text:void 0};if(s!==void 0)return{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:s,text:void 0}}}function Wm(e,t){return t?{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function D9(e,t){return{state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}function fl(e,t){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function N9(e,t){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0}}function Ps(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}/**
 * React Router v6.16.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Vf(){return Vf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Vf.apply(this,arguments)}const _p=E.createContext(null),Fw=E.createContext(null),ws=E.createContext(null),wp=E.createContext(null),Ur=E.createContext({outlet:null,matches:[],isDataRoute:!1}),Tx=E.createContext(null);function O9(e,t){let{relative:n}=t===void 0?{}:t;za()||ye(!1);let{basename:r,navigator:i}=E.useContext(ws),{hash:o,pathname:s,search:a}=$w(e,{relative:n}),l=s;return r!=="/"&&(l=s==="/"?r:ni([r,s])),i.createHref({pathname:l,search:a,hash:o})}function za(){return E.useContext(wp)!=null}function vi(){return za()||ye(!1),E.useContext(wp).location}function Sx(e){E.useContext(ws).static||E.useLayoutEffect(e)}function Br(){let{isDataRoute:e}=E.useContext(Ur);return e?Q9():L9()}function L9(){za()||ye(!1);let e=E.useContext(_p),{basename:t,navigator:n}=E.useContext(ws),{matches:r}=E.useContext(Ur),{pathname:i}=vi(),o=JSON.stringify(Ec(r).map(l=>l.pathnameBase)),s=E.useRef(!1);return Sx(()=>{s.current=!0}),E.useCallback(function(l,u){if(u===void 0&&(u={}),!s.current)return;if(typeof l=="number"){n.go(l);return}let c=vp(l,JSON.parse(o),i,u.relative==="path");e==null&&t!=="/"&&(c.pathname=c.pathname==="/"?t:ni([t,c.pathname])),(u.replace?n.replace:n.push)(c,u.state,u)},[t,n,o,i,e])}const M9=E.createContext(null);function V9(e){let t=E.useContext(Ur).outlet;return t&&E.createElement(M9.Provider,{value:e},t)}function F9(){let{matches:e}=E.useContext(Ur),t=e[e.length-1];return t?t.params:{}}function $w(e,t){let{relative:n}=t===void 0?{}:t,{matches:r}=E.useContext(Ur),{pathname:i}=vi(),o=JSON.stringify(Ec(r).map(s=>s.pathnameBase));return E.useMemo(()=>vp(e,JSON.parse(o),i,n==="path"),[e,o,i,n])}function $9(e,t,n){za()||ye(!1);let{navigator:r}=E.useContext(ws),{matches:i}=E.useContext(Ur),o=i[i.length-1],s=o?o.params:{};o&&o.pathname;let a=o?o.pathnameBase:"/";o&&o.route;let l=vi(),u;if(t){var c;let y=typeof t=="string"?yi(t):t;a==="/"||(c=y.pathname)!=null&&c.startsWith(a)||ye(!1),u=y}else u=l;let d=u.pathname||"/",f=a==="/"?d:d.slice(a.length)||"/",h=Ws(e,{pathname:f}),p=W9(h&&h.map(y=>Object.assign({},y,{params:Object.assign({},s,y.params),pathname:ni([a,r.encodeLocation?r.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?a:ni([a,r.encodeLocation?r.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),i,n);return t&&p?E.createElement(wp.Provider,{value:{location:Vf({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:dt.Pop}},p):p}function U9(){let e=K9(),t=yx(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},o=null;return E.createElement(E.Fragment,null,E.createElement("h2",null,"Unexpected Application Error!"),E.createElement("h3",{style:{fontStyle:"italic"}},t),n?E.createElement("pre",{style:i},n):null,o)}const B9=E.createElement(U9,null);class j9 extends E.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error||n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error?E.createElement(Ur.Provider,{value:this.props.routeContext},E.createElement(Tx.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function z9(e){let{routeContext:t,match:n,children:r}=e,i=E.useContext(_p);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),E.createElement(Ur.Provider,{value:t},r)}function W9(e,t,n){var r;if(t===void 0&&(t=[]),n===void 0&&(n=null),e==null){var i;if((i=n)!=null&&i.errors)e=n.matches;else return null}let o=e,s=(r=n)==null?void 0:r.errors;if(s!=null){let a=o.findIndex(l=>l.route.id&&(s==null?void 0:s[l.route.id]));a>=0||ye(!1),o=o.slice(0,Math.min(o.length,a+1))}return o.reduceRight((a,l,u)=>{let c=l.route.id?s==null?void 0:s[l.route.id]:null,d=null;n&&(d=l.route.errorElement||B9);let f=t.concat(o.slice(0,u+1)),h=()=>{let p;return c?p=d:l.route.Component?p=E.createElement(l.route.Component,null):l.route.element?p=l.route.element:p=a,E.createElement(z9,{match:l,routeContext:{outlet:a,matches:f,isDataRoute:n!=null},children:p})};return n&&(l.route.ErrorBoundary||l.route.errorElement||u===0)?E.createElement(j9,{location:n.location,revalidation:n.revalidation,component:d,error:c,children:h(),routeContext:{outlet:null,matches:f,isDataRoute:!0}}):h()},null)}var bx=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(bx||{}),Ff=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Ff||{});function H9(e){let t=E.useContext(_p);return t||ye(!1),t}function q9(e){let t=E.useContext(Fw);return t||ye(!1),t}function G9(e){let t=E.useContext(Ur);return t||ye(!1),t}function Rx(e){let t=G9(),n=t.matches[t.matches.length-1];return n.route.id||ye(!1),n.route.id}function K9(){var e;let t=E.useContext(Tx),n=q9(Ff.UseRouteError),r=Rx(Ff.UseRouteError);return t||((e=n.errors)==null?void 0:e[r])}function Q9(){let{router:e}=H9(bx.UseNavigateStable),t=Rx(Ff.UseNavigateStable),n=E.useRef(!1);return Sx(()=>{n.current=!0}),E.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,Vf({fromRouteId:t},o)))},[e,t])}const Y9="startTransition",F1=ID[Y9];function X9(e){let{fallbackElement:t,router:n,future:r}=e,[i,o]=E.useState(n.state),{v7_startTransition:s}=r||{},a=E.useCallback(d=>{s&&F1?F1(()=>o(d)):o(d)},[o,s]);E.useLayoutEffect(()=>n.subscribe(a),[n,a]);let l=E.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:d=>n.navigate(d),push:(d,f,h)=>n.navigate(d,{state:f,preventScrollReset:h==null?void 0:h.preventScrollReset}),replace:(d,f,h)=>n.navigate(d,{replace:!0,state:f,preventScrollReset:h==null?void 0:h.preventScrollReset})}),[n]),u=n.basename||"/",c=E.useMemo(()=>({router:n,navigator:l,static:!1,basename:u}),[n,l,u]);return E.createElement(E.Fragment,null,E.createElement(_p.Provider,{value:c},E.createElement(Fw.Provider,{value:i},E.createElement(e6,{basename:u,location:i.location,navigationType:i.historyAction,navigator:l},i.initialized?E.createElement(J9,{routes:n.routes,state:i}):t))),null)}function J9(e){let{routes:t,state:n}=e;return $9(t,void 0,n)}function Z9(e){let{to:t,replace:n,state:r,relative:i}=e;za()||ye(!1);let{matches:o}=E.useContext(Ur),{pathname:s}=vi(),a=Br(),l=vp(t,Ec(o).map(c=>c.pathnameBase),s,i==="path"),u=JSON.stringify(l);return E.useEffect(()=>a(JSON.parse(u),{replace:n,state:r,relative:i}),[a,u,i,n,r]),null}function Ax(e){return V9(e.context)}function e6(e){let{basename:t="/",children:n=null,location:r,navigationType:i=dt.Pop,navigator:o,static:s=!1}=e;za()&&ye(!1);let a=t.replace(/^\/*/,"/"),l=E.useMemo(()=>({basename:a,navigator:o,static:s}),[a,o,s]);typeof r=="string"&&(r=yi(r));let{pathname:u="/",search:c="",hash:d="",state:f=null,key:h="default"}=r,p=E.useMemo(()=>{let y=ja(u,a);return y==null?null:{location:{pathname:y,search:c,hash:d,state:f,key:h},navigationType:i}},[a,u,c,d,f,h,i]);return p==null?null:E.createElement(ws.Provider,{value:l},E.createElement(wp.Provider,{children:n,value:p}))}new Promise(()=>{});function t6(e){let t={hasErrorBoundary:e.ErrorBoundary!=null||e.errorElement!=null};return e.Component&&Object.assign(t,{element:E.createElement(e.Component),Component:void 0}),e.ErrorBoundary&&Object.assign(t,{errorElement:E.createElement(e.ErrorBoundary),ErrorBoundary:void 0}),t}/**
 * React Router DOM v6.16.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ra(){return Ra=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ra.apply(this,arguments)}function Cx(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function n6(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function r6(e,t){return e.button===0&&(!t||t==="_self")&&!n6(e)}function Qy(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function i6(e,t){let n=Qy(e);return t&&t.forEach((r,i)=>{n.has(i)||t.getAll(i).forEach(o=>{n.append(i,o)})}),n}const o6=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"],s6=["aria-current","caseSensitive","className","end","style","to","children"];function a6(e,t){return T9({basename:t==null?void 0:t.basename,future:Ra({},t==null?void 0:t.future,{v7_prependBasename:!0}),history:H3({window:t==null?void 0:t.window}),hydrationData:(t==null?void 0:t.hydrationData)||l6(),routes:e,mapRouteProperties:t6}).initialize()}function l6(){var e;let t=(e=window)==null?void 0:e.__staticRouterHydrationData;return t&&t.errors&&(t=Ra({},t,{errors:u6(t.errors)})),t}function u6(e){if(!e)return null;let t=Object.entries(e),n={};for(let[r,i]of t)if(i&&i.__type==="RouteErrorResponse")n[r]=new Mw(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let o=window[i.__subType];if(typeof o=="function")try{let s=new o(i.message);s.stack="",n[r]=s}catch{}}if(n[r]==null){let o=new Error(i.message);o.stack="",n[r]=o}}else n[r]=i;return n}const c6=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",d6=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,f6=E.forwardRef(function(t,n){let{onClick:r,relative:i,reloadDocument:o,replace:s,state:a,target:l,to:u,preventScrollReset:c}=t,d=Cx(t,o6),{basename:f}=E.useContext(ws),h,p=!1;if(typeof u=="string"&&d6.test(u)&&(h=u,c6))try{let m=new URL(window.location.href),w=u.startsWith("//")?new URL(m.protocol+u):new URL(u),v=ja(w.pathname,f);w.origin===m.origin&&v!=null?u=v+w.search+w.hash:p=!0}catch{}let y=O9(u,{relative:i}),_=h6(u,{replace:s,state:a,target:l,preventScrollReset:c,relative:i});function g(m){r&&r(m),m.defaultPrevented||_(m)}return E.createElement("a",Ra({},d,{href:h||y,onClick:p||o?r:g,ref:n,target:l}))}),Hm=E.forwardRef(function(t,n){let{"aria-current":r="page",caseSensitive:i=!1,className:o="",end:s=!1,style:a,to:l,children:u}=t,c=Cx(t,s6),d=$w(l,{relative:c.relative}),f=vi(),h=E.useContext(Fw),{navigator:p}=E.useContext(ws),y=p.encodeLocation?p.encodeLocation(d).pathname:d.pathname,_=f.pathname,g=h&&h.navigation&&h.navigation.location?h.navigation.location.pathname:null;i||(_=_.toLowerCase(),g=g?g.toLowerCase():null,y=y.toLowerCase());let m=_===y||!s&&_.startsWith(y)&&_.charAt(y.length)==="/",w=g!=null&&(g===y||!s&&g.startsWith(y)&&g.charAt(y.length)==="/"),v=m?r:void 0,I;typeof o=="function"?I=o({isActive:m,isPending:w}):I=[o,m?"active":null,w?"pending":null].filter(Boolean).join(" ");let b=typeof a=="function"?a({isActive:m,isPending:w}):a;return E.createElement(f6,Ra({},c,{"aria-current":v,className:I,ref:n,style:b,to:l}),typeof u=="function"?u({isActive:m,isPending:w}):u)});var $1;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher"})($1||($1={}));var U1;(function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(U1||(U1={}));function h6(e,t){let{target:n,replace:r,state:i,preventScrollReset:o,relative:s}=t===void 0?{}:t,a=Br(),l=vi(),u=$w(e,{relative:s});return E.useCallback(c=>{if(r6(c,n)){c.preventDefault();let d=r!==void 0?r:as(l)===as(u);a(e,{replace:d,state:i,preventScrollReset:o,relative:s})}},[l,a,u,r,i,n,e,o,s])}function p6(e){let t=E.useRef(Qy(e)),n=E.useRef(!1),r=vi(),i=E.useMemo(()=>i6(r.search,n.current?null:t.current),[r.search]),o=Br(),s=E.useCallback((a,l)=>{const u=Qy(typeof a=="function"?a(i):a);n.current=!0,o("?"+u,l)},[o,i]);return[i,s]}const m6=[je.PREVIEW,je.REGISTER],g6=()=>{const e=vi(),t=Br(),n=_s();return E.useEffect(()=>{const r=iL(xn,i=>{if(!i&&!m6.some(l=>e.pathname.startsWith(`/${l}`))){t(`/${je.LOGIN}`);return}if(!i){n(T1({user:null}));return}const{displayName:o,email:s,photoURL:a}=i;n(T1({user:{displayName:o,email:s,photoURL:a}}))});return()=>{r()}},[n,t,e.pathname]),T.jsx(Ax,{})};function Px(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=Px(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function Vi(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=Px(e))&&(r&&(r+=" "),r+=t);return r}const Yl=e=>typeof e=="number"&&!isNaN(e),ls=e=>typeof e=="string",gn=e=>typeof e=="function",Nd=e=>ls(e)||gn(e)?e:null,qm=e=>E.isValidElement(e)||ls(e)||gn(e)||Yl(e);function y6(e,t,n){n===void 0&&(n=300);const{scrollHeight:r,style:i}=e;requestAnimationFrame(()=>{i.minHeight="initial",i.height=r+"px",i.transition=`all ${n}ms`,requestAnimationFrame(()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(t,n)})})}function Ep(e){let{enter:t,exit:n,appendPosition:r=!1,collapse:i=!0,collapseDuration:o=300}=e;return function(s){let{children:a,position:l,preventExitTransition:u,done:c,nodeRef:d,isIn:f}=s;const h=r?`${t}--${l}`:t,p=r?`${n}--${l}`:n,y=E.useRef(0);return E.useLayoutEffect(()=>{const _=d.current,g=h.split(" "),m=w=>{w.target===d.current&&(_.dispatchEvent(new Event("d")),_.removeEventListener("animationend",m),_.removeEventListener("animationcancel",m),y.current===0&&w.type!=="animationcancel"&&_.classList.remove(...g))};_.classList.add(...g),_.addEventListener("animationend",m),_.addEventListener("animationcancel",m)},[]),E.useEffect(()=>{const _=d.current,g=()=>{_.removeEventListener("animationend",g),i?y6(_,c,o):c()};f||(u?g():(y.current=1,_.className+=` ${p}`,_.addEventListener("animationend",g)))},[f]),z.createElement(z.Fragment,null,a)}}function B1(e,t){return e!=null?{content:e.content,containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,status:t}:{}}const Un={list:new Map,emitQueue:new Map,on(e,t){return this.list.has(e)||this.list.set(e,[]),this.list.get(e).push(t),this},off(e,t){if(t){const n=this.list.get(e).filter(r=>r!==t);return this.list.set(e,n),this}return this.list.delete(e),this},cancelEmit(e){const t=this.emitQueue.get(e);return t&&(t.forEach(clearTimeout),this.emitQueue.delete(e)),this},emit(e){this.list.has(e)&&this.list.get(e).forEach(t=>{const n=setTimeout(()=>{t(...[].slice.call(arguments,1))},0);this.emitQueue.has(e)||this.emitQueue.set(e,[]),this.emitQueue.get(e).push(n)})}},sd=e=>{let{theme:t,type:n,...r}=e;return z.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:t==="colored"?"currentColor":`var(--toastify-icon-color-${n})`,...r})},Gm={info:function(e){return z.createElement(sd,{...e},z.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(e){return z.createElement(sd,{...e},z.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(e){return z.createElement(sd,{...e},z.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(e){return z.createElement(sd,{...e},z.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return z.createElement("div",{className:"Toastify__spinner"})}};function v6(e){const[,t]=E.useReducer(h=>h+1,0),[n,r]=E.useState([]),i=E.useRef(null),o=E.useRef(new Map).current,s=h=>n.indexOf(h)!==-1,a=E.useRef({toastKey:1,displayedToast:0,count:0,queue:[],props:e,containerId:null,isToastActive:s,getToast:h=>o.get(h)}).current;function l(h){let{containerId:p}=h;const{limit:y}=a.props;!y||p&&a.containerId!==p||(a.count-=a.queue.length,a.queue=[])}function u(h){r(p=>h==null?[]:p.filter(y=>y!==h))}function c(){const{toastContent:h,toastProps:p,staleId:y}=a.queue.shift();f(h,p,y)}function d(h,p){let{delay:y,staleId:_,...g}=p;if(!qm(h)||function($){return!i.current||a.props.enableMultiContainer&&$.containerId!==a.props.containerId||o.has($.toastId)&&$.updateId==null}(g))return;const{toastId:m,updateId:w,data:v}=g,{props:I}=a,b=()=>u(m),R=w==null;R&&a.count++;const A={...I,style:I.toastStyle,key:a.toastKey++,...Object.fromEntries(Object.entries(g).filter($=>{let[X,oe]=$;return oe!=null})),toastId:m,updateId:w,data:v,closeToast:b,isIn:!1,className:Nd(g.className||I.toastClassName),bodyClassName:Nd(g.bodyClassName||I.bodyClassName),progressClassName:Nd(g.progressClassName||I.progressClassName),autoClose:!g.isLoading&&(O=g.autoClose,k=I.autoClose,O===!1||Yl(O)&&O>0?O:k),deleteToast(){const $=B1(o.get(m),"removed");o.delete(m),Un.emit(4,$);const X=a.queue.length;if(a.count=m==null?a.count-a.displayedToast:a.count-1,a.count<0&&(a.count=0),X>0){const oe=m==null?a.props.limit:1;if(X===1||oe===1)a.displayedToast++,c();else{const pe=oe>X?X:oe;a.displayedToast=pe;for(let he=0;he<pe;he++)c()}}else t()}};var O,k;A.iconOut=function($){let{theme:X,type:oe,isLoading:pe,icon:he}=$,we=null;const V={theme:X,type:oe};return he===!1||(gn(he)?we=he(V):E.isValidElement(he)?we=E.cloneElement(he,V):ls(he)||Yl(he)?we=he:pe?we=Gm.spinner():(J=>J in Gm)(oe)&&(we=Gm[oe](V))),we}(A),gn(g.onOpen)&&(A.onOpen=g.onOpen),gn(g.onClose)&&(A.onClose=g.onClose),A.closeButton=I.closeButton,g.closeButton===!1||qm(g.closeButton)?A.closeButton=g.closeButton:g.closeButton===!0&&(A.closeButton=!qm(I.closeButton)||I.closeButton);let j=h;E.isValidElement(h)&&!ls(h.type)?j=E.cloneElement(h,{closeToast:b,toastProps:A,data:v}):gn(h)&&(j=h({closeToast:b,toastProps:A,data:v})),I.limit&&I.limit>0&&a.count>I.limit&&R?a.queue.push({toastContent:j,toastProps:A,staleId:_}):Yl(y)?setTimeout(()=>{f(j,A,_)},y):f(j,A,_)}function f(h,p,y){const{toastId:_}=p;y&&o.delete(y);const g={content:h,props:p};o.set(_,g),r(m=>[...m,_].filter(w=>w!==y)),Un.emit(4,B1(g,g.props.updateId==null?"added":"updated"))}return E.useEffect(()=>(a.containerId=e.containerId,Un.cancelEmit(3).on(0,d).on(1,h=>i.current&&u(h)).on(5,l).emit(2,a),()=>{o.clear(),Un.emit(3,a)}),[]),E.useEffect(()=>{a.props=e,a.isToastActive=s,a.displayedToast=n.length}),{getToastToRender:function(h){const p=new Map,y=Array.from(o.values());return e.newestOnTop&&y.reverse(),y.forEach(_=>{const{position:g}=_.props;p.has(g)||p.set(g,[]),p.get(g).push(_)}),Array.from(p,_=>h(_[0],_[1]))},containerRef:i,isToastActive:s}}function j1(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientX:e.clientX}function z1(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientY:e.clientY}function _6(e){const[t,n]=E.useState(!1),[r,i]=E.useState(!1),o=E.useRef(null),s=E.useRef({start:0,x:0,y:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,boundingRect:null,didMove:!1}).current,a=E.useRef(e),{autoClose:l,pauseOnHover:u,closeToast:c,onClick:d,closeOnClick:f}=e;function h(v){if(e.draggable){v.nativeEvent.type==="touchstart"&&v.nativeEvent.preventDefault(),s.didMove=!1,document.addEventListener("mousemove",g),document.addEventListener("mouseup",m),document.addEventListener("touchmove",g),document.addEventListener("touchend",m);const I=o.current;s.canCloseOnClick=!0,s.canDrag=!0,s.boundingRect=I.getBoundingClientRect(),I.style.transition="",s.x=j1(v.nativeEvent),s.y=z1(v.nativeEvent),e.draggableDirection==="x"?(s.start=s.x,s.removalDistance=I.offsetWidth*(e.draggablePercent/100)):(s.start=s.y,s.removalDistance=I.offsetHeight*(e.draggablePercent===80?1.5*e.draggablePercent:e.draggablePercent/100))}}function p(v){if(s.boundingRect){const{top:I,bottom:b,left:R,right:A}=s.boundingRect;v.nativeEvent.type!=="touchend"&&e.pauseOnHover&&s.x>=R&&s.x<=A&&s.y>=I&&s.y<=b?_():y()}}function y(){n(!0)}function _(){n(!1)}function g(v){const I=o.current;s.canDrag&&I&&(s.didMove=!0,t&&_(),s.x=j1(v),s.y=z1(v),s.delta=e.draggableDirection==="x"?s.x-s.start:s.y-s.start,s.start!==s.x&&(s.canCloseOnClick=!1),I.style.transform=`translate${e.draggableDirection}(${s.delta}px)`,I.style.opacity=""+(1-Math.abs(s.delta/s.removalDistance)))}function m(){document.removeEventListener("mousemove",g),document.removeEventListener("mouseup",m),document.removeEventListener("touchmove",g),document.removeEventListener("touchend",m);const v=o.current;if(s.canDrag&&s.didMove&&v){if(s.canDrag=!1,Math.abs(s.delta)>s.removalDistance)return i(!0),void e.closeToast();v.style.transition="transform 0.2s, opacity 0.2s",v.style.transform=`translate${e.draggableDirection}(0)`,v.style.opacity="1"}}E.useEffect(()=>{a.current=e}),E.useEffect(()=>(o.current&&o.current.addEventListener("d",y,{once:!0}),gn(e.onOpen)&&e.onOpen(E.isValidElement(e.children)&&e.children.props),()=>{const v=a.current;gn(v.onClose)&&v.onClose(E.isValidElement(v.children)&&v.children.props)}),[]),E.useEffect(()=>(e.pauseOnFocusLoss&&(document.hasFocus()||_(),window.addEventListener("focus",y),window.addEventListener("blur",_)),()=>{e.pauseOnFocusLoss&&(window.removeEventListener("focus",y),window.removeEventListener("blur",_))}),[e.pauseOnFocusLoss]);const w={onMouseDown:h,onTouchStart:h,onMouseUp:p,onTouchEnd:p};return l&&u&&(w.onMouseEnter=_,w.onMouseLeave=y),f&&(w.onClick=v=>{d&&d(v),s.canCloseOnClick&&c()}),{playToast:y,pauseToast:_,isRunning:t,preventExitTransition:r,toastRef:o,eventHandlers:w}}function xx(e){let{closeToast:t,theme:n,ariaLabel:r="close"}=e;return z.createElement("button",{className:`Toastify__close-button Toastify__close-button--${n}`,type:"button",onClick:i=>{i.stopPropagation(),t(i)},"aria-label":r},z.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},z.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function w6(e){let{delay:t,isRunning:n,closeToast:r,type:i="default",hide:o,className:s,style:a,controlledProgress:l,progress:u,rtl:c,isIn:d,theme:f}=e;const h=o||l&&u===0,p={...a,animationDuration:`${t}ms`,animationPlayState:n?"running":"paused",opacity:h?0:1};l&&(p.transform=`scaleX(${u})`);const y=Vi("Toastify__progress-bar",l?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${f}`,`Toastify__progress-bar--${i}`,{"Toastify__progress-bar--rtl":c}),_=gn(s)?s({rtl:c,type:i,defaultClassName:y}):Vi(y,s);return z.createElement("div",{role:"progressbar","aria-hidden":h?"true":"false","aria-label":"notification timer",className:_,style:p,[l&&u>=1?"onTransitionEnd":"onAnimationEnd"]:l&&u<1?null:()=>{d&&r()}})}const E6=e=>{const{isRunning:t,preventExitTransition:n,toastRef:r,eventHandlers:i}=_6(e),{closeButton:o,children:s,autoClose:a,onClick:l,type:u,hideProgressBar:c,closeToast:d,transition:f,position:h,className:p,style:y,bodyClassName:_,bodyStyle:g,progressClassName:m,progressStyle:w,updateId:v,role:I,progress:b,rtl:R,toastId:A,deleteToast:O,isIn:k,isLoading:j,iconOut:$,closeOnClick:X,theme:oe}=e,pe=Vi("Toastify__toast",`Toastify__toast-theme--${oe}`,`Toastify__toast--${u}`,{"Toastify__toast--rtl":R},{"Toastify__toast--close-on-click":X}),he=gn(p)?p({rtl:R,position:h,type:u,defaultClassName:pe}):Vi(pe,p),we=!!b||!a,V={closeToast:d,type:u,theme:oe};let J=null;return o===!1||(J=gn(o)?o(V):E.isValidElement(o)?E.cloneElement(o,V):xx(V)),z.createElement(f,{isIn:k,done:O,position:h,preventExitTransition:n,nodeRef:r},z.createElement("div",{id:A,onClick:l,className:he,...i,style:y,ref:r},z.createElement("div",{...k&&{role:I},className:gn(_)?_({type:u}):Vi("Toastify__toast-body",_),style:g},$!=null&&z.createElement("div",{className:Vi("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!j})},$),z.createElement("div",null,s)),J,z.createElement(w6,{...v&&!we?{key:`pb-${v}`}:{},rtl:R,theme:oe,delay:a,isRunning:t,isIn:k,closeToast:d,hide:c,type:u,style:w,className:m,controlledProgress:we,progress:b||0})))},Ip=function(e,t){return t===void 0&&(t=!1),{enter:`Toastify--animate Toastify__${e}-enter`,exit:`Toastify--animate Toastify__${e}-exit`,appendPosition:t}},I6=Ep(Ip("bounce",!0));Ep(Ip("slide",!0));Ep(Ip("zoom"));Ep(Ip("flip"));const co=E.forwardRef((e,t)=>{const{getToastToRender:n,containerRef:r,isToastActive:i}=v6(e),{className:o,style:s,rtl:a,containerId:l}=e;function u(c){const d=Vi("Toastify__toast-container",`Toastify__toast-container--${c}`,{"Toastify__toast-container--rtl":a});return gn(o)?o({position:c,rtl:a,defaultClassName:d}):Vi(d,Nd(o))}return E.useEffect(()=>{t&&(t.current=r.current)},[]),z.createElement("div",{ref:r,className:"Toastify",id:l},n((c,d)=>{const f=d.length?{...s}:{...s,pointerEvents:"none"};return z.createElement("div",{className:u(c),style:f,key:`container-${c}`},d.map((h,p)=>{let{content:y,props:_}=h;return z.createElement(E6,{..._,isIn:i(_.toastId),style:{..._.style,"--nth":p+1,"--len":d.length},key:`toast-${_.key}`},y)}))}))});co.displayName="ToastContainer",co.defaultProps={position:"top-right",transition:I6,autoClose:5e3,closeButton:xx,pauseOnHover:!0,pauseOnFocusLoss:!0,closeOnClick:!0,draggable:!0,draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};let Km,xo=new Map,Dl=[],T6=1;function kx(){return""+T6++}function S6(e){return e&&(ls(e.toastId)||Yl(e.toastId))?e.toastId:kx()}function Xl(e,t){return xo.size>0?Un.emit(0,e,t):Dl.push({content:e,options:t}),t.toastId}function $f(e,t){return{...t,type:t&&t.type||e,toastId:S6(t)}}function ad(e){return(t,n)=>Xl(t,$f(e,n))}function Ee(e,t){return Xl(e,$f("default",t))}Ee.loading=(e,t)=>Xl(e,$f("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t})),Ee.promise=function(e,t,n){let r,{pending:i,error:o,success:s}=t;i&&(r=ls(i)?Ee.loading(i,n):Ee.loading(i.render,{...n,...i}));const a={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},l=(c,d,f)=>{if(d==null)return void Ee.dismiss(r);const h={type:c,...a,...n,data:f},p=ls(d)?{render:d}:d;return r?Ee.update(r,{...h,...p}):Ee(p.render,{...h,...p}),f},u=gn(e)?e():e;return u.then(c=>l("success",s,c)).catch(c=>l("error",o,c)),u},Ee.success=ad("success"),Ee.info=ad("info"),Ee.error=ad("error"),Ee.warning=ad("warning"),Ee.warn=Ee.warning,Ee.dark=(e,t)=>Xl(e,$f("default",{theme:"dark",...t})),Ee.dismiss=e=>{xo.size>0?Un.emit(1,e):Dl=Dl.filter(t=>e!=null&&t.options.toastId!==e)},Ee.clearWaitingQueue=function(e){return e===void 0&&(e={}),Un.emit(5,e)},Ee.isActive=e=>{let t=!1;return xo.forEach(n=>{n.isToastActive&&n.isToastActive(e)&&(t=!0)}),t},Ee.update=function(e,t){t===void 0&&(t={}),setTimeout(()=>{const n=function(r,i){let{containerId:o}=i;const s=xo.get(o||Km);return s&&s.getToast(r)}(e,t);if(n){const{props:r,content:i}=n,o={delay:100,...r,...t,toastId:t.toastId||e,updateId:kx()};o.toastId!==e&&(o.staleId=e);const s=o.render||i;delete o.render,Xl(s,o)}},0)},Ee.done=e=>{Ee.update(e,{progress:1})},Ee.onChange=e=>(Un.on(4,e),()=>{Un.off(4,e)}),Ee.POSITION={TOP_LEFT:"top-left",TOP_RIGHT:"top-right",TOP_CENTER:"top-center",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",BOTTOM_CENTER:"bottom-center"},Ee.TYPE={INFO:"info",SUCCESS:"success",WARNING:"warning",ERROR:"error",DEFAULT:"default"},Un.on(2,e=>{Km=e.containerId||e,xo.set(Km,e),Dl.forEach(t=>{Un.emit(0,t.content,t.options)}),Dl=[]}).on(3,e=>{xo.delete(e.containerId||e),xo.size===0&&Un.off(0).off(1).off(5)});const b6="/assets/icon-devto-dae0006e.svg",R6="/assets/icon-twitch-99afa9fe.svg",A6="/assets/icon-github-e78f2841.svg",C6="/assets/icon-gitlab-a05018c6.svg",P6="/assets/icon-codepen-b443be88.svg",x6="/assets/icon-twitter-18c706f1.svg",k6="/assets/icon-youtube-262617f7.svg",D6="/assets/icon-facebook-d9886e6f.svg",N6="/assets/icon-linkedin-ea9c81a5.svg",O6="/assets/icon-codewars-c20c04eb.svg",L6="/assets/icon-hashnode-eac2c547.svg",M6="/assets/icon-freecodecamp-402ec1e9.svg",V6="/assets/icon-stack-overflow-349d0249.svg";var rn=(e=>(e.GITHUB="https://www.github.com/",e.FRONTEND_MENTOR="https://www.frontendmentor.io/",e.TWITTER="https://www.twitter.com/",e.LINKEDIN="https://www.linkedin.com/",e.YOUTUBE="https://www.youtube.com/",e.FACEBOOK="https://www.facebook.com/",e.TWITCH="https://www.twitch.tv/",e.DEVTO="https://www.dev.to/",e.CODEWARS="https://www.codewars.com/",e.CODEPEN="https://www.codepen.io/",e.FREE_CODE_CAMP="https://www.freecodecamp.org/",e.GITLAB="https://www.gitlab.com/",e.HASHNODE="https://www.hashnode.com/",e.STACK_OVERFLOW="https://www.stackoverflow.com/",e))(rn||{});const F6="/assets/icon-frontend-mentor-374ce1e5.svg",Dx=async e=>{const t="Email already in use";try{return(await JO(xn,e)).length?t:!0}catch{return t}},Hn={toastId:"custom-id",position:"bottom-center",autoClose:3e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!1,theme:"dark"},Uu=[{background:"#1A1A1A",img:A6,label:"GitHub",value:rn.GITHUB},{background:"#FFF",img:F6,label:"Frontend Mentor",value:rn.FRONTEND_MENTOR},{background:"#43B7E9",img:x6,label:"Twitter",value:rn.TWITTER},{background:"#2D68FF",img:N6,label:"LinkedIn",value:rn.LINKEDIN},{background:"#EE3939",img:k6,label:"YouTube",value:rn.YOUTUBE},{background:"#2442AC",img:D6,label:"Facebook",value:rn.FACEBOOK},{background:"#EE3FC8",img:R6,label:"Twitch",value:rn.TWITCH},{background:"#333",img:b6,label:"Dev.to",value:rn.DEVTO},{background:"#8A1A50",img:O6,label:"Codewars",value:rn.CODEWARS},{background:"#010101",img:P6,label:"Codepen",value:rn.CODEPEN},{background:"#302267",img:M6,label:"freeCodeCamp",value:rn.FREE_CODE_CAMP},{background:"#EB4925",img:C6,label:"GitLab",value:rn.GITLAB},{background:"#0330D1",img:L6,label:"Hashnode",value:rn.HASHNODE},{background:"#EC7100",img:V6,label:"Stack Overflow",value:rn.STACK_OVERFLOW}];var Jn=(e=>(e.USERS="users",e.COLLECTION="links-",e))(Jn||{});const $6={loading:!0,links:[]},U6=e=>e.map(t=>t.id),B6=(e,t)=>e.filter(n=>!t.includes(n.id)),j6=(e,t)=>e.map(n=>t.find(r=>n.id===r.id)||n),Nx=fx({name:"links",initialState:$6,reducers:{setLinksOnSave:(e,t)=>{const{links:n}=t.payload,{links:r}=e,i=U6(r),o=B6(n,i),s=j6(r,n);e.loading=!1,e.links=[...s,...o]},setLinksLoading:(e,t)=>{const{loading:n}=t.payload;e.loading=n},setLinks:(e,t)=>{const{links:n}=t.payload;e.links=n},filterLinks:(e,t)=>{const{linkId:n}=t.payload;e.links=e.links.filter(r=>r.id!==n)}},extraReducers:e=>e.addCase(Jl.pending,t=>{t.loading=!0}).addCase(Jl.fulfilled,(t,n)=>{t.loading=!1,t.links=n.payload}).addCase(Jl.rejected,t=>{t.links=[],t.loading=!1,Ee.error("Error fetching links. Please try again!",Hn)})}),Jl=U3("links/fetchLinks",async e=>(await VU(kU(pA(yr,Jn.COLLECTION+e),DU("index")))).docs.map(n=>({...n.data(),id:n.id}))),{setLinks:W1,filterLinks:z6,setLinksLoading:H1,setLinksOnSave:W6}=Nx.actions,H6=Nx.reducer,q6=D3({reducer:{list:H6,auth:W3}});var Yy={},q1=wc;Yy.createRoot=q1.createRoot,Yy.hydrateRoot=q1.hydrateRoot;const G6="_form_kofsp_1",K6="_form__navigate_kofsp_6",Q6="_form__validation__text_kofsp_13",$o={form:G6,form__navigate:K6,"form__navigate--highlight":"_form__navigate--highlight_kofsp_10",form__validation__text:Q6},Y6="_container_1y577_1",X6="_logo_1y577_4",J6="_container__children_1y577_21",Qm={container:Y6,logo:X6,container__children:J6},Ox="/assets/logo-devlinks-large-20c70201.svg",Tp=({children:e})=>T.jsxs("div",{className:Qm.container,children:[T.jsx("img",{src:Ox,alt:"logo",className:Qm.logo}),T.jsx("div",{className:Qm.container__children,children:e})]}),Lx=()=>{E.useEffect(()=>{(async()=>await xn.signOut())()},[])},Z6="_container_1s4qd_1",ez="_container__icon_1s4qd_8",tz="_container__error_1s4qd_16",Ss={container:Z6,"container--row":"_container--row_1s4qd_4",container__icon:ez,container__error:tz,"container--iconless":"_container--iconless_1s4qd_44","container--error":"_container--error_1s4qd_47"},nz=({children:e,expandRowDesktop:t,inputAttribute:n,inputForm:r})=>{const{name:i,type:o,placeholder:s}=n,{errors:a,validationSchema:l,register:u}=r,c=a?Ss["container--error"]:"",d=t?Ss["container--row"]:"";return T.jsxs("div",{className:`${Ss.container} ${c} ${d}`,children:[T.jsx("span",{className:Ss.container__icon,children:e}),T.jsx("input",{type:o,placeholder:s,...u(i,l),className:`${e?"":Ss["container--iconless"]}`}),a&&T.jsx("span",{className:Ss.container__error,children:a.message})]})},rz="_container__label_4o6ln_7",Ym={"container--row":"_container--row_4o6ln_1",container__label:rz},ri=e=>{const{expandRowDesktop:t,inputAttribute:n}=e,{label:r}=n,i=E.useMemo(()=>T.jsx(nz,{...e}),[e]);return T.jsxs("div",{className:`${Ym.container} ${t?Ym["container--row"]:""}`,children:[T.jsx("label",{className:Ym.container__label,children:r}),i]})};var Ic=e=>e.type==="checkbox",qs=e=>e instanceof Date,sn=e=>e==null;const Mx=e=>typeof e=="object";var _t=e=>!sn(e)&&!Array.isArray(e)&&Mx(e)&&!qs(e),Vx=e=>_t(e)&&e.target?Ic(e.target)?e.target.checked:e.target.value:e,iz=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,Fx=(e,t)=>e.has(iz(t)),oz=e=>{const t=e.constructor&&e.constructor.prototype;return _t(t)&&t.hasOwnProperty("isPrototypeOf")},Uw=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function ir(e){let t;const n=Array.isArray(e);if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else if(!(Uw&&(e instanceof Blob||e instanceof FileList))&&(n||_t(e)))if(t=n?[]:{},!n&&!oz(e))t=e;else for(const r in e)e.hasOwnProperty(r)&&(t[r]=ir(e[r]));else return e;return t}var Tc=e=>Array.isArray(e)?e.filter(Boolean):[],lt=e=>e===void 0,q=(e,t,n)=>{if(!t||!_t(e))return n;const r=Tc(t.split(/[,[\].]+?/)).reduce((i,o)=>sn(i)?i:i[o],e);return lt(r)||r===e?lt(e[t])?n:e[t]:r},Fi=e=>typeof e=="boolean";const Uf={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},ur={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},qr={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},sz=z.createContext(null),Bw=()=>z.useContext(sz);var $x=(e,t,n,r=!0)=>{const i={defaultValues:t._defaultValues};for(const o in e)Object.defineProperty(i,o,{get:()=>{const s=o;return t._proxyFormState[s]!==ur.all&&(t._proxyFormState[s]=!r||ur.all),n&&(n[s]=!0),e[s]}});return i},$n=e=>_t(e)&&!Object.keys(e).length,Ux=(e,t,n,r)=>{n(e);const{name:i,...o}=e;return $n(o)||Object.keys(o).length>=Object.keys(t).length||Object.keys(o).find(s=>t[s]===(!r||ur.all))},Od=e=>Array.isArray(e)?e:[e],Bx=(e,t,n)=>!e||!t||e===t||Od(e).some(r=>r&&(n?r===t:r.startsWith(t)||t.startsWith(r)));function jw(e){const t=z.useRef(e);t.current=e,z.useEffect(()=>{const n=!e.disabled&&t.current.subject&&t.current.subject.subscribe({next:t.current.next});return()=>{n&&n.unsubscribe()}},[e.disabled])}function az(e){const t=Bw(),{control:n=t.control,disabled:r,name:i,exact:o}=e||{},[s,a]=z.useState(n._formState),l=z.useRef(!0),u=z.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1}),c=z.useRef(i);return c.current=i,jw({disabled:r,next:d=>l.current&&Bx(c.current,d.name,o)&&Ux(d,u.current,n._updateFormState)&&a({...n._formState,...d}),subject:n._subjects.state}),z.useEffect(()=>(l.current=!0,u.current.isValid&&n._updateValid(!0),()=>{l.current=!1}),[n]),$x(s,n,u.current,!1)}var Ar=e=>typeof e=="string",jx=(e,t,n,r,i)=>Ar(e)?(r&&t.watch.add(e),q(n,e,i)):Array.isArray(e)?e.map(o=>(r&&t.watch.add(o),q(n,o))):(r&&(t.watchAll=!0),n);function zw(e){const t=Bw(),{control:n=t.control,name:r,defaultValue:i,disabled:o,exact:s}=e||{},a=z.useRef(r);a.current=r,jw({disabled:o,subject:n._subjects.values,next:c=>{Bx(a.current,c.name,s)&&u(ir(jx(a.current,n._names,c.values||n._formValues,!1,i)))}});const[l,u]=z.useState(n._getWatch(r,i));return z.useEffect(()=>n._removeUnmounted()),l}var Ww=e=>/^\w*$/.test(e),zx=e=>Tc(e.replace(/["|']|\]/g,"").split(/\.|\[/));function Ve(e,t,n){let r=-1;const i=Ww(t)?[t]:zx(t),o=i.length,s=o-1;for(;++r<o;){const a=i[r];let l=n;if(r!==s){const u=e[a];l=_t(u)||Array.isArray(u)?u:isNaN(+i[r+1])?{}:[]}e[a]=l,e=e[a]}return e}function lz(e){const t=Bw(),{name:n,disabled:r,control:i=t.control,shouldUnregister:o}=e,s=Fx(i._names.array,n),a=zw({control:i,name:n,defaultValue:q(i._formValues,n,q(i._defaultValues,n,e.defaultValue)),exact:!0}),l=az({control:i,name:n}),u=z.useRef(i.register(n,{...e.rules,value:a}));return u.current=i.register(n,e.rules),z.useEffect(()=>{const c=i._options.shouldUnregister||o,d=(f,h)=>{const p=q(i._fields,f);p&&(p._f.mount=h)};if(d(n,!0),c){const f=ir(q(i._options.defaultValues,n));Ve(i._defaultValues,n,f),lt(q(i._formValues,n))&&Ve(i._formValues,n,f)}return()=>{(s?c&&!i._state.action:c)?i.unregister(n):d(n,!1)}},[n,i,s,o]),z.useEffect(()=>{q(i._fields,n)&&i._updateDisabledField({disabled:r,fields:i._fields,name:n})},[r,n,i]),{field:{name:n,value:a,...Fi(r)?{disabled:r}:{},onChange:z.useCallback(c=>u.current.onChange({target:{value:Vx(c),name:n},type:Uf.CHANGE}),[n]),onBlur:z.useCallback(()=>u.current.onBlur({target:{value:q(i._formValues,n),name:n},type:Uf.BLUR}),[n,i]),ref:c=>{const d=q(i._fields,n);d&&c&&(d._f.ref={focus:()=>c.focus(),select:()=>c.select(),setCustomValidity:f=>c.setCustomValidity(f),reportValidity:()=>c.reportValidity()})}},formState:l,fieldState:Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!q(l.errors,n)},isDirty:{enumerable:!0,get:()=>!!q(l.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!q(l.touchedFields,n)},error:{enumerable:!0,get:()=>q(l.errors,n)}})}}const uz=e=>e.render(lz(e));var cz=(e,t,n,r,i)=>t?{...n[e],types:{...n[e]&&n[e].types?n[e].types:{},[r]:i||!0}}:{};const Xy=(e,t,n)=>{for(const r of n||Object.keys(e)){const i=q(e,r);if(i){const{_f:o,...s}=i;if(o&&t(o.name)){if(o.ref.focus){o.ref.focus();break}else if(o.refs&&o.refs[0].focus){o.refs[0].focus();break}}else _t(s)&&Xy(s,t)}}};var G1=e=>({isOnSubmit:!e||e===ur.onSubmit,isOnBlur:e===ur.onBlur,isOnChange:e===ur.onChange,isOnAll:e===ur.all,isOnTouch:e===ur.onTouched}),K1=(e,t,n)=>!n&&(t.watchAll||t.watch.has(e)||[...t.watch].some(r=>e.startsWith(r)&&/^\.\w+/.test(e.slice(r.length)))),dz=(e,t,n)=>{const r=Tc(q(e,n));return Ve(r,"root",t[n]),Ve(e,n,r),e},Hw=e=>e.type==="file",$i=e=>typeof e=="function",Bf=e=>{if(!Uw)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},Ld=e=>Ar(e),qw=e=>e.type==="radio",jf=e=>e instanceof RegExp;const Q1={value:!1,isValid:!1},Y1={value:!0,isValid:!0};var Wx=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!lt(e[0].attributes.value)?lt(e[0].value)||e[0].value===""?Y1:{value:e[0].value,isValid:!0}:Y1:Q1}return Q1};const X1={isValid:!1,value:null};var Hx=e=>Array.isArray(e)?e.reduce((t,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:t,X1):X1;function J1(e,t,n="validate"){if(Ld(e)||Array.isArray(e)&&e.every(Ld)||Fi(e)&&!e)return{type:n,message:Ld(e)?e:"",ref:t}}var bs=e=>_t(e)&&!jf(e)?e:{value:e,message:""},Z1=async(e,t,n,r,i)=>{const{ref:o,refs:s,required:a,maxLength:l,minLength:u,min:c,max:d,pattern:f,validate:h,name:p,valueAsNumber:y,mount:_,disabled:g}=e._f,m=q(t,p);if(!_||g)return{};const w=s?s[0]:o,v=$=>{r&&w.reportValidity&&(w.setCustomValidity(Fi($)?"":$||""),w.reportValidity())},I={},b=qw(o),R=Ic(o),A=b||R,O=(y||Hw(o))&&lt(o.value)&&lt(m)||Bf(o)&&o.value===""||m===""||Array.isArray(m)&&!m.length,k=cz.bind(null,p,n,I),j=($,X,oe,pe=qr.maxLength,he=qr.minLength)=>{const we=$?X:oe;I[p]={type:$?pe:he,message:we,ref:o,...k($?pe:he,we)}};if(i?!Array.isArray(m)||!m.length:a&&(!A&&(O||sn(m))||Fi(m)&&!m||R&&!Wx(s).isValid||b&&!Hx(s).isValid)){const{value:$,message:X}=Ld(a)?{value:!!a,message:a}:bs(a);if($&&(I[p]={type:qr.required,message:X,ref:w,...k(qr.required,X)},!n))return v(X),I}if(!O&&(!sn(c)||!sn(d))){let $,X;const oe=bs(d),pe=bs(c);if(!sn(m)&&!isNaN(m)){const he=o.valueAsNumber||m&&+m;sn(oe.value)||($=he>oe.value),sn(pe.value)||(X=he<pe.value)}else{const he=o.valueAsDate||new Date(m),we=ie=>new Date(new Date().toDateString()+" "+ie),V=o.type=="time",J=o.type=="week";Ar(oe.value)&&m&&($=V?we(m)>we(oe.value):J?m>oe.value:he>new Date(oe.value)),Ar(pe.value)&&m&&(X=V?we(m)<we(pe.value):J?m<pe.value:he<new Date(pe.value))}if(($||X)&&(j(!!$,oe.message,pe.message,qr.max,qr.min),!n))return v(I[p].message),I}if((l||u)&&!O&&(Ar(m)||i&&Array.isArray(m))){const $=bs(l),X=bs(u),oe=!sn($.value)&&m.length>+$.value,pe=!sn(X.value)&&m.length<+X.value;if((oe||pe)&&(j(oe,$.message,X.message),!n))return v(I[p].message),I}if(f&&!O&&Ar(m)){const{value:$,message:X}=bs(f);if(jf($)&&!m.match($)&&(I[p]={type:qr.pattern,message:X,ref:o,...k(qr.pattern,X)},!n))return v(X),I}if(h){if($i(h)){const $=await h(m,t),X=J1($,w);if(X&&(I[p]={...X,...k(qr.validate,X.message)},!n))return v(X.message),I}else if(_t(h)){let $={};for(const X in h){if(!$n($)&&!n)break;const oe=J1(await h[X](m,t),w,X);oe&&($={...oe,...k(X,oe.message)},v(oe.message),n&&(I[p]=$))}if(!$n($)&&(I[p]={ref:w,...$},!n))return I}}return v(!0),I};function fz(e,t){const n=t.slice(0,-1).length;let r=0;for(;r<n;)e=lt(e)?r++:e[t[r++]];return e}function hz(e){for(const t in e)if(e.hasOwnProperty(t)&&!lt(e[t]))return!1;return!0}function Pt(e,t){const n=Array.isArray(t)?t:Ww(t)?[t]:zx(t),r=n.length===1?e:fz(e,n),i=n.length-1,o=n[i];return r&&delete r[o],i!==0&&(_t(r)&&$n(r)||Array.isArray(r)&&hz(r))&&Pt(e,n.slice(0,-1)),e}function Xm(){let e=[];return{get observers(){return e},next:i=>{for(const o of e)o.next&&o.next(i)},subscribe:i=>(e.push(i),{unsubscribe:()=>{e=e.filter(o=>o!==i)}}),unsubscribe:()=>{e=[]}}}var zf=e=>sn(e)||!Mx(e);function Uo(e,t){if(zf(e)||zf(t))return e===t;if(qs(e)&&qs(t))return e.getTime()===t.getTime();const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(const i of n){const o=e[i];if(!r.includes(i))return!1;if(i!=="ref"){const s=t[i];if(qs(o)&&qs(s)||_t(o)&&_t(s)||Array.isArray(o)&&Array.isArray(s)?!Uo(o,s):o!==s)return!1}}return!0}var qx=e=>e.type==="select-multiple",pz=e=>qw(e)||Ic(e),Jm=e=>Bf(e)&&e.isConnected,Gx=e=>{for(const t in e)if($i(e[t]))return!0;return!1};function Wf(e,t={}){const n=Array.isArray(e);if(_t(e)||n)for(const r in e)Array.isArray(e[r])||_t(e[r])&&!Gx(e[r])?(t[r]=Array.isArray(e[r])?[]:{},Wf(e[r],t[r])):sn(e[r])||(t[r]=!0);return t}function Kx(e,t,n){const r=Array.isArray(e);if(_t(e)||r)for(const i in e)Array.isArray(e[i])||_t(e[i])&&!Gx(e[i])?lt(t)||zf(n[i])?n[i]=Array.isArray(e[i])?Wf(e[i],[]):{...Wf(e[i])}:Kx(e[i],sn(t)?{}:t[i],n[i]):n[i]=!Uo(e[i],t[i]);return n}var Zm=(e,t)=>Kx(e,t,Wf(t)),Qx=(e,{valueAsNumber:t,valueAsDate:n,setValueAs:r})=>lt(e)?e:t?e===""?NaN:e&&+e:n&&Ar(e)?new Date(e):r?r(e):e;function eg(e){const t=e.ref;if(!(e.refs?e.refs.every(n=>n.disabled):t.disabled))return Hw(t)?t.files:qw(t)?Hx(e.refs).value:qx(t)?[...t.selectedOptions].map(({value:n})=>n):Ic(t)?Wx(e.refs).value:Qx(lt(t.value)?e.ref.value:t.value,e)}var mz=(e,t,n,r)=>{const i={};for(const o of e){const s=q(t,o);s&&Ve(i,o,s._f)}return{criteriaMode:n,names:[...e],fields:i,shouldUseNativeValidation:r}},hl=e=>lt(e)?e:jf(e)?e.source:_t(e)?jf(e.value)?e.value.source:e.value:e,gz=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate);function eT(e,t,n){const r=q(e,n);if(r||Ww(n))return{error:r,name:n};const i=n.split(".");for(;i.length;){const o=i.join("."),s=q(t,o),a=q(e,o);if(s&&!Array.isArray(s)&&n!==o)return{name:n};if(a&&a.type)return{name:o,error:a};i.pop()}return{name:n}}var yz=(e,t,n,r,i)=>i.isOnAll?!1:!n&&i.isOnTouch?!(t||e):(n?r.isOnBlur:i.isOnBlur)?!e:(n?r.isOnChange:i.isOnChange)?e:!0,vz=(e,t)=>!Tc(q(e,t)).length&&Pt(e,t);const _z={mode:ur.onSubmit,reValidateMode:ur.onChange,shouldFocusError:!0};function wz(e={},t){let n={..._z,...e},r={submitCount:0,isDirty:!1,isLoading:$i(n.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},errors:{}},i={},o=_t(n.defaultValues)||_t(n.values)?ir(n.defaultValues||n.values)||{}:{},s=n.shouldUnregister?{}:ir(o),a={action:!1,mount:!1,watch:!1},l={mount:new Set,unMount:new Set,array:new Set,watch:new Set},u,c=0;const d={isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},f={values:Xm(),array:Xm(),state:Xm()},h=e.resetOptions&&e.resetOptions.keepDirtyValues,p=G1(n.mode),y=G1(n.reValidateMode),_=n.criteriaMode===ur.all,g=S=>P=>{clearTimeout(c),c=setTimeout(S,P)},m=async S=>{if(d.isValid||S){const P=n.resolver?$n((await O()).errors):await j(i,!0);P!==r.isValid&&f.state.next({isValid:P})}},w=S=>d.isValidating&&f.state.next({isValidating:S}),v=(S,P=[],D,K,W=!0,U=!0)=>{if(K&&D){if(a.action=!0,U&&Array.isArray(q(i,S))){const te=D(q(i,S),K.argA,K.argB);W&&Ve(i,S,te)}if(U&&Array.isArray(q(r.errors,S))){const te=D(q(r.errors,S),K.argA,K.argB);W&&Ve(r.errors,S,te),vz(r.errors,S)}if(d.touchedFields&&U&&Array.isArray(q(r.touchedFields,S))){const te=D(q(r.touchedFields,S),K.argA,K.argB);W&&Ve(r.touchedFields,S,te)}d.dirtyFields&&(r.dirtyFields=Zm(o,s)),f.state.next({name:S,isDirty:X(S,P),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else Ve(s,S,P)},I=(S,P)=>{Ve(r.errors,S,P),f.state.next({errors:r.errors})},b=(S,P,D,K)=>{const W=q(i,S);if(W){const U=q(s,S,lt(D)?q(o,S):D);lt(U)||K&&K.defaultChecked||P?Ve(s,S,P?U:eg(W._f)):he(S,U),a.mount&&m()}},R=(S,P,D,K,W)=>{let U=!1,te=!1;const He={name:S};if(!D||K){d.isDirty&&(te=r.isDirty,r.isDirty=He.isDirty=X(),U=te!==He.isDirty);const qe=Uo(q(o,S),P);te=q(r.dirtyFields,S),qe?Pt(r.dirtyFields,S):Ve(r.dirtyFields,S,!0),He.dirtyFields=r.dirtyFields,U=U||d.dirtyFields&&te!==!qe}if(D){const qe=q(r.touchedFields,S);qe||(Ve(r.touchedFields,S,D),He.touchedFields=r.touchedFields,U=U||d.touchedFields&&qe!==D)}return U&&W&&f.state.next(He),U?He:{}},A=(S,P,D,K)=>{const W=q(r.errors,S),U=d.isValid&&Fi(P)&&r.isValid!==P;if(e.delayError&&D?(u=g(()=>I(S,D)),u(e.delayError)):(clearTimeout(c),u=null,D?Ve(r.errors,S,D):Pt(r.errors,S)),(D?!Uo(W,D):W)||!$n(K)||U){const te={...K,...U&&Fi(P)?{isValid:P}:{},errors:r.errors,name:S};r={...r,...te},f.state.next(te)}w(!1)},O=async S=>n.resolver(s,n.context,mz(S||l.mount,i,n.criteriaMode,n.shouldUseNativeValidation)),k=async S=>{const{errors:P}=await O(S);if(S)for(const D of S){const K=q(P,D);K?Ve(r.errors,D,K):Pt(r.errors,D)}else r.errors=P;return P},j=async(S,P,D={valid:!0})=>{for(const K in S){const W=S[K];if(W){const{_f:U,...te}=W;if(U){const He=l.array.has(U.name),qe=await Z1(W,s,_,n.shouldUseNativeValidation&&!P,He);if(qe[U.name]&&(D.valid=!1,P))break;!P&&(q(qe,U.name)?He?dz(r.errors,qe,U.name):Ve(r.errors,U.name,qe[U.name]):Pt(r.errors,U.name))}te&&await j(te,P,D)}}return D.valid},$=()=>{for(const S of l.unMount){const P=q(i,S);P&&(P._f.refs?P._f.refs.every(D=>!Jm(D)):!Jm(P._f.ref))&&wt(S)}l.unMount=new Set},X=(S,P)=>(S&&P&&Ve(s,S,P),!Uo(Pe(),o)),oe=(S,P,D)=>jx(S,l,{...a.mount?s:lt(P)?o:Ar(S)?{[S]:P}:P},D,P),pe=S=>Tc(q(a.mount?s:o,S,e.shouldUnregister?q(o,S,[]):[])),he=(S,P,D={})=>{const K=q(i,S);let W=P;if(K){const U=K._f;U&&(!U.disabled&&Ve(s,S,Qx(P,U)),W=Bf(U.ref)&&sn(P)?"":P,qx(U.ref)?[...U.ref.options].forEach(te=>te.selected=W.includes(te.value)):U.refs?Ic(U.ref)?U.refs.length>1?U.refs.forEach(te=>(!te.defaultChecked||!te.disabled)&&(te.checked=Array.isArray(W)?!!W.find(He=>He===te.value):W===te.value)):U.refs[0]&&(U.refs[0].checked=!!W):U.refs.forEach(te=>te.checked=te.value===W):Hw(U.ref)?U.ref.value="":(U.ref.value=W,U.ref.type||f.values.next({name:S,values:{...s}})))}(D.shouldDirty||D.shouldTouch)&&R(S,W,D.shouldTouch,D.shouldDirty,!0),D.shouldValidate&&ie(S)},we=(S,P,D)=>{for(const K in P){const W=P[K],U=`${S}.${K}`,te=q(i,U);(l.array.has(S)||!zf(W)||te&&!te._f)&&!qs(W)?we(U,W,D):he(U,W,D)}},V=(S,P,D={})=>{const K=q(i,S),W=l.array.has(S),U=ir(P);Ve(s,S,U),W?(f.array.next({name:S,values:{...s}}),(d.isDirty||d.dirtyFields)&&D.shouldDirty&&f.state.next({name:S,dirtyFields:Zm(o,s),isDirty:X(S,U)})):K&&!K._f&&!sn(U)?we(S,U,D):he(S,U,D),K1(S,l)&&f.state.next({...r}),f.values.next({name:S,values:{...s}}),!a.mount&&t()},J=async S=>{const P=S.target;let D=P.name,K=!0;const W=q(i,D),U=()=>P.type?eg(W._f):Vx(S);if(W){let te,He;const qe=U(),er=S.type===Uf.BLUR||S.type===Uf.FOCUS_OUT,Rc=!gz(W._f)&&!n.resolver&&!q(r.errors,D)&&!W._f.deps||yz(er,q(r.touchedFields,D),r.isSubmitted,y,p),wo=K1(D,l,er);Ve(s,D,qe),er?(W._f.onBlur&&W._f.onBlur(S),u&&u(0)):W._f.onChange&&W._f.onChange(S);const Ka=R(D,qe,er,!1),Ac=!$n(Ka)||wo;if(!er&&f.values.next({name:D,type:S.type,values:{...s}}),Rc)return d.isValid&&m(),Ac&&f.state.next({name:D,...wo?{}:Ka});if(!er&&wo&&f.state.next({...r}),w(!0),n.resolver){const{errors:Cc}=await O([D]),Pc=eT(r.errors,i,D),xc=eT(Cc,i,Pc.name||D);te=xc.error,D=xc.name,He=$n(Cc)}else te=(await Z1(W,s,_,n.shouldUseNativeValidation))[D],K=Number.isNaN(qe)||qe===q(s,D,qe),K&&(te?He=!1:d.isValid&&(He=await j(i,!0)));K&&(W._f.deps&&ie(W._f.deps),A(D,He,te,Ka))}},ie=async(S,P={})=>{let D,K;const W=Od(S);if(w(!0),n.resolver){const U=await k(lt(S)?S:W);D=$n(U),K=S?!W.some(te=>q(U,te)):D}else S?(K=(await Promise.all(W.map(async U=>{const te=q(i,U);return await j(te&&te._f?{[U]:te}:te)}))).every(Boolean),!(!K&&!r.isValid)&&m()):K=D=await j(i);return f.state.next({...!Ar(S)||d.isValid&&D!==r.isValid?{}:{name:S},...n.resolver||!S?{isValid:D}:{},errors:r.errors,isValidating:!1}),P.shouldFocus&&!K&&Xy(i,U=>U&&q(r.errors,U),S?W:l.mount),K},Pe=S=>{const P={...o,...a.mount?s:{}};return lt(S)?P:Ar(S)?q(P,S):S.map(D=>q(P,D))},Le=(S,P)=>({invalid:!!q((P||r).errors,S),isDirty:!!q((P||r).dirtyFields,S),isTouched:!!q((P||r).touchedFields,S),error:q((P||r).errors,S)}),fn=S=>{S&&Od(S).forEach(P=>Pt(r.errors,P)),f.state.next({errors:S?r.errors:{}})},Re=(S,P,D)=>{const K=(q(i,S,{_f:{}})._f||{}).ref;Ve(r.errors,S,{...P,ref:K}),f.state.next({name:S,errors:r.errors,isValid:!1}),D&&D.shouldFocus&&K&&K.focus&&K.focus()},Jt=(S,P)=>$i(S)?f.values.subscribe({next:D=>S(oe(void 0,P),D)}):oe(S,P,!0),wt=(S,P={})=>{for(const D of S?Od(S):l.mount)l.mount.delete(D),l.array.delete(D),P.keepValue||(Pt(i,D),Pt(s,D)),!P.keepError&&Pt(r.errors,D),!P.keepDirty&&Pt(r.dirtyFields,D),!P.keepTouched&&Pt(r.touchedFields,D),!n.shouldUnregister&&!P.keepDefaultValue&&Pt(o,D);f.values.next({values:{...s}}),f.state.next({...r,...P.keepDirty?{isDirty:X()}:{}}),!P.keepIsValid&&m()},Mn=({disabled:S,name:P,field:D,fields:K})=>{if(Fi(S)){const W=S?void 0:q(s,P,eg(D?D._f:q(K,P)._f));Ve(s,P,W),R(P,W,!1,!1,!0)}},wn=(S,P={})=>{let D=q(i,S);const K=Fi(P.disabled);return Ve(i,S,{...D||{},_f:{...D&&D._f?D._f:{ref:{name:S}},name:S,mount:!0,...P}}),l.mount.add(S),D?Mn({field:D,disabled:P.disabled,name:S}):b(S,!0,P.value),{...K?{disabled:P.disabled}:{},...n.progressive?{required:!!P.required,min:hl(P.min),max:hl(P.max),minLength:hl(P.minLength),maxLength:hl(P.maxLength),pattern:hl(P.pattern)}:{},name:S,onChange:J,onBlur:J,ref:W=>{if(W){wn(S,P),D=q(i,S);const U=lt(W.value)&&W.querySelectorAll&&W.querySelectorAll("input,select,textarea")[0]||W,te=pz(U),He=D._f.refs||[];if(te?He.find(qe=>qe===U):U===D._f.ref)return;Ve(i,S,{_f:{...D._f,...te?{refs:[...He.filter(Jm),U,...Array.isArray(q(o,S))?[{}]:[]],ref:{type:U.type,name:S}}:{ref:U}}}),b(S,!1,void 0,U)}else D=q(i,S,{}),D._f&&(D._f.mount=!1),(n.shouldUnregister||P.shouldUnregister)&&!(Fx(l.array,S)&&a.action)&&l.unMount.add(S)}}},zr=()=>n.shouldFocusError&&Xy(i,S=>S&&q(r.errors,S),l.mount),_i=(S,P)=>async D=>{D&&(D.preventDefault&&D.preventDefault(),D.persist&&D.persist());let K=ir(s);if(f.state.next({isSubmitting:!0}),n.resolver){const{errors:W,values:U}=await O();r.errors=W,K=U}else await j(i);Pt(r.errors,"root"),$n(r.errors)?(f.state.next({errors:{}}),await S(K,D)):(P&&await P({...r.errors},D),zr(),setTimeout(zr)),f.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:$n(r.errors),submitCount:r.submitCount+1,errors:r.errors})},Ga=(S,P={})=>{q(i,S)&&(lt(P.defaultValue)?V(S,q(o,S)):(V(S,P.defaultValue),Ve(o,S,P.defaultValue)),P.keepTouched||Pt(r.touchedFields,S),P.keepDirty||(Pt(r.dirtyFields,S),r.isDirty=P.defaultValue?X(S,q(o,S)):X()),P.keepError||(Pt(r.errors,S),d.isValid&&m()),f.state.next({...r}))},Zt=(S,P={})=>{const D=S?ir(S):o,K=ir(D),W=S&&!$n(S)?K:o;if(P.keepDefaultValues||(o=D),!P.keepValues){if(P.keepDirtyValues||h)for(const U of l.mount)q(r.dirtyFields,U)?Ve(W,U,q(s,U)):V(U,q(W,U));else{if(Uw&&lt(S))for(const U of l.mount){const te=q(i,U);if(te&&te._f){const He=Array.isArray(te._f.refs)?te._f.refs[0]:te._f.ref;if(Bf(He)){const qe=He.closest("form");if(qe){qe.reset();break}}}}i={}}s=e.shouldUnregister?P.keepDefaultValues?ir(o):{}:ir(W),f.array.next({values:{...W}}),f.values.next({values:{...W}})}l={mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},!a.mount&&t(),a.mount=!d.isValid||!!P.keepIsValid,a.watch=!!e.shouldUnregister,f.state.next({submitCount:P.keepSubmitCount?r.submitCount:0,isDirty:P.keepDirty?r.isDirty:!!(P.keepDefaultValues&&!Uo(S,o)),isSubmitted:P.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:P.keepDirtyValues?r.dirtyFields:P.keepDefaultValues&&S?Zm(o,S):{},touchedFields:P.keepTouched?r.touchedFields:{},errors:P.keepErrors?r.errors:{},isSubmitSuccessful:P.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},_r=(S,P)=>Zt($i(S)?S(s):S,P);return{control:{register:wn,unregister:wt,getFieldState:Le,handleSubmit:_i,setError:Re,_executeSchema:O,_getWatch:oe,_getDirty:X,_updateValid:m,_removeUnmounted:$,_updateFieldArray:v,_updateDisabledField:Mn,_getFieldArray:pe,_reset:Zt,_resetDefaultValues:()=>$i(n.defaultValues)&&n.defaultValues().then(S=>{_r(S,n.resetOptions),f.state.next({isLoading:!1})}),_updateFormState:S=>{r={...r,...S}},_subjects:f,_proxyFormState:d,get _fields(){return i},get _formValues(){return s},get _state(){return a},set _state(S){a=S},get _defaultValues(){return o},get _names(){return l},set _names(S){l=S},get _formState(){return r},set _formState(S){r=S},get _options(){return n},set _options(S){n={...n,...S}}},trigger:ie,register:wn,handleSubmit:_i,watch:Jt,setValue:V,getValues:Pe,reset:_r,resetField:Ga,clearErrors:fn,unregister:wt,setError:Re,setFocus:(S,P={})=>{const D=q(i,S),K=D&&D._f;if(K){const W=K.refs?K.refs[0]:K.ref;W.focus&&(W.focus(),P.shouldSelect&&W.select())}},getFieldState:Le}}function Sp(e={}){const t=z.useRef(),n=z.useRef(),[r,i]=z.useState({isDirty:!1,isValidating:!1,isLoading:$i(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},errors:{},defaultValues:$i(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...wz(e,()=>i(s=>({...s}))),formState:r});const o=t.current.control;return o._options=e,jw({subject:o._subjects.state,next:s=>{Ux(s,o._proxyFormState,o._updateFormState,!0)&&i({...o._formState})}}),z.useEffect(()=>{e.values&&!Uo(e.values,n.current)?(o._reset(e.values,o._options.resetOptions),n.current=e.values):o._resetDefaultValues()},[e.values,o]),z.useEffect(()=>{o._state.mount||(o._updateValid(),o._state.mount=!0),o._state.watch&&(o._state.watch=!1,o._subjects.state.next({...o._formState})),o._removeUnmounted()}),t.current.formState=$x(r,o),t.current}const Ez="_button_g4iie_1",tg={button:Ez,"button--disabled":"_button--disabled_g4iie_13","button--outline":"_button--outline_g4iie_17"},Fr=({disabled:e=!1,outlineMode:t=!1,label:n,clickHandler:r})=>{const i=e?tg["button--disabled"]:"",o=t?tg["button--outline"]:"",s=a=>{a.preventDefault(),r()};return T.jsx("button",{className:`${tg.button} ${i} ${o}`,onClick:s,disabled:e,children:n})},Yx="/assets/icon-email-9f641281.svg";var jr=(e=>(e.TEXT="text",e.EMAIL="email",e.PASSWORD="password",e))(jr||{});const Xx="/assets/icon-password-003be85b.svg",tT={name:"email",type:jr.EMAIL,label:"Email address",placeholder:"e.g. alex@email.com"},nT={name:"password",type:jr.PASSWORD,label:"Password",placeholder:"Enter your password"},Iz={required:"Required"},Tz={required:"Required",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Must be valid"}},Sz=E.memo(Tp),bz=()=>{Lx();const e=Br(),[t,n]=p6(),r=t.get("toast"),i=E.useRef(!1),[o,s]=E.useState(!1),{register:a,getValues:l,formState:{isValid:u,errors:c}}=Sp({mode:"onChange"}),d=c[tT.name],f=c[nT.name],h=E.useCallback(A=>e(`/${A}`),[e]),p=E.useCallback(async()=>{if(!u)return;s(!0);const[A,O]=l(["email","password"]);try{await YO(xn,A,O),h(je.LINK)}catch{s(!1),Ee.error("Error logging in. Please try again!",Hn)}},[u,l,h]);E.useEffect(()=>{i.current||!r||(i.current=!0,Ee.success("Account successfully created. Please login!",Hn),n(""))},[r,n]);const y=E.useMemo(()=>T.jsx(co,{position:"top-right",autoClose:3e3,theme:"colored"}),[]),_=E.useMemo(()=>T.jsx(Fr,{label:"Login",disabled:!u||o,clickHandler:p}),[o,u,p]),g=E.useMemo(()=>T.jsx("img",{src:Yx,alt:"email"}),[]),m=E.useMemo(()=>({register:a,errors:d,validationSchema:Tz}),[d,a]),w=E.useMemo(()=>T.jsx(ri,{inputAttribute:tT,children:g,inputForm:m}),[g,m]),v=E.useMemo(()=>T.jsx("img",{src:Xx,alt:"password"}),[]),I=E.useMemo(()=>({register:a,errors:f,validationSchema:Iz}),[f,a]),b=E.useMemo(()=>T.jsx(ri,{inputAttribute:nT,children:v,inputForm:I}),[v,I]),R=E.useMemo(()=>T.jsxs(T.Fragment,{children:[y,T.jsx("h1",{className:"title",children:"Login"}),T.jsx("h3",{className:"subtitle",children:"Add your details below to get back into the app"}),T.jsxs("form",{className:$o.form,children:[w,b,_,T.jsxs("div",{className:$o.form__navigate,onClick:()=>h(je.REGISTER),children:[T.jsx("p",{children:"Don't have an account?"}),T.jsx("p",{className:$o["form__navigate--highlight"],children:"Create account"})]})]})]}),[_,w,b,y,h]);return T.jsx(Sz,{children:R})},Rz="_container_ib0t3_1",Az="_body__links_ib0t3_1",Cz="_header_ib0t3_11",Pz="_header__wrapper_ib0t3_15",xz="_body__profile_ib0t3_23",kz="_body__name_ib0t3_38",Dz="_body__email_ib0t3_44",Nz="_body_ib0t3_1",Ti={container:Rz,body__links:Az,header:Cz,header__wrapper:Pz,body__profile:xz,body__name:kz,body__email:Dz,body:Nz},Oz="_container_e6no6_1",Lz="_container__image_e6no6_29",ng={container:Oz,"container--preview":"_container--preview_e6no6_13",container__image:Lz},Mz="/assets/icon-arrow-right-49311683.svg",Vz=({link:e,previewMode:t})=>{const{img:n,label:r,background:i}=Uu.find(s=>s.value===e.platform),o=()=>window.open(e.value);return T.jsxs("div",{className:`${ng.container} ${t?ng["container--preview"]:""}`,style:{background:i},onClick:o,children:[T.jsxs("div",{children:[T.jsx("img",{src:n,alt:"link-image",className:ng.container__image}),T.jsx("span",{children:r})]}),T.jsx("img",{src:Mz,alt:"arrow-right"})]})},Jx=({links:e,previewMode:t=!1})=>e.map(n=>T.jsx(Vz,{link:n,previewMode:t},n.id)),Fz="_spinner_1v182_1",$z="_spin_1v182_1",Uz={spinner:Fz,spin:$z},Gw=({size:e})=>T.jsx("span",{className:Uz.spinner,style:{width:`${e}rem`,height:`${e}rem`}}),Bz="_container_16px3_1",jz={container:Bz},Zx=()=>T.jsx("div",{className:jz.container,children:T.jsx(Gw,{size:4})}),zz={loading:!0,email:"",photoURL:"",displayName:""},Wz=()=>{const e=Br(),t=_s(),{user:n}=hi(p=>p.auth),{links:r}=hi(p=>p.list),{id:i}=F9(),[o,s]=E.useState(zz),a=E.useCallback(p=>e(p),[e]),l=E.useCallback(()=>{navigator.clipboard.writeText(window.location.href),Ee.success("The link has been copied to your clipboard!",Hn)},[]),u=E.useCallback(async()=>{try{const p=(await MU(Vr(yr,Jn.USERS,i))).data();if(!p){a(`/${je.LOGIN}`);return}const y=((p==null?void 0:p.displayName)||"").replace("."," ");s(_=>({..._,...p,loading:!1,displayName:y}))}catch{a(`/${je.LOGIN}`)}},[i,a]),c=E.useMemo(()=>T.jsx(Jx,{links:r}),[r]),d=E.useMemo(()=>T.jsx(co,{position:"top-right",autoClose:3e3,theme:"colored"}),[]),f=E.useMemo(()=>T.jsx(Fr,{label:"Share Link",clickHandler:l}),[l]),h=E.useMemo(()=>T.jsx(Fr,{label:"Back to Editor",outlineMode:!0,clickHandler:()=>a(`/${je.PROFILE}`)}),[a]);return E.useEffect(()=>{t(Jl(i||""))},[t,i]),E.useEffect(()=>{u()},[u]),o.loading?T.jsx(Zx,{}):T.jsxs(T.Fragment,{children:[d,T.jsxs("div",{className:Ti.container,children:[T.jsx("div",{className:Ti.header,children:n!==null&&T.jsxs("div",{className:Ti.header__wrapper,children:[T.jsx("div",{children:h}),T.jsx("div",{children:f})]})}),T.jsxs("div",{className:Ti.body,children:[T.jsxs("div",{className:Ti.body__profile,children:[T.jsx("img",{src:o.photoURL,alt:"profile image"}),T.jsx("h1",{className:Ti.body__name,children:o.displayName}),T.jsx("h3",{className:Ti.body__email,children:o.email})]}),T.jsx("div",{className:Ti.body__links,children:c})]})]})]})},Hz="_card_1cu0c_1",qz={card:Hz},Gz="_container_18l43_1",Kz={container:Gz},Kw=({children:e})=>T.jsx("div",{className:Kz.container,children:e}),Qz=()=>{const[e,t]=E.useState([0,0]),n=()=>t([window.innerWidth,window.innerHeight]);return E.useLayoutEffect(()=>(n(),window.addEventListener("resize",n),()=>window.removeEventListener("resize",n)),[]),e},rT={name:"email",label:"Email",type:jr.EMAIL,placeholder:""},iT={name:"lastName",label:"Last name*",type:jr.TEXT,placeholder:""},oT={name:"firstName",label:"First name*",type:jr.TEXT,placeholder:""},sT={required:"Required",pattern:{value:/^([A-Za-z\s]{1,100})$/i,message:"From 1 to 100 characters"}},Yz={required:"Required",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Must be valid"}},Xz=E.memo(Kw),Jz=E.forwardRef(({user:e,formStateHandler:t},n)=>{E.useImperativeHandle(n,()=>({resetForm(){d(_)}}));const[r]=Qz(),i=r>=768,[o,s]=(e.displayName||".").split("."),a={email:e.email,firstName:o,lastName:s},[l,u]=E.useState(Yz),{register:c,reset:d,control:f,formState:{errors:h,isValid:p,isDirty:y}}=Sp({mode:"onChange",defaultValues:a}),_=zw({control:f}),g=h[rT.name],m=h[iT.name],w=h[oT.name],v=E.useMemo(()=>({register:c,errors:m,validationSchema:sT}),[m,c]),I=E.useMemo(()=>({register:c,errors:w,validationSchema:sT}),[w,c]),b=E.useMemo(()=>({register:c,errors:g,validationSchema:l}),[g,l,c]),R=E.useMemo(()=>T.jsx(ri,{inputAttribute:oT,expandRowDesktop:i,inputForm:I}),[I,i]),A=E.useMemo(()=>T.jsx(ri,{inputAttribute:iT,expandRowDesktop:i,inputForm:v}),[v,i]),O=E.useMemo(()=>T.jsx(ri,{inputAttribute:rT,expandRowDesktop:i,inputForm:b}),[b,i]);E.useEffect(()=>{if(!y)return;const j=e.email===_.email?{}:Dx(_.email);u($=>({...$,validate:j}))},[e.email,y,_]),E.useEffect(()=>{t(_,y,p)},[_,y,p,t]);const k=E.useMemo(()=>T.jsxs("div",{className:qz.card,children:[R,A,O]}),[O,R,A]);return T.jsx(Xz,{children:k})}),Zz="_subcontainer_84muw_1",e5={subcontainer:Zz},t5="_title_11sgq_1",n5="_subtitle_11sgq_9",r5="_container_11sgq_9",i5="_heading_11sgq_9",o5="_file_11sgq_20",s5="_note_11sgq_29",a5="_container__upload_11sgq_44",To={title:t5,subtitle:n5,container:r5,heading:i5,file:o5,note:s5,"note--invalid":"_note--invalid_11sgq_34",container__upload:a5},l5="_container_1qdao_1",u5="_container__image_1qdao_15",c5="_container__text_1qdao_16",d5="_container__profile_1qdao_19",f5="_container__progress_1qdao_29",So={container:l5,"container--change":"_container--change_1qdao_15",container__image:u5,container__text:c5,container__profile:d5,container__progress:f5},h5="/assets/icon-upload-image-59259b2a.svg",p5=({imageState:e,handleImageUpload:t})=>T.jsxs("div",{className:`${So.container} ${e.imageURL?So["container--change"]:""}`,onClick:t,children:[e.uploading&&T.jsx("div",{className:So.container__progress,children:T.jsx(Gw,{size:4})}),T.jsx("img",{src:h5,alt:"upload",className:So.container__image}),!e.imageURL&&T.jsx("span",{className:So.container__text,children:"+ Upload Image"}),e.imageURL&&T.jsxs(T.Fragment,{children:[T.jsx("span",{className:So.container__text,children:"Change image"}),T.jsx("img",{src:e.imageURL,alt:"profile",className:So.container__profile})]})]}),m5=()=>{const e=_s(),t=E.useRef(null),{user:n}=hi(c=>c.auth),[r,i]=E.useState({uploading:!0,invalid:!1,imageURL:null}),o=()=>{t.current&&t.current.click()};E.useEffect(()=>{i({uploading:!1,invalid:!1,imageURL:n==null?void 0:n.photoURL})},[n==null?void 0:n.photoURL]);const s=()=>{i({invalid:!0,uploading:!1,imageURL:null}),a()},a=()=>t.current.value="",l=async(c,d)=>{try{const f=d.width,p=d.height>1024||f>1024;if(i({invalid:p,uploading:!1,imageURL:null}),p)return;const y=CV(jU,`profile/${n==null?void 0:n.email}/profileImage`),_=await AV((await RV(y,c)).ref),g={photoURL:_};await NS(xn.currentUser,g),await C_(Vr(yr,Jn.USERS,Vr(yr,Jn.USERS,xn.currentUser.uid).id),g),e(px(g)),i({invalid:!1,uploading:!1,imageURL:_}),a()}catch{s()}},u=c=>{try{const d=new FileReader,[f]=c.target.files;d.readAsDataURL(f),d.onload=h=>{i(y=>({...y,uploading:!0}));const p=new Image;p.src=h.target.result,p.onload=async()=>await l(f,p)}}catch{s()}};return T.jsxs(Kw,{children:[T.jsx("input",{type:"file",name:"image",accept:".png,.jpg",className:To.file,ref:t,onChange:u}),T.jsxs("div",{className:To.container,children:[T.jsx("h1",{className:To.heading,children:"Profile picture"}),T.jsxs("div",{className:To.upload,children:[T.jsx(p5,{imageState:r,handleImageUpload:o}),T.jsx("p",{className:To.note,children:"Image must be below 1024x1024px. Use PNG or JPG format."}),r.invalid&&T.jsx("p",{className:`${To.note} ${To["note--invalid"]}`,children:"Error uploading image. Image doesn't meet upload criteria or there was some unknown error."})]})]})]})},g5="_container__list_19jyp_1",y5="_container__email_19jyp_1",v5="_container__name_19jyp_1",_5="_container__profile_19jyp_1",w5="_container_19jyp_1",pl={container__list:g5,container__email:y5,container__name:v5,container__profile:_5,container:w5},E5="/assets/illustration-phone-mockup-a5c4f4e3.svg",I5=()=>{const{user:e}=hi(i=>i.auth),{links:t,loading:n}=hi(i=>i.list),r=E.useMemo(()=>T.jsx(Jx,{links:t,previewMode:!0}),[t]);return T.jsxs("div",{className:pl.container,children:[T.jsx("img",{src:E5,alt:"phone"}),e&&T.jsxs(T.Fragment,{children:[e.photoURL&&T.jsx("img",{src:e.photoURL,alt:"profile",className:pl.container__profile}),T.jsx("h1",{className:pl.container__name,children:(e.displayName||"").replace("."," ")}),T.jsx("span",{className:pl.container__email,children:e.email})]}),!n&&T.jsx("div",{className:pl.container__list,children:r})]})},T5="_container__phone_i1xa5_1",S5="_container_i1xa5_1",b5="_container__body_i1xa5_12",rg={container__phone:T5,container:S5,container__body:b5},ek=({children:e})=>{const t=E.useMemo(()=>T.jsx(I5,{}),[]);return T.jsxs("div",{className:rg.container,children:[T.jsx("div",{className:rg.container__phone,children:t}),T.jsx("div",{className:rg.container__body,children:e})]})},R5="_container_1wrqf_1",A5="_title_1wrqf_5",C5="_subtitle_1wrqf_9",P5="_subcontainer_1wrqf_13",x5="_footer_1wrqf_18",Ui={container:R5,title:A5,subtitle:C5,subcontainer:P5,footer:x5},k5=E.memo(ek),D5=()=>{const e=_s(),{user:t}=hi(h=>h.auth),[n,r]=E.useState(null),i=E.useRef(),o=E.useCallback((h,p,y)=>{r(_=>({..._,formValues:h,isDirty:p,isValid:y}))},[]),s=E.useCallback(async()=>{const{firstName:h,lastName:p,email:y}=n.formValues;try{const _=xn.currentUser,g=`${h}.${p}`;await eL(_,y),await NS(_,{displayName:g}),await C_(Vr(yr,Jn.USERS,Vr(yr,Jn.USERS,_.uid).id),{displayName:g,email:y}),e(px({displayName:g,email:y})),i.current.resetForm(),Ee.success("Your changes have been successfully saved.",Hn)}catch{Ee.error("Error saving form. Please try again!",Hn)}},[e,n]),a=!n||!n.isValid||!n.isDirty,l=E.useMemo(()=>T.jsx(m5,{}),[]),u=E.useMemo(()=>T.jsx(Jz,{user:t,formStateHandler:o,ref:i}),[o,t]),c=E.useMemo(()=>T.jsx(co,{position:"top-right",autoClose:3e3,theme:"colored"}),[]),d=E.useMemo(()=>T.jsx(Fr,{disabled:a,label:"Save",clickHandler:s}),[a,s]),f=E.useMemo(()=>T.jsxs(T.Fragment,{children:[c,T.jsxs("div",{className:Ui.container,children:[T.jsx("h1",{className:"title",children:"Profile Details"}),T.jsx("h3",{className:"subtitle",children:"Add your details to create a personal touch to your profile."}),T.jsxs("div",{className:`${Ui.subcontainer} ${e5.subcontainer}`,children:[l,u]})]}),T.jsx("div",{className:Ui.footer,children:T.jsx("div",{className:Ui.footer__wrapper,children:d})})]}),[d,u,l,c]);return T.jsx(k5,{children:f})},N5=E.createContext(null),ig={didCatch:!1,error:null};let O5=class extends E.Component{constructor(t){super(t),this.resetErrorBoundary=this.resetErrorBoundary.bind(this),this.state=ig}static getDerivedStateFromError(t){return{didCatch:!0,error:t}}resetErrorBoundary(){const{error:t}=this.state;if(t!==null){for(var n,r,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];(n=(r=this.props).onReset)===null||n===void 0||n.call(r,{args:o,reason:"imperative-api"}),this.setState(ig)}}componentDidCatch(t,n){var r,i;(r=(i=this.props).onError)===null||r===void 0||r.call(i,t,n)}componentDidUpdate(t,n){const{didCatch:r}=this.state,{resetKeys:i}=this.props;if(r&&n.error!==null&&L5(t.resetKeys,i)){var o,s;(o=(s=this.props).onReset)===null||o===void 0||o.call(s,{next:i,prev:t.resetKeys,reason:"keys"}),this.setState(ig)}}render(){const{children:t,fallbackRender:n,FallbackComponent:r,fallback:i}=this.props,{didCatch:o,error:s}=this.state;let a=t;if(o){const l={error:s,resetErrorBoundary:this.resetErrorBoundary};if(E.isValidElement(i))a=i;else if(typeof n=="function")a=n(l);else if(r)a=E.createElement(r,l);else throw s}return E.createElement(N5.Provider,{value:{didCatch:o,error:s,resetErrorBoundary:this.resetErrorBoundary}},a)}};function L5(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return e.length!==t.length||e.some((n,r)=>!Object.is(n,t[r]))}const aT={name:"email",label:"Email address",type:jr.EMAIL,placeholder:"e.g. alex@email.com"},lT={name:"password",label:"Create password",type:jr.PASSWORD,placeholder:"At least 8 characters"},uT={name:"confirmPassword",label:"Confirm password",type:jr.PASSWORD,placeholder:"At least 8 characters"},M5={required:"Required",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Must be valid"},validate:Dx},cT={required:"Required",pattern:{value:/\S{8,}/,message:"Must have 8/more characters"}},V5=E.memo(Tp),F5=()=>{Lx();const e=Br(),[t,n]=E.useState(!1),{register:r,getValues:i,formState:{errors:o,isValid:s}}=Sp({mode:"onChange"}),a=o[aT.name],l=o[lT.name],u=o[uT.name],c=E.useCallback((A=!1)=>{const O=A?`/${je.LOGIN}?toast=true`:`/${je.LOGIN}`;e(O)},[e]),d=E.useCallback(async()=>{if(!s)return;n(!0);const[A,O]=i(["email","password"]);try{const k=await QO(xn,A,O);await PA(Vr(yr,Jn.USERS,k.user.uid),{email:A}),c(!0)}catch{n(!1),Ee.error("Error creating account. Please try again!",Hn)}},[s,i,c]),f=E.useMemo(()=>T.jsx(co,{position:"top-right",autoClose:3e3,theme:"colored"}),[]),h=E.useMemo(()=>T.jsx(Fr,{label:"Create new account",disabled:!s||t,clickHandler:d}),[t,s,d]),p=E.useMemo(()=>({...cT,validate:A=>A!==i().password?"Passwords must match":null}),[i]),y=E.useMemo(()=>T.jsx("img",{src:Yx,alt:"email"}),[]),_=E.useMemo(()=>({register:r,errors:a,validationSchema:M5}),[a,r]),g=E.useMemo(()=>T.jsx(ri,{inputAttribute:aT,inputForm:_,children:y}),[y,_]),m=E.useMemo(()=>T.jsx("img",{src:Xx,alt:"password"}),[]),w=E.useMemo(()=>({register:r,errors:l,validationSchema:cT}),[l,r]),v=E.useMemo(()=>T.jsx(ri,{inputAttribute:lT,inputForm:w,children:m}),[w,m]),I=E.useMemo(()=>({register:r,errors:u,validationSchema:p}),[u,p,r]),b=E.useMemo(()=>T.jsx(ri,{inputAttribute:uT,inputForm:I,children:m}),[I,m]),R=E.useMemo(()=>T.jsxs(T.Fragment,{children:[f,T.jsx("h1",{className:"title",children:"Create account"}),T.jsx("h3",{className:"subtitle",children:"Let's get you started sharing your links!"}),T.jsxs("div",{className:$o.form,children:[g,v,b,T.jsx("p",{className:$o.form__validation__text,children:"Password must contain at least 8 characters"}),h,T.jsxs("div",{className:$o.form__navigate,onClick:()=>c(),children:[T.jsx("p",{children:"Already have an account?"}),T.jsx("p",{className:$o["form__navigate--highlight"],children:"Login"})]})]})]}),[h,b,g,v,f,c]);return T.jsx(V5,{children:R})},$5="_header_z302x_1",U5="_header__id_z302x_7",B5="_header__remove_z302x_20",j5="_body_z302x_24",ml={header:$5,header__id:U5,header__remove:B5,body:j5};var Aa=(e=>(e.NEW_LINK_ID="FREE-",e))(Aa||{});const z5="_container_11hy3_1",W5="_container__value_11hy3_13",ld={container:z5,container__value:W5,"container--expanded":"_container--expanded_11hy3_18","chevron--up":"_chevron--up_11hy3_23"},H5="/assets/icon-chevron-down-fe4d6a65.svg",q5=e=>{const t=E.useRef(null),n=E.useCallback(r=>{!t.current||t.current.contains(r.target)||e(!1)},[e]);return E.useEffect(()=>(document.addEventListener("click",n),()=>document.removeEventListener("click",n)),[n]),{ref:t}},G5=({dropdownVisible:e,activeItem:t,setDropdownVisible:n,onToggleExpand:r})=>{const{ref:i}=q5(n);return T.jsxs("div",{className:`${ld.container} ${e?ld["container--expanded"]:""}`,onClick:r,ref:i,children:[T.jsx("div",{className:ld.container__value,children:t&&T.jsxs(T.Fragment,{children:[T.jsx("img",{src:t.img,alt:"link"}),T.jsx("span",{children:t.label})]})}),T.jsx("img",{src:H5,alt:"arrow",className:e?ld["chevron--up"]:""})]})},K5="_container_1e3qu_1",Q5={container:K5},Y5="_container_1f9zt_1",X5="_container__item_1f9zt_15",J5="_container__item__content_1f9zt_20",Z5="_container__item__line_1f9zt_31",gl={container:Y5,container__item:X5,container__item__content:J5,"container__item__content--selected":"_container__item__content--selected_1f9zt_25",container__item__line:Z5},eW=({options:e,activeOption:t,onChange:n,onSelectOption:r})=>T.jsx("ul",{className:gl.container,children:e.map((i,o)=>{const s=i.value===t;return T.jsxs("li",{className:gl.container__item,onClick:()=>r(n,i.value),children:[T.jsxs("div",{className:`${gl.container__item__content} ${s?gl["container__item__content--selected"]:""}`,children:[T.jsx("img",{src:i.img,alt:"option-img"}),T.jsxs("span",{children:[i.label," ",s?" (Selected)":""]})]}),e.length-1!==o&&T.jsx("div",{className:gl.container__item__line})]},o)})}),tW=({active:e,label:t,options:n,name:r,control:i})=>{const[o,s]=E.useState(e),[a,l]=E.useState(!1),u=(h,p)=>{h(p),s(p),l(!1)},c=E.useMemo(()=>n.find(h=>(h==null?void 0:h.value)===o)||null,[o,n]),d=E.useCallback(()=>l(h=>!h),[]),f=E.useMemo(()=>T.jsx(G5,{activeItem:c,dropdownVisible:a,onToggleExpand:d,setDropdownVisible:l}),[c,a,d]);return T.jsx(uz,{control:i,name:r,render:({field:{onChange:h}})=>T.jsxs("div",{className:Q5.container,children:[T.jsx("label",{children:t}),f,a&&T.jsx(eW,{options:n,activeOption:o,onChange:h,onSelectOption:u})]})})},nW="/assets/icon-link-c5ca9982.svg",rW="/assets/rectangle-599ed185.svg",iW={name:"value",label:"Link",placeholder:"e.g. https://www.github.com/johnappleseed",type:jr.TEXT},oW=E.memo(Kw),sW=({index:e,link:t,formValidity:n,dragProps:r,removeLinkHandler:i,formValidityHandler:o})=>{const s={platform:t.platform,value:t.value},[a,l]=E.useState({required:"Required"}),{register:u,resetField:c,control:d,formState:{errors:f,isValid:h,isDirty:p}}=Sp({mode:"onChange",defaultValues:s}),y=E.useCallback(()=>{i&&i(t.id)},[t.id,i]),_=zw({control:d}),g=t.id.startsWith(Aa.NEW_LINK_ID),m=f.value,w=E.useMemo(()=>{const O=n.map($=>$.link.platform),k=Uu.find($=>$.value===_.platform),j=Uu.filter($=>!O.includes($.value));return[k,...j]},[n,_.platform]),v=E.useMemo(()=>T.jsx("img",{src:nW,alt:"link"}),[]),I=E.useMemo(()=>({register:u,errors:m,validationSchema:a}),[m,a,u]),b=E.useMemo(()=>T.jsx(tW,{name:"platform",label:"Platform",active:t.platform,options:w,control:d}),[d,t.platform,w]),R=E.useMemo(()=>T.jsx(ri,{inputAttribute:iW,inputForm:I,children:v}),[v,I]);E.useEffect(()=>{const O={pattern:{message:"",value:new RegExp(`(${_.platform}.{1,90})`)}};l(k=>({...k,...O}))},[_.platform]),E.useEffect(()=>{Object.hasOwn(a,"pattern")&&c("value")},[a,c]),E.useEffect(()=>{const{platform:O,value:k}=_;o([O,k],h,p,t.id)},[_,p,h,t.id,o]);const A=E.useMemo(()=>T.jsxs(T.Fragment,{children:[T.jsxs("div",{className:ml.header,children:[T.jsxs("p",{className:ml.header__id,...r,children:[!g&&T.jsx("img",{src:rW,alt:"rectangle",className:ml.header__id__img}),"Link #",e+1]}),T.jsx("p",{className:ml.header__remove,onClick:y,children:"Remove"})]}),T.jsxs("div",{className:ml.body,children:[b,R]})]}),[R,b,r,e,g,y]);return T.jsx(oW,{children:A})},aW="_container_zw3bf_1",lW={container:aW};function uW(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function tk(e,t){var n=E.useState(function(){return{inputs:t,result:e()}})[0],r=E.useRef(!0),i=E.useRef(n),o=r.current||!!(t&&i.current.inputs&&uW(t,i.current.inputs)),s=o?i.current:{inputs:t,result:e()};return E.useEffect(function(){r.current=!1,i.current=s},[s]),s.result}function cW(e,t){return tk(function(){return e},t)}var Te=tk,ee=cW,dW=!0,og="Invariant failed";function fW(e,t){if(!e){if(dW)throw new Error(og);var n=typeof t=="function"?t():t,r=n?"".concat(og,": ").concat(n):og;throw new Error(r)}}var cr=function(t){var n=t.top,r=t.right,i=t.bottom,o=t.left,s=r-o,a=i-n,l={top:n,right:r,bottom:i,left:o,width:s,height:a,x:o,y:n,center:{x:(r+o)/2,y:(i+n)/2}};return l},Qw=function(t,n){return{top:t.top-n.top,left:t.left-n.left,bottom:t.bottom+n.bottom,right:t.right+n.right}},dT=function(t,n){return{top:t.top+n.top,left:t.left+n.left,bottom:t.bottom-n.bottom,right:t.right-n.right}},hW=function(t,n){return{top:t.top+n.y,left:t.left+n.x,bottom:t.bottom+n.y,right:t.right+n.x}},sg={top:0,right:0,bottom:0,left:0},Yw=function(t){var n=t.borderBox,r=t.margin,i=r===void 0?sg:r,o=t.border,s=o===void 0?sg:o,a=t.padding,l=a===void 0?sg:a,u=cr(Qw(n,i)),c=cr(dT(n,s)),d=cr(dT(c,l));return{marginBox:u,borderBox:cr(n),paddingBox:c,contentBox:d,margin:i,border:s,padding:l}},Vn=function(t){var n=t.slice(0,-2),r=t.slice(-2);if(r!=="px")return 0;var i=Number(n);return isNaN(i)&&fW(!1),i},pW=function(){return{x:window.pageXOffset,y:window.pageYOffset}},Hf=function(t,n){var r=t.borderBox,i=t.border,o=t.margin,s=t.padding,a=hW(r,n);return Yw({borderBox:a,border:i,margin:o,padding:s})},qf=function(t,n){return n===void 0&&(n=pW()),Hf(t,n)},nk=function(t,n){var r={top:Vn(n.marginTop),right:Vn(n.marginRight),bottom:Vn(n.marginBottom),left:Vn(n.marginLeft)},i={top:Vn(n.paddingTop),right:Vn(n.paddingRight),bottom:Vn(n.paddingBottom),left:Vn(n.paddingLeft)},o={top:Vn(n.borderTopWidth),right:Vn(n.borderRightWidth),bottom:Vn(n.borderBottomWidth),left:Vn(n.borderLeftWidth)};return Yw({borderBox:t,margin:r,padding:i,border:o})},rk=function(t){var n=t.getBoundingClientRect(),r=window.getComputedStyle(t);return nk(n,r)},fT=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function mW(e,t){return!!(e===t||fT(e)&&fT(t))}function gW(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!mW(e[n],t[n]))return!1;return!0}function St(e,t){t===void 0&&(t=gW);var n=null;function r(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];if(n&&n.lastThis===this&&t(i,n.lastArgs))return n.lastResult;var s=e.apply(this,i);return n={lastResult:s,lastArgs:i,lastThis:this},s}return r.clear=function(){n=null},r}var yW=function(t){var n=[],r=null,i=function(){for(var s=arguments.length,a=new Array(s),l=0;l<s;l++)a[l]=arguments[l];n=a,!r&&(r=requestAnimationFrame(function(){r=null,t.apply(void 0,n)}))};return i.cancel=function(){r&&(cancelAnimationFrame(r),r=null)},i};const Bu=yW;function ik(e,t){}ik.bind(null,"warn");ik.bind(null,"error");function to(){}function vW(e,t){return{...e,...t}}function qn(e,t,n){const r=t.map(i=>{const o=vW(n,i.options);return e.addEventListener(i.eventName,i.fn,o),function(){e.removeEventListener(i.eventName,i.fn,o)}});return function(){r.forEach(o=>{o()})}}const _W="Invariant failed";class Gf extends Error{}Gf.prototype.toString=function(){return this.message};function B(e,t){if(!e)throw new Gf(_W)}class wW extends z.Component{constructor(){super(...arguments),this.callbacks=null,this.unbind=to,this.onWindowError=t=>{const n=this.getCallbacks();n.isDragging()&&n.tryAbort(),t.error instanceof Gf&&t.preventDefault()},this.getCallbacks=()=>{if(!this.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return this.callbacks},this.setCallbacks=t=>{this.callbacks=t}}componentDidMount(){this.unbind=qn(window,[{eventName:"error",fn:this.onWindowError}])}componentDidCatch(t){if(t instanceof Gf){this.setState({});return}throw t}componentWillUnmount(){this.unbind()}render(){return this.props.children(this.setCallbacks)}}const EW=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,Kf=e=>e+1,IW=e=>`
  You have lifted an item in position ${Kf(e.source.index)}
`,ok=(e,t)=>{const n=e.droppableId===t.droppableId,r=Kf(e.index),i=Kf(t.index);return n?`
      You have moved the item from position ${r}
      to position ${i}
    `:`
    You have moved the item from position ${r}
    in list ${e.droppableId}
    to list ${t.droppableId}
    in position ${i}
  `},sk=(e,t,n)=>t.droppableId===n.droppableId?`
      The item ${e}
      has been combined with ${n.draggableId}`:`
      The item ${e}
      in list ${t.droppableId}
      has been combined with ${n.draggableId}
      in list ${n.droppableId}
    `,TW=e=>{const t=e.destination;if(t)return ok(e.source,t);const n=e.combine;return n?sk(e.draggableId,e.source,n):"You are over an area that cannot be dropped on"},hT=e=>`
  The item has returned to its starting position
  of ${Kf(e.index)}
`,SW=e=>{if(e.reason==="CANCEL")return`
      Movement cancelled.
      ${hT(e.source)}
    `;const t=e.destination,n=e.combine;return t?`
      You have dropped the item.
      ${ok(e.source,t)}
    `:n?`
      You have dropped the item.
      ${sk(e.draggableId,e.source,n)}
    `:`
    The item has been dropped while not over a drop area.
    ${hT(e.source)}
  `},bW={dragHandleUsageInstructions:EW,onDragStart:IW,onDragUpdate:TW,onDragEnd:SW};var Md=bW;const Rt={x:0,y:0},Ot=(e,t)=>({x:e.x+t.x,y:e.y+t.y}),bn=(e,t)=>({x:e.x-t.x,y:e.y-t.y}),no=(e,t)=>e.x===t.x&&e.y===t.y,Wa=e=>({x:e.x!==0?-e.x:0,y:e.y!==0?-e.y:0}),us=function(e,t,n){return n===void 0&&(n=0),e==="x"?{x:t,y:n}:{x:n,y:t}},ju=(e,t)=>Math.sqrt((t.x-e.x)**2+(t.y-e.y)**2),pT=(e,t)=>Math.min(...t.map(n=>ju(e,n))),ak=e=>t=>({x:e(t.x),y:e(t.y)});var RW=(e,t)=>{const n=cr({top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom),left:Math.max(t.left,e.left)});return n.width<=0||n.height<=0?null:n};const Sc=(e,t)=>({top:e.top+t.y,left:e.left+t.x,bottom:e.bottom+t.y,right:e.right+t.x}),mT=e=>[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.left,y:e.bottom},{x:e.right,y:e.bottom}],AW={top:0,right:0,bottom:0,left:0},CW=(e,t)=>t?Sc(e,t.scroll.diff.displacement):e,PW=(e,t,n)=>n&&n.increasedBy?{...e,[t.end]:e[t.end]+n.increasedBy[t.line]}:e,xW=(e,t)=>t&&t.shouldClipSubject?RW(t.pageMarginBox,e):cr(e);var Ca=e=>{let{page:t,withPlaceholder:n,axis:r,frame:i}=e;const o=CW(t.marginBox,i),s=PW(o,r,n),a=xW(s,i);return{page:t,withPlaceholder:n,active:a}},Xw=(e,t)=>{e.frame||B(!1);const n=e.frame,r=bn(t,n.scroll.initial),i=Wa(r),o={...n,scroll:{initial:n.scroll.initial,current:t,diff:{value:r,displacement:i},max:n.scroll.max}},s=Ca({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:o});return{...e,frame:o,subject:s}};const lk=St(e=>e.reduce((t,n)=>(t[n.descriptor.id]=n,t),{})),uk=St(e=>e.reduce((t,n)=>(t[n.descriptor.id]=n,t),{})),bp=St(e=>Object.values(e)),kW=St(e=>Object.values(e));var Ha=St((e,t)=>kW(t).filter(r=>e===r.descriptor.droppableId).sort((r,i)=>r.descriptor.index-i.descriptor.index));function Jw(e){return e.at&&e.at.type==="REORDER"?e.at.destination:null}function Rp(e){return e.at&&e.at.type==="COMBINE"?e.at.combine:null}var Ap=St((e,t)=>t.filter(n=>n.descriptor.id!==e.descriptor.id)),DW=e=>{let{isMovingForward:t,draggable:n,destination:r,insideDestination:i,previousImpact:o}=e;if(!r.isCombineEnabled||!Jw(o))return null;function a(p){const y={type:"COMBINE",combine:{draggableId:p,droppableId:r.descriptor.id}};return{...o,at:y}}const l=o.displaced.all,u=l.length?l[0]:null;if(t)return u?a(u):null;const c=Ap(n,i);if(!u){if(!c.length)return null;const p=c[c.length-1];return a(p.descriptor.id)}const d=c.findIndex(p=>p.descriptor.id===u);d===-1&&B(!1);const f=d-1;if(f<0)return null;const h=c[f];return a(h.descriptor.id)},qa=(e,t)=>e.descriptor.droppableId===t.descriptor.id;const ck={point:Rt,value:0},zu={invisible:{},visible:{},all:[]},NW={displaced:zu,displacedBy:ck,at:null};var OW=NW,Qn=(e,t)=>n=>e<=n&&n<=t,dk=e=>{const t=Qn(e.top,e.bottom),n=Qn(e.left,e.right);return r=>{if(t(r.top)&&t(r.bottom)&&n(r.left)&&n(r.right))return!0;const o=t(r.top)||t(r.bottom),s=n(r.left)||n(r.right);if(o&&s)return!0;const l=r.top<e.top&&r.bottom>e.bottom,u=r.left<e.left&&r.right>e.right;return l&&u?!0:l&&s||u&&o}},LW=e=>{const t=Qn(e.top,e.bottom),n=Qn(e.left,e.right);return r=>t(r.top)&&t(r.bottom)&&n(r.left)&&n(r.right)};const Zw={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},fk={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"};var MW=e=>t=>{const n=Qn(t.top,t.bottom),r=Qn(t.left,t.right);return i=>e===Zw?n(i.top)&&n(i.bottom):r(i.left)&&r(i.right)};const VW=(e,t)=>{const n=t.frame?t.frame.scroll.diff.displacement:Rt;return Sc(e,n)},FW=(e,t,n)=>t.subject.active?n(t.subject.active)(e):!1,$W=(e,t,n)=>n(t)(e),e0=e=>{let{target:t,destination:n,viewport:r,withDroppableDisplacement:i,isVisibleThroughFrameFn:o}=e;const s=i?VW(t,n):t;return FW(s,n,o)&&$W(s,r,o)},UW=e=>e0({...e,isVisibleThroughFrameFn:dk}),hk=e=>e0({...e,isVisibleThroughFrameFn:LW}),BW=e=>e0({...e,isVisibleThroughFrameFn:MW(e.destination.axis)}),jW=(e,t,n)=>{if(typeof n=="boolean")return n;if(!t)return!0;const{invisible:r,visible:i}=t;if(r[e])return!1;const o=i[e];return o?o.shouldAnimate:!0};function zW(e,t){const n=e.page.marginBox,r={top:t.point.y,right:0,bottom:0,left:t.point.x};return cr(Qw(n,r))}function Wu(e){let{afterDragging:t,destination:n,displacedBy:r,viewport:i,forceShouldAnimate:o,last:s}=e;return t.reduce(function(l,u){const c=zW(u,r),d=u.descriptor.id;if(l.all.push(d),!UW({target:c,destination:n,viewport:i,withDroppableDisplacement:!0}))return l.invisible[u.descriptor.id]=!0,l;const h=jW(d,s,o),p={draggableId:d,shouldAnimate:h};return l.visible[d]=p,l},{all:[],visible:{},invisible:{}})}function WW(e,t){if(!e.length)return 0;const n=e[e.length-1].descriptor.index;return t.inHomeList?n:n+1}function gT(e){let{insideDestination:t,inHomeList:n,displacedBy:r,destination:i}=e;const o=WW(t,{inHomeList:n});return{displaced:zu,displacedBy:r,at:{type:"REORDER",destination:{droppableId:i.descriptor.id,index:o}}}}function Qf(e){let{draggable:t,insideDestination:n,destination:r,viewport:i,displacedBy:o,last:s,index:a,forceShouldAnimate:l}=e;const u=qa(t,r);if(a==null)return gT({insideDestination:n,inHomeList:u,displacedBy:o,destination:r});const c=n.find(y=>y.descriptor.index===a);if(!c)return gT({insideDestination:n,inHomeList:u,displacedBy:o,destination:r});const d=Ap(t,n),f=n.indexOf(c),h=d.slice(f);return{displaced:Wu({afterDragging:h,destination:r,displacedBy:o,last:s,viewport:i.frame,forceShouldAnimate:l}),displacedBy:o,at:{type:"REORDER",destination:{droppableId:r.descriptor.id,index:a}}}}function fo(e,t){return!!t.effected[e]}var HW=e=>{let{isMovingForward:t,destination:n,draggables:r,combine:i,afterCritical:o}=e;if(!n.isCombineEnabled)return null;const s=i.draggableId,l=r[s].descriptor.index;return fo(s,o)?t?l:l-1:t?l+1:l},qW=e=>{let{isMovingForward:t,isInHomeList:n,insideDestination:r,location:i}=e;if(!r.length)return null;const o=i.index,s=t?o+1:o-1,a=r[0].descriptor.index,l=r[r.length-1].descriptor.index,u=n?l:l+1;return s<a||s>u?null:s},GW=e=>{let{isMovingForward:t,isInHomeList:n,draggable:r,draggables:i,destination:o,insideDestination:s,previousImpact:a,viewport:l,afterCritical:u}=e;const c=a.at;if(c||B(!1),c.type==="REORDER"){const f=qW({isMovingForward:t,isInHomeList:n,location:c.destination,insideDestination:s});return f==null?null:Qf({draggable:r,insideDestination:s,destination:o,viewport:l,last:a.displaced,displacedBy:a.displacedBy,index:f})}const d=HW({isMovingForward:t,destination:o,displaced:a.displaced,draggables:i,combine:c.combine,afterCritical:u});return d==null?null:Qf({draggable:r,insideDestination:s,destination:o,viewport:l,last:a.displaced,displacedBy:a.displacedBy,index:d})},KW=e=>{let{displaced:t,afterCritical:n,combineWith:r,displacedBy:i}=e;const o=!!(t.visible[r]||t.invisible[r]);return fo(r,n)?o?Rt:Wa(i.point):o?i.point:Rt},QW=e=>{let{afterCritical:t,impact:n,draggables:r}=e;const i=Rp(n);i||B(!1);const o=i.draggableId,s=r[o].page.borderBox.center,a=KW({displaced:n.displaced,afterCritical:t,combineWith:o,displacedBy:n.displacedBy});return Ot(s,a)};const pk=(e,t)=>t.margin[e.start]+t.borderBox[e.size]/2,YW=(e,t)=>t.margin[e.end]+t.borderBox[e.size]/2,t0=(e,t,n)=>t[e.crossAxisStart]+n.margin[e.crossAxisStart]+n.borderBox[e.crossAxisSize]/2,yT=e=>{let{axis:t,moveRelativeTo:n,isMoving:r}=e;return us(t.line,n.marginBox[t.end]+pk(t,r),t0(t,n.marginBox,r))},vT=e=>{let{axis:t,moveRelativeTo:n,isMoving:r}=e;return us(t.line,n.marginBox[t.start]-YW(t,r),t0(t,n.marginBox,r))},XW=e=>{let{axis:t,moveInto:n,isMoving:r}=e;return us(t.line,n.contentBox[t.start]+pk(t,r),t0(t,n.contentBox,r))};var JW=e=>{let{impact:t,draggable:n,draggables:r,droppable:i,afterCritical:o}=e;const s=Ha(i.descriptor.id,r),a=n.page,l=i.axis;if(!s.length)return XW({axis:l,moveInto:i.page,isMoving:a});const{displaced:u,displacedBy:c}=t,d=u.all[0];if(d){const h=r[d];if(fo(d,o))return vT({axis:l,moveRelativeTo:h.page,isMoving:a});const p=Hf(h.page,c.point);return vT({axis:l,moveRelativeTo:p,isMoving:a})}const f=s[s.length-1];if(f.descriptor.id===n.descriptor.id)return a.borderBox.center;if(fo(f.descriptor.id,o)){const h=Hf(f.page,Wa(o.displacedBy.point));return yT({axis:l,moveRelativeTo:h,isMoving:a})}return yT({axis:l,moveRelativeTo:f.page,isMoving:a})},Jy=(e,t)=>{const n=e.frame;return n?Ot(t,n.scroll.diff.displacement):t};const ZW=e=>{let{impact:t,draggable:n,droppable:r,draggables:i,afterCritical:o}=e;const s=n.page.borderBox.center,a=t.at;return!r||!a?s:a.type==="REORDER"?JW({impact:t,draggable:n,draggables:i,droppable:r,afterCritical:o}):QW({impact:t,draggables:i,afterCritical:o})};var Cp=e=>{const t=ZW(e),n=e.droppable;return n?Jy(n,t):t},mk=(e,t)=>{const n=bn(t,e.scroll.initial),r=Wa(n);return{frame:cr({top:t.y,bottom:t.y+e.frame.height,left:t.x,right:t.x+e.frame.width}),scroll:{initial:e.scroll.initial,max:e.scroll.max,current:t,diff:{value:n,displacement:r}}}};function _T(e,t){return e.map(n=>t[n])}function eH(e,t){for(let n=0;n<t.length;n++){const r=t[n].visible[e];if(r)return r}return null}var tH=e=>{let{impact:t,viewport:n,destination:r,draggables:i,maxScrollChange:o}=e;const s=mk(n,Ot(n.scroll.current,o)),a=r.frame?Xw(r,Ot(r.frame.scroll.current,o)):r,l=t.displaced,u=Wu({afterDragging:_T(l.all,i),destination:r,displacedBy:t.displacedBy,viewport:s.frame,last:l,forceShouldAnimate:!1}),c=Wu({afterDragging:_T(l.all,i),destination:a,displacedBy:t.displacedBy,viewport:n.frame,last:l,forceShouldAnimate:!1}),d={},f={},h=[l,u,c];return l.all.forEach(y=>{const _=eH(y,h);if(_){f[y]=_;return}d[y]=!0}),{...t,displaced:{all:l.all,invisible:d,visible:f}}},nH=(e,t)=>Ot(e.scroll.diff.displacement,t),n0=e=>{let{pageBorderBoxCenter:t,draggable:n,viewport:r}=e;const i=nH(r,t),o=bn(i,n.page.borderBox.center);return Ot(n.client.borderBox.center,o)},gk=e=>{let{draggable:t,destination:n,newPageBorderBoxCenter:r,viewport:i,withDroppableDisplacement:o,onlyOnMainAxis:s=!1}=e;const a=bn(r,t.page.borderBox.center),u={target:Sc(t.page.borderBox,a),destination:n,withDroppableDisplacement:o,viewport:i};return s?BW(u):hk(u)},rH=e=>{let{isMovingForward:t,draggable:n,destination:r,draggables:i,previousImpact:o,viewport:s,previousPageBorderBoxCenter:a,previousClientSelection:l,afterCritical:u}=e;if(!r.isEnabled)return null;const c=Ha(r.descriptor.id,i),d=qa(n,r),f=DW({isMovingForward:t,draggable:n,destination:r,insideDestination:c,previousImpact:o})||GW({isMovingForward:t,isInHomeList:d,draggable:n,draggables:i,destination:r,insideDestination:c,previousImpact:o,viewport:s,afterCritical:u});if(!f)return null;const h=Cp({impact:f,draggable:n,droppable:r,draggables:i,afterCritical:u});if(gk({draggable:n,destination:r,newPageBorderBoxCenter:h,viewport:s.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:n0({pageBorderBoxCenter:h,draggable:n,viewport:s}),impact:f,scrollJumpRequest:null};const y=bn(h,a),_=tH({impact:f,viewport:s,destination:r,draggables:i,maxScrollChange:y});return{clientSelection:l,impact:_,scrollJumpRequest:y}};const tn=e=>{const t=e.subject.active;return t||B(!1),t};var iH=e=>{let{isMovingForward:t,pageBorderBoxCenter:n,source:r,droppables:i,viewport:o}=e;const s=r.subject.active;if(!s)return null;const a=r.axis,l=Qn(s[a.start],s[a.end]),u=bp(i).filter(d=>d!==r).filter(d=>d.isEnabled).filter(d=>!!d.subject.active).filter(d=>dk(o.frame)(tn(d))).filter(d=>{const f=tn(d);return t?s[a.crossAxisEnd]<f[a.crossAxisEnd]:f[a.crossAxisStart]<s[a.crossAxisStart]}).filter(d=>{const f=tn(d),h=Qn(f[a.start],f[a.end]);return l(f[a.start])||l(f[a.end])||h(s[a.start])||h(s[a.end])}).sort((d,f)=>{const h=tn(d)[a.crossAxisStart],p=tn(f)[a.crossAxisStart];return t?h-p:p-h}).filter((d,f,h)=>tn(d)[a.crossAxisStart]===tn(h[0])[a.crossAxisStart]);if(!u.length)return null;if(u.length===1)return u[0];const c=u.filter(d=>Qn(tn(d)[a.start],tn(d)[a.end])(n[a.line]));return c.length===1?c[0]:c.length>1?c.sort((d,f)=>tn(d)[a.start]-tn(f)[a.start])[0]:u.sort((d,f)=>{const h=pT(n,mT(tn(d))),p=pT(n,mT(tn(f)));return h!==p?h-p:tn(d)[a.start]-tn(f)[a.start]})[0]};const wT=(e,t)=>{const n=e.page.borderBox.center;return fo(e.descriptor.id,t)?bn(n,t.displacedBy.point):n},oH=(e,t)=>{const n=e.page.borderBox;return fo(e.descriptor.id,t)?Sc(n,Wa(t.displacedBy.point)):n};var sH=e=>{let{pageBorderBoxCenter:t,viewport:n,destination:r,insideDestination:i,afterCritical:o}=e;return i.filter(a=>hk({target:oH(a,o),destination:r,viewport:n.frame,withDroppableDisplacement:!0})).sort((a,l)=>{const u=ju(t,Jy(r,wT(a,o))),c=ju(t,Jy(r,wT(l,o)));return u<c?-1:c<u?1:a.descriptor.index-l.descriptor.index})[0]||null},bc=St(function(t,n){const r=n[t.line];return{value:r,point:us(t.line,r)}});const aH=(e,t,n)=>{const r=e.axis;if(e.descriptor.mode==="virtual")return us(r.line,t[r.line]);const i=e.subject.page.contentBox[r.size],l=Ha(e.descriptor.id,n).reduce((u,c)=>u+c.client.marginBox[r.size],0)+t[r.line]-i;return l<=0?null:us(r.line,l)},yk=(e,t)=>({...e,scroll:{...e.scroll,max:t}}),vk=(e,t,n)=>{const r=e.frame;qa(t,e)&&B(!1),e.subject.withPlaceholder&&B(!1);const i=bc(e.axis,t.displaceBy).point,o=aH(e,i,n),s={placeholderSize:i,increasedBy:o,oldFrameMaxScroll:e.frame?e.frame.scroll.max:null};if(!r){const c=Ca({page:e.subject.page,withPlaceholder:s,axis:e.axis,frame:e.frame});return{...e,subject:c}}const a=o?Ot(r.scroll.max,o):r.scroll.max,l=yk(r,a),u=Ca({page:e.subject.page,withPlaceholder:s,axis:e.axis,frame:l});return{...e,subject:u,frame:l}},lH=e=>{const t=e.subject.withPlaceholder;t||B(!1);const n=e.frame;if(!n){const s=Ca({page:e.subject.page,axis:e.axis,frame:null,withPlaceholder:null});return{...e,subject:s}}const r=t.oldFrameMaxScroll;r||B(!1);const i=yk(n,r),o=Ca({page:e.subject.page,axis:e.axis,frame:i,withPlaceholder:null});return{...e,subject:o,frame:i}};var uH=e=>{let{previousPageBorderBoxCenter:t,moveRelativeTo:n,insideDestination:r,draggable:i,draggables:o,destination:s,viewport:a,afterCritical:l}=e;if(!n){if(r.length)return null;const f={displaced:zu,displacedBy:ck,at:{type:"REORDER",destination:{droppableId:s.descriptor.id,index:0}}},h=Cp({impact:f,draggable:i,droppable:s,draggables:o,afterCritical:l}),p=qa(i,s)?s:vk(s,i,o);return gk({draggable:i,destination:p,newPageBorderBoxCenter:h,viewport:a.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?f:null}const u=t[s.axis.line]<=n.page.borderBox.center[s.axis.line],c=(()=>{const f=n.descriptor.index;return n.descriptor.id===i.descriptor.id||u?f:f+1})(),d=bc(s.axis,i.displaceBy);return Qf({draggable:i,insideDestination:r,destination:s,viewport:a,displacedBy:d,last:zu,index:c})},cH=e=>{let{isMovingForward:t,previousPageBorderBoxCenter:n,draggable:r,isOver:i,draggables:o,droppables:s,viewport:a,afterCritical:l}=e;const u=iH({isMovingForward:t,pageBorderBoxCenter:n,source:i,droppables:s,viewport:a});if(!u)return null;const c=Ha(u.descriptor.id,o),d=sH({pageBorderBoxCenter:n,viewport:a,destination:u,insideDestination:c,afterCritical:l}),f=uH({previousPageBorderBoxCenter:n,destination:u,draggable:r,draggables:o,moveRelativeTo:d,insideDestination:c,viewport:a,afterCritical:l});if(!f)return null;const h=Cp({impact:f,draggable:r,droppable:u,draggables:o,afterCritical:l});return{clientSelection:n0({pageBorderBoxCenter:h,draggable:r,viewport:a}),impact:f,scrollJumpRequest:null}},An=e=>{const t=e.at;return t?t.type==="REORDER"?t.destination.droppableId:t.combine.droppableId:null};const dH=(e,t)=>{const n=An(e);return n?t[n]:null};var fH=e=>{let{state:t,type:n}=e;const r=dH(t.impact,t.dimensions.droppables),i=!!r,o=t.dimensions.droppables[t.critical.droppable.id],s=r||o,a=s.axis.direction,l=a==="vertical"&&(n==="MOVE_UP"||n==="MOVE_DOWN")||a==="horizontal"&&(n==="MOVE_LEFT"||n==="MOVE_RIGHT");if(l&&!i)return null;const u=n==="MOVE_DOWN"||n==="MOVE_RIGHT",c=t.dimensions.draggables[t.critical.draggable.id],d=t.current.page.borderBoxCenter,{draggables:f,droppables:h}=t.dimensions;return l?rH({isMovingForward:u,previousPageBorderBoxCenter:d,draggable:c,destination:s,draggables:f,viewport:t.viewport,previousClientSelection:t.current.client.selection,previousImpact:t.impact,afterCritical:t.afterCritical}):cH({isMovingForward:u,previousPageBorderBoxCenter:d,draggable:c,isOver:s,draggables:f,droppables:h,viewport:t.viewport,afterCritical:t.afterCritical})};function ko(e){return e.phase==="DRAGGING"||e.phase==="COLLECTING"}function _k(e){const t=Qn(e.top,e.bottom),n=Qn(e.left,e.right);return function(i){return t(i.y)&&n(i.x)}}function hH(e,t){return e.left<t.right&&e.right>t.left&&e.top<t.bottom&&e.bottom>t.top}function pH(e){let{pageBorderBox:t,draggable:n,candidates:r}=e;const i=n.page.borderBox.center,o=r.map(s=>{const a=s.axis,l=us(s.axis.line,t.center[a.line],s.page.borderBox.center[a.crossAxisLine]);return{id:s.descriptor.id,distance:ju(i,l)}}).sort((s,a)=>a.distance-s.distance);return o[0]?o[0].id:null}function mH(e){let{pageBorderBox:t,draggable:n,droppables:r}=e;const i=bp(r).filter(o=>{if(!o.isEnabled)return!1;const s=o.subject.active;if(!s||!hH(t,s))return!1;if(_k(s)(t.center))return!0;const a=o.axis,l=s.center[a.crossAxisLine],u=t[a.crossAxisStart],c=t[a.crossAxisEnd],d=Qn(s[a.crossAxisStart],s[a.crossAxisEnd]),f=d(u),h=d(c);return!f&&!h?!0:f?u<l:c>l});return i.length?i.length===1?i[0].descriptor.id:pH({pageBorderBox:t,draggable:n,candidates:i}):null}const wk=(e,t)=>cr(Sc(e,t));var gH=(e,t)=>{const n=e.frame;return n?wk(t,n.scroll.diff.value):t};function Ek(e){let{displaced:t,id:n}=e;return!!(t.visible[n]||t.invisible[n])}function yH(e){let{draggable:t,closest:n,inHomeList:r}=e;return n?r&&n.descriptor.index>t.descriptor.index?n.descriptor.index-1:n.descriptor.index:null}var vH=e=>{let{pageBorderBoxWithDroppableScroll:t,draggable:n,destination:r,insideDestination:i,last:o,viewport:s,afterCritical:a}=e;const l=r.axis,u=bc(r.axis,n.displaceBy),c=u.value,d=t[l.start],f=t[l.end],p=Ap(n,i).find(_=>{const g=_.descriptor.id,m=_.page.borderBox.center[l.line],w=fo(g,a),v=Ek({displaced:o,id:g});return w?v?f<=m:d<m-c:v?f<=m+c:d<m})||null,y=yH({draggable:n,closest:p,inHomeList:qa(n,r)});return Qf({draggable:n,insideDestination:i,destination:r,viewport:s,last:o,displacedBy:u,index:y})};const _H=4;var wH=e=>{let{draggable:t,pageBorderBoxWithDroppableScroll:n,previousImpact:r,destination:i,insideDestination:o,afterCritical:s}=e;if(!i.isCombineEnabled)return null;const a=i.axis,l=bc(i.axis,t.displaceBy),u=l.value,c=n[a.start],d=n[a.end],h=Ap(t,o).find(y=>{const _=y.descriptor.id,g=y.page.borderBox,w=g[a.size]/_H,v=fo(_,s),I=Ek({displaced:r.displaced,id:_});return v?I?d>g[a.start]+w&&d<g[a.end]-w:c>g[a.start]-u+w&&c<g[a.end]-u-w:I?d>g[a.start]+u+w&&d<g[a.end]+u-w:c>g[a.start]+w&&c<g[a.end]-w});return h?{displacedBy:l,displaced:r.displaced,at:{type:"COMBINE",combine:{draggableId:h.descriptor.id,droppableId:i.descriptor.id}}}:null},Ik=e=>{let{pageOffset:t,draggable:n,draggables:r,droppables:i,previousImpact:o,viewport:s,afterCritical:a}=e;const l=wk(n.page.borderBox,t),u=mH({pageBorderBox:l,draggable:n,droppables:i});if(!u)return OW;const c=i[u],d=Ha(c.descriptor.id,r),f=gH(c,l);return wH({pageBorderBoxWithDroppableScroll:f,draggable:n,previousImpact:o,destination:c,insideDestination:d,afterCritical:a})||vH({pageBorderBoxWithDroppableScroll:f,draggable:n,destination:c,insideDestination:d,last:o.displaced,viewport:s,afterCritical:a})},r0=(e,t)=>({...e,[t.descriptor.id]:t});const EH=e=>{let{previousImpact:t,impact:n,droppables:r}=e;const i=An(t),o=An(n);if(!i||i===o)return r;const s=r[i];if(!s.subject.withPlaceholder)return r;const a=lH(s);return r0(r,a)};var IH=e=>{let{draggable:t,draggables:n,droppables:r,previousImpact:i,impact:o}=e;const s=EH({previousImpact:i,impact:o,droppables:r}),a=An(o);if(!a)return s;const l=r[a];if(qa(t,l)||l.subject.withPlaceholder)return s;const u=vk(l,t,n);return r0(s,u)},Zl=e=>{let{state:t,clientSelection:n,dimensions:r,viewport:i,impact:o,scrollJumpRequest:s}=e;const a=i||t.viewport,l=r||t.dimensions,u=n||t.current.client.selection,c=bn(u,t.initial.client.selection),d={offset:c,selection:u,borderBoxCenter:Ot(t.initial.client.borderBoxCenter,c)},f={selection:Ot(d.selection,a.scroll.current),borderBoxCenter:Ot(d.borderBoxCenter,a.scroll.current),offset:Ot(d.offset,a.scroll.diff.value)},h={client:d,page:f};if(t.phase==="COLLECTING")return{...t,dimensions:l,viewport:a,current:h};const p=l.draggables[t.critical.draggable.id],y=o||Ik({pageOffset:f.offset,draggable:p,draggables:l.draggables,droppables:l.droppables,previousImpact:t.impact,viewport:a,afterCritical:t.afterCritical}),_=IH({draggable:p,impact:y,previousImpact:t.impact,draggables:l.draggables,droppables:l.droppables});return{...t,current:h,dimensions:{draggables:l.draggables,droppables:_},impact:y,viewport:a,scrollJumpRequest:s||null,forceShouldAnimate:s?!1:null}};function TH(e,t){return e.map(n=>t[n])}var Tk=e=>{let{impact:t,viewport:n,draggables:r,destination:i,forceShouldAnimate:o}=e;const s=t.displaced,a=TH(s.all,r),l=Wu({afterDragging:a,destination:i,displacedBy:t.displacedBy,viewport:n.frame,forceShouldAnimate:o,last:s});return{...t,displaced:l}},Sk=e=>{let{impact:t,draggable:n,droppable:r,draggables:i,viewport:o,afterCritical:s}=e;const a=Cp({impact:t,draggable:n,draggables:i,droppable:r,afterCritical:s});return n0({pageBorderBoxCenter:a,draggable:n,viewport:o})},bk=e=>{let{state:t,dimensions:n,viewport:r}=e;t.movementMode!=="SNAP"&&B(!1);const i=t.impact,o=r||t.viewport,s=n||t.dimensions,{draggables:a,droppables:l}=s,u=a[t.critical.draggable.id],c=An(i);c||B(!1);const d=l[c],f=Tk({impact:i,viewport:o,destination:d,draggables:a}),h=Sk({impact:f,draggable:u,droppable:d,draggables:a,viewport:o,afterCritical:t.afterCritical});return Zl({impact:f,clientSelection:h,state:t,dimensions:s,viewport:o})},SH=e=>({index:e.index,droppableId:e.droppableId}),Rk=e=>{let{draggable:t,home:n,draggables:r,viewport:i}=e;const o=bc(n.axis,t.displaceBy),s=Ha(n.descriptor.id,r),a=s.indexOf(t);a===-1&&B(!1);const l=s.slice(a+1),u=l.reduce((h,p)=>(h[p.descriptor.id]=!0,h),{}),c={inVirtualList:n.descriptor.mode==="virtual",displacedBy:o,effected:u};return{impact:{displaced:Wu({afterDragging:l,destination:n,displacedBy:o,last:null,viewport:i.frame,forceShouldAnimate:!1}),displacedBy:o,at:{type:"REORDER",destination:SH(t.descriptor)}},afterCritical:c}},bH=(e,t)=>({draggables:e.draggables,droppables:r0(e.droppables,t)}),RH=e=>{let{draggable:t,offset:n,initialWindowScroll:r}=e;const i=Hf(t.client,n),o=qf(i,r);return{...t,placeholder:{...t.placeholder,client:i},client:i,page:o}},AH=e=>{const t=e.frame;return t||B(!1),t},CH=e=>{let{additions:t,updatedDroppables:n,viewport:r}=e;const i=r.scroll.diff.value;return t.map(o=>{const s=o.descriptor.droppableId,a=n[s],u=AH(a).scroll.diff.value,c=Ot(i,u);return RH({draggable:o,offset:c,initialWindowScroll:r.scroll.initial})})},PH=e=>{let{state:t,published:n}=e;const r=n.modified.map(m=>{const w=t.dimensions.droppables[m.droppableId];return Xw(w,m.scroll)}),i={...t.dimensions.droppables,...lk(r)},o=uk(CH({additions:n.additions,updatedDroppables:i,viewport:t.viewport})),s={...t.dimensions.draggables,...o};n.removals.forEach(m=>{delete s[m]});const a={droppables:i,draggables:s},l=An(t.impact),u=l?a.droppables[l]:null,c=a.draggables[t.critical.draggable.id],d=a.droppables[t.critical.droppable.id],{impact:f,afterCritical:h}=Rk({draggable:c,home:d,draggables:s,viewport:t.viewport}),p=u&&u.isCombineEnabled?t.impact:f,y=Ik({pageOffset:t.current.page.offset,draggable:a.draggables[t.critical.draggable.id],draggables:a.draggables,droppables:a.droppables,previousImpact:p,viewport:t.viewport,afterCritical:h}),_={...t,phase:"DRAGGING",impact:y,onLiftImpact:f,dimensions:a,afterCritical:h,forceShouldAnimate:!1};return t.phase==="COLLECTING"?_:{..._,phase:"DROP_PENDING",reason:t.reason,isWaiting:!1}};const Zy=e=>e.movementMode==="SNAP",ag=(e,t,n)=>{const r=bH(e.dimensions,t);return!Zy(e)||n?Zl({state:e,dimensions:r}):bk({state:e,dimensions:r})};function lg(e){return e.isDragging&&e.movementMode==="SNAP"?{...e,scrollJumpRequest:null}:e}const ET={phase:"IDLE",completed:null,shouldFlush:!1};var xH=function(e,t){if(e===void 0&&(e=ET),t.type==="FLUSH")return{...ET,shouldFlush:!0};if(t.type==="INITIAL_PUBLISH"){e.phase!=="IDLE"&&B(!1);const{critical:n,clientSelection:r,viewport:i,dimensions:o,movementMode:s}=t.payload,a=o.draggables[n.draggable.id],l=o.droppables[n.droppable.id],u={selection:r,borderBoxCenter:a.client.borderBox.center,offset:Rt},c={client:u,page:{selection:Ot(u.selection,i.scroll.initial),borderBoxCenter:Ot(u.selection,i.scroll.initial),offset:Ot(u.selection,i.scroll.diff.value)}},d=bp(o.droppables).every(y=>!y.isFixedOnPage),{impact:f,afterCritical:h}=Rk({draggable:a,home:l,draggables:o.draggables,viewport:i});return{phase:"DRAGGING",isDragging:!0,critical:n,movementMode:s,dimensions:o,initial:c,current:c,isWindowScrollAllowed:d,impact:f,afterCritical:h,onLiftImpact:f,viewport:i,scrollJumpRequest:null,forceShouldAnimate:null}}if(t.type==="COLLECTION_STARTING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"?e:(e.phase!=="DRAGGING"&&B(!1),{...e,phase:"COLLECTING"});if(t.type==="PUBLISH_WHILE_DRAGGING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"||B(!1),PH({state:e,published:t.payload});if(t.type==="MOVE"){if(e.phase==="DROP_PENDING")return e;ko(e)||B(!1);const{client:n}=t.payload;return no(n,e.current.client.selection)?e:Zl({state:e,clientSelection:n,impact:Zy(e)?e.impact:null})}if(t.type==="UPDATE_DROPPABLE_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="COLLECTING")return lg(e);ko(e)||B(!1);const{id:n,newScroll:r}=t.payload,i=e.dimensions.droppables[n];if(!i)return e;const o=Xw(i,r);return ag(e,o,!1)}if(t.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(e.phase==="DROP_PENDING")return e;ko(e)||B(!1);const{id:n,isEnabled:r}=t.payload,i=e.dimensions.droppables[n];i||B(!1),i.isEnabled===r&&B(!1);const o={...i,isEnabled:r};return ag(e,o,!0)}if(t.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(e.phase==="DROP_PENDING")return e;ko(e)||B(!1);const{id:n,isCombineEnabled:r}=t.payload,i=e.dimensions.droppables[n];i||B(!1),i.isCombineEnabled===r&&B(!1);const o={...i,isCombineEnabled:r};return ag(e,o,!0)}if(t.type==="MOVE_BY_WINDOW_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="DROP_ANIMATING")return e;ko(e)||B(!1),e.isWindowScrollAllowed||B(!1);const n=t.payload.newScroll;if(no(e.viewport.scroll.current,n))return lg(e);const r=mk(e.viewport,n);return Zy(e)?bk({state:e,viewport:r}):Zl({state:e,viewport:r})}if(t.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!ko(e))return e;const n=t.payload.maxScroll;if(no(n,e.viewport.scroll.max))return e;const r={...e.viewport,scroll:{...e.viewport.scroll,max:n}};return{...e,viewport:r}}if(t.type==="MOVE_UP"||t.type==="MOVE_DOWN"||t.type==="MOVE_LEFT"||t.type==="MOVE_RIGHT"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&B(!1);const n=fH({state:e,type:t.type});return n?Zl({state:e,impact:n.impact,clientSelection:n.clientSelection,scrollJumpRequest:n.scrollJumpRequest}):e}if(t.type==="DROP_PENDING"){const n=t.payload.reason;return e.phase!=="COLLECTING"&&B(!1),{...e,phase:"DROP_PENDING",isWaiting:!0,reason:n}}if(t.type==="DROP_ANIMATE"){const{completed:n,dropDuration:r,newHomeClientOffset:i}=t.payload;return e.phase==="DRAGGING"||e.phase==="DROP_PENDING"||B(!1),{phase:"DROP_ANIMATING",completed:n,dropDuration:r,newHomeClientOffset:i,dimensions:e.dimensions}}if(t.type==="DROP_COMPLETE"){const{completed:n}=t.payload;return{phase:"IDLE",completed:n,shouldFlush:!1}}return e};const kH=e=>({type:"BEFORE_INITIAL_CAPTURE",payload:e}),DH=e=>({type:"LIFT",payload:e}),NH=e=>({type:"INITIAL_PUBLISH",payload:e}),OH=e=>({type:"PUBLISH_WHILE_DRAGGING",payload:e}),LH=()=>({type:"COLLECTION_STARTING",payload:null}),MH=e=>({type:"UPDATE_DROPPABLE_SCROLL",payload:e}),VH=e=>({type:"UPDATE_DROPPABLE_IS_ENABLED",payload:e}),FH=e=>({type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:e}),Ak=e=>({type:"MOVE",payload:e}),$H=e=>({type:"MOVE_BY_WINDOW_SCROLL",payload:e}),UH=e=>({type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:e}),BH=()=>({type:"MOVE_UP",payload:null}),jH=()=>({type:"MOVE_DOWN",payload:null}),zH=()=>({type:"MOVE_RIGHT",payload:null}),WH=()=>({type:"MOVE_LEFT",payload:null}),i0=()=>({type:"FLUSH",payload:null}),HH=e=>({type:"DROP_ANIMATE",payload:e}),o0=e=>({type:"DROP_COMPLETE",payload:e}),Ck=e=>({type:"DROP",payload:e}),qH=e=>({type:"DROP_PENDING",payload:e}),Pk=()=>({type:"DROP_ANIMATION_FINISHED",payload:null});var GH=e=>t=>{let{getState:n,dispatch:r}=t;return i=>o=>{if(o.type!=="LIFT"){i(o);return}const{id:s,clientSelection:a,movementMode:l}=o.payload,u=n();u.phase==="DROP_ANIMATING"&&r(o0({completed:u.completed})),n().phase!=="IDLE"&&B(!1),r(i0()),r(kH({draggableId:s,movementMode:l}));const d={draggableId:s,scrollOptions:{shouldPublishImmediately:l==="SNAP"}},{critical:f,dimensions:h,viewport:p}=e.startPublishing(d);r(NH({critical:f,dimensions:h,clientSelection:a,movementMode:l,viewport:p}))}},KH=e=>()=>t=>n=>{n.type==="INITIAL_PUBLISH"&&e.dragging(),n.type==="DROP_ANIMATE"&&e.dropping(n.payload.completed.result.reason),(n.type==="FLUSH"||n.type==="DROP_COMPLETE")&&e.resting(),t(n)};const s0={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},Hu={opacity:{drop:0,combining:.7},scale:{drop:.75}},xk={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},bo=`${xk.outOfTheWay}s ${s0.outOfTheWay}`,eu={fluid:`opacity ${bo}`,snap:`transform ${bo}, opacity ${bo}`,drop:e=>{const t=`${e}s ${s0.drop}`;return`transform ${t}, opacity ${t}`},outOfTheWay:`transform ${bo}`,placeholder:`height ${bo}, width ${bo}, margin ${bo}`},IT=e=>no(e,Rt)?void 0:`translate(${e.x}px, ${e.y}px)`,ev={moveTo:IT,drop:(e,t)=>{const n=IT(e);if(n)return t?`${n} scale(${Hu.scale.drop})`:n}},{minDropTime:tv,maxDropTime:kk}=xk,QH=kk-tv,TT=1500,YH=.6;var XH=e=>{let{current:t,destination:n,reason:r}=e;const i=ju(t,n);if(i<=0)return tv;if(i>=TT)return kk;const o=i/TT,s=tv+QH*o,a=r==="CANCEL"?s*YH:s;return Number(a.toFixed(2))},JH=e=>{let{impact:t,draggable:n,dimensions:r,viewport:i,afterCritical:o}=e;const{draggables:s,droppables:a}=r,l=An(t),u=l?a[l]:null,c=a[n.descriptor.droppableId],d=Sk({impact:t,draggable:n,draggables:s,afterCritical:o,droppable:u||c,viewport:i});return bn(d,n.client.borderBox.center)},ZH=e=>{let{draggables:t,reason:n,lastImpact:r,home:i,viewport:o,onLiftImpact:s}=e;return!r.at||n!=="DROP"?{impact:Tk({draggables:t,impact:s,destination:i,viewport:o,forceShouldAnimate:!0}),didDropInsideDroppable:!1}:r.at.type==="REORDER"?{impact:r,didDropInsideDroppable:!0}:{impact:{...r,displaced:zu},didDropInsideDroppable:!0}};const eq=e=>{let{getState:t,dispatch:n}=e;return r=>i=>{if(i.type!=="DROP"){r(i);return}const o=t(),s=i.payload.reason;if(o.phase==="COLLECTING"){n(qH({reason:s}));return}if(o.phase==="IDLE")return;o.phase==="DROP_PENDING"&&o.isWaiting&&B(!1),o.phase==="DRAGGING"||o.phase==="DROP_PENDING"||B(!1);const l=o.critical,u=o.dimensions,c=u.draggables[o.critical.draggable.id],{impact:d,didDropInsideDroppable:f}=ZH({reason:s,lastImpact:o.impact,afterCritical:o.afterCritical,onLiftImpact:o.onLiftImpact,home:o.dimensions.droppables[o.critical.droppable.id],viewport:o.viewport,draggables:o.dimensions.draggables}),h=f?Jw(d):null,p=f?Rp(d):null,y={index:l.draggable.index,droppableId:l.droppable.id},_={draggableId:c.descriptor.id,type:c.descriptor.type,source:y,reason:s,mode:o.movementMode,destination:h,combine:p},g=JH({impact:d,draggable:c,dimensions:u,viewport:o.viewport,afterCritical:o.afterCritical}),m={critical:o.critical,afterCritical:o.afterCritical,result:_,impact:d};if(!(!no(o.current.client.offset,g)||!!_.combine)){n(o0({completed:m}));return}const v=XH({current:o.current.client.offset,destination:g,reason:s});n(HH({newHomeClientOffset:g,dropDuration:v,completed:m}))}};var tq=eq,Dk=()=>({x:window.pageXOffset,y:window.pageYOffset});function nq(e){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:t=>{t.target!==window&&t.target!==window.document||e()}}}function rq(e){let{onWindowScroll:t}=e;function n(){t(Dk())}const r=Bu(n),i=nq(r);let o=to;function s(){return o!==to}function a(){s()&&B(!1),o=qn(window,[i])}function l(){s()||B(!1),r.cancel(),o(),o=to}return{start:a,stop:l,isActive:s}}const iq=e=>e.type==="DROP_COMPLETE"||e.type==="DROP_ANIMATE"||e.type==="FLUSH",oq=e=>{const t=rq({onWindowScroll:n=>{e.dispatch($H({newScroll:n}))}});return n=>r=>{!t.isActive()&&r.type==="INITIAL_PUBLISH"&&t.start(),t.isActive()&&iq(r)&&t.stop(),n(r)}};var sq=oq,aq=e=>{let t=!1,n=!1;const r=setTimeout(()=>{n=!0}),i=o=>{t||n||(t=!0,e(o),clearTimeout(r))};return i.wasCalled=()=>t,i},lq=()=>{const e=[],t=i=>{const o=e.findIndex(a=>a.timerId===i);o===-1&&B(!1);const[s]=e.splice(o,1);s.callback()};return{add:i=>{const o=setTimeout(()=>t(o)),s={timerId:o,callback:i};e.push(s)},flush:()=>{if(!e.length)return;const i=[...e];e.length=0,i.forEach(o=>{clearTimeout(o.timerId),o.callback()})}}};const uq=(e,t)=>e==null&&t==null?!0:e==null||t==null?!1:e.droppableId===t.droppableId&&e.index===t.index,cq=(e,t)=>e==null&&t==null?!0:e==null||t==null?!1:e.draggableId===t.draggableId&&e.droppableId===t.droppableId,dq=(e,t)=>{if(e===t)return!0;const n=e.draggable.id===t.draggable.id&&e.draggable.droppableId===t.draggable.droppableId&&e.draggable.type===t.draggable.type&&e.draggable.index===t.draggable.index,r=e.droppable.id===t.droppable.id&&e.droppable.type===t.droppable.type;return n&&r},yl=(e,t)=>{t()},ud=(e,t)=>({draggableId:e.draggable.id,type:e.droppable.type,source:{droppableId:e.droppable.id,index:e.draggable.index},mode:t});function ug(e,t,n,r){if(!e){n(r(t));return}const i=aq(n);e(t,{announce:i}),i.wasCalled()||n(r(t))}var fq=(e,t)=>{const n=lq();let r=null;const i=(d,f)=>{r&&B(!1),yl("onBeforeCapture",()=>{const h=e().onBeforeCapture;h&&h({draggableId:d,mode:f})})},o=(d,f)=>{r&&B(!1),yl("onBeforeDragStart",()=>{const h=e().onBeforeDragStart;h&&h(ud(d,f))})},s=(d,f)=>{r&&B(!1);const h=ud(d,f);r={mode:f,lastCritical:d,lastLocation:h.source,lastCombine:null},n.add(()=>{yl("onDragStart",()=>ug(e().onDragStart,h,t,Md.onDragStart))})},a=(d,f)=>{const h=Jw(f),p=Rp(f);r||B(!1);const y=!dq(d,r.lastCritical);y&&(r.lastCritical=d);const _=!uq(r.lastLocation,h);_&&(r.lastLocation=h);const g=!cq(r.lastCombine,p);if(g&&(r.lastCombine=p),!y&&!_&&!g)return;const m={...ud(d,r.mode),combine:p,destination:h};n.add(()=>{yl("onDragUpdate",()=>ug(e().onDragUpdate,m,t,Md.onDragUpdate))})},l=()=>{r||B(!1),n.flush()},u=d=>{r||B(!1),r=null,yl("onDragEnd",()=>ug(e().onDragEnd,d,t,Md.onDragEnd))};return{beforeCapture:i,beforeStart:o,start:s,update:a,flush:l,drop:u,abort:()=>{if(!r)return;const d={...ud(r.lastCritical,r.mode),combine:null,destination:null,reason:"CANCEL"};u(d)}}},hq=(e,t)=>{const n=fq(e,t);return r=>i=>o=>{if(o.type==="BEFORE_INITIAL_CAPTURE"){n.beforeCapture(o.payload.draggableId,o.payload.movementMode);return}if(o.type==="INITIAL_PUBLISH"){const a=o.payload.critical;n.beforeStart(a,o.payload.movementMode),i(o),n.start(a,o.payload.movementMode);return}if(o.type==="DROP_COMPLETE"){const a=o.payload.completed.result;n.flush(),i(o),n.drop(a);return}if(i(o),o.type==="FLUSH"){n.abort();return}const s=r.getState();s.phase==="DRAGGING"&&n.update(s.critical,s.impact)}};const pq=e=>t=>n=>{if(n.type!=="DROP_ANIMATION_FINISHED"){t(n);return}const r=e.getState();r.phase!=="DROP_ANIMATING"&&B(!1),e.dispatch(o0({completed:r.completed}))};var mq=pq;const gq=e=>{let t=null,n=null;function r(){n&&(cancelAnimationFrame(n),n=null),t&&(t(),t=null)}return i=>o=>{if((o.type==="FLUSH"||o.type==="DROP_COMPLETE"||o.type==="DROP_ANIMATION_FINISHED")&&r(),i(o),o.type!=="DROP_ANIMATE")return;const s={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){e.getState().phase==="DROP_ANIMATING"&&e.dispatch(Pk())}};n=requestAnimationFrame(()=>{n=null,t=qn(window,[s])})}};var yq=gq,vq=e=>()=>t=>n=>{(n.type==="DROP_COMPLETE"||n.type==="FLUSH"||n.type==="DROP_ANIMATE")&&e.stopPublishing(),t(n)},_q=e=>{let t=!1;return()=>n=>r=>{if(r.type==="INITIAL_PUBLISH"){t=!0,e.tryRecordFocus(r.payload.critical.draggable.id),n(r),e.tryRestoreFocusRecorded();return}if(n(r),!!t){if(r.type==="FLUSH"){t=!1,e.tryRestoreFocusRecorded();return}if(r.type==="DROP_COMPLETE"){t=!1;const i=r.payload.completed.result;i.combine&&e.tryShiftRecord(i.draggableId,i.combine.draggableId),e.tryRestoreFocusRecorded()}}}};const wq=e=>e.type==="DROP_COMPLETE"||e.type==="DROP_ANIMATE"||e.type==="FLUSH";var Eq=e=>t=>n=>r=>{if(wq(r)){e.stop(),n(r);return}if(r.type==="INITIAL_PUBLISH"){n(r);const i=t.getState();i.phase!=="DRAGGING"&&B(!1),e.start(i);return}n(r),e.scroll(t.getState())};const Iq=e=>t=>n=>{if(t(n),n.type!=="PUBLISH_WHILE_DRAGGING")return;const r=e.getState();r.phase==="DROP_PENDING"&&(r.isWaiting||e.dispatch(Ck({reason:r.reason})))};var Tq=Iq;const Sq=Fu;var bq=e=>{let{dimensionMarshal:t,focusMarshal:n,styleMarshal:r,getResponders:i,announce:o,autoScroller:s}=e;return Ow(xH,Sq(ax(KH(r),vq(t),GH(t),tq,mq,yq,Tq,Eq(s),sq,_q(n),hq(i,o))))};const cg=()=>({additions:{},removals:{},modified:{}});function Rq(e){let{registry:t,callbacks:n}=e,r=cg(),i=null;const o=()=>{i||(n.collectionStarting(),i=requestAnimationFrame(()=>{i=null;const{additions:u,removals:c,modified:d}=r,f=Object.keys(u).map(y=>t.draggable.getById(y).getDimension(Rt)).sort((y,_)=>y.descriptor.index-_.descriptor.index),h=Object.keys(d).map(y=>{const g=t.droppable.getById(y).callbacks.getScrollWhileDragging();return{droppableId:y,scroll:g}}),p={additions:f,removals:Object.keys(c),modified:h};r=cg(),n.publish(p)}))};return{add:u=>{const c=u.descriptor.id;r.additions[c]=u,r.modified[u.descriptor.droppableId]=!0,r.removals[c]&&delete r.removals[c],o()},remove:u=>{const c=u.descriptor;r.removals[c.id]=!0,r.modified[c.droppableId]=!0,r.additions[c.id]&&delete r.additions[c.id],o()},stop:()=>{i&&(cancelAnimationFrame(i),i=null,r=cg())}}}var Nk=e=>{let{scrollHeight:t,scrollWidth:n,height:r,width:i}=e;const o=bn({x:n,y:t},{x:i,y:r});return{x:Math.max(0,o.x),y:Math.max(0,o.y)}},Ok=()=>{const e=document.documentElement;return e||B(!1),e},Lk=()=>{const e=Ok();return Nk({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight})},Aq=()=>{const e=Dk(),t=Lk(),n=e.y,r=e.x,i=Ok(),o=i.clientWidth,s=i.clientHeight,a=r+o,l=n+s;return{frame:cr({top:n,left:r,right:a,bottom:l}),scroll:{initial:e,current:e,max:t,diff:{value:Rt,displacement:Rt}}}},Cq=e=>{let{critical:t,scrollOptions:n,registry:r}=e;const i=Aq(),o=i.scroll.current,s=t.droppable,a=r.droppable.getAllByType(s.type).map(d=>d.callbacks.getDimensionAndWatchScroll(o,n)),l=r.draggable.getAllByType(t.draggable.type).map(d=>d.getDimension(o));return{dimensions:{draggables:uk(l),droppables:lk(a)},critical:t,viewport:i}};function ST(e,t,n){return!(n.descriptor.id===t.id||n.descriptor.type!==t.type||e.droppable.getById(n.descriptor.droppableId).descriptor.mode!=="virtual")}var Pq=(e,t)=>{let n=null;const r=Rq({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:e}),i=(f,h)=>{e.droppable.exists(f)||B(!1),n&&t.updateDroppableIsEnabled({id:f,isEnabled:h})},o=(f,h)=>{n&&(e.droppable.exists(f)||B(!1),t.updateDroppableIsCombineEnabled({id:f,isCombineEnabled:h}))},s=(f,h)=>{n&&(e.droppable.exists(f)||B(!1),t.updateDroppableScroll({id:f,newScroll:h}))},a=(f,h)=>{n&&e.droppable.getById(f).callbacks.scroll(h)},l=()=>{if(!n)return;r.stop();const f=n.critical.droppable;e.droppable.getAllByType(f.type).forEach(h=>h.callbacks.dragStopped()),n.unsubscribe(),n=null},u=f=>{n||B(!1);const h=n.critical.draggable;f.type==="ADDITION"&&ST(e,h,f.value)&&r.add(f.value),f.type==="REMOVAL"&&ST(e,h,f.value)&&r.remove(f.value)};return{updateDroppableIsEnabled:i,updateDroppableIsCombineEnabled:o,scrollDroppable:a,updateDroppableScroll:s,startPublishing:f=>{n&&B(!1);const h=e.draggable.getById(f.draggableId),p=e.droppable.getById(h.descriptor.droppableId),y={draggable:h.descriptor,droppable:p.descriptor},_=e.subscribe(u);return n={critical:y,unsubscribe:_},Cq({critical:y,registry:e,scrollOptions:f.scrollOptions})},stopPublishing:l}},Mk=(e,t)=>e.phase==="IDLE"?!0:e.phase!=="DROP_ANIMATING"||e.completed.result.draggableId===t?!1:e.completed.result.reason==="DROP",xq=e=>{window.scrollBy(e.x,e.y)};const kq=St(e=>bp(e).filter(t=>!(!t.isEnabled||!t.frame))),Dq=(e,t)=>kq(t).find(r=>(r.frame||B(!1),_k(r.frame.pageMarginBox)(e)))||null;var Nq=e=>{let{center:t,destination:n,droppables:r}=e;if(n){const o=r[n];return o.frame?o:null}return Dq(t,r)};const qu={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:e=>e**2,durationDampening:{stopDampeningAt:1200,accelerateAt:360},disabled:!1};var Oq=function(e,t,n){n===void 0&&(n=()=>qu);const r=n(),i=e[t.size]*r.startFromPercentage,o=e[t.size]*r.maxScrollAtPercentage;return{startScrollingFrom:i,maxScrollValueAt:o}},Vk=e=>{let{startOfRange:t,endOfRange:n,current:r}=e;const i=n-t;return i===0?0:(r-t)/i},a0=1,Lq=function(e,t,n){n===void 0&&(n=()=>qu);const r=n();if(e>t.startScrollingFrom)return 0;if(e<=t.maxScrollValueAt)return r.maxPixelScroll;if(e===t.startScrollingFrom)return a0;const o=1-Vk({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:e}),s=r.maxPixelScroll*r.ease(o);return Math.ceil(s)},Mq=(e,t,n)=>{const r=n(),i=r.durationDampening.accelerateAt,o=r.durationDampening.stopDampeningAt,s=t,a=o,u=Date.now()-s;if(u>=o)return e;if(u<i)return a0;const c=Vk({startOfRange:i,endOfRange:a,current:u}),d=e*r.ease(c);return Math.ceil(d)},bT=e=>{let{distanceToEdge:t,thresholds:n,dragStartTime:r,shouldUseTimeDampening:i,getAutoScrollerOptions:o}=e;const s=Lq(t,n,o);return s===0?0:i?Math.max(Mq(s,r,o),a0):s},RT=e=>{let{container:t,distanceToEdges:n,dragStartTime:r,axis:i,shouldUseTimeDampening:o,getAutoScrollerOptions:s}=e;const a=Oq(t,i,s);return n[i.end]<n[i.start]?bT({distanceToEdge:n[i.end],thresholds:a,dragStartTime:r,shouldUseTimeDampening:o,getAutoScrollerOptions:s}):-1*bT({distanceToEdge:n[i.start],thresholds:a,dragStartTime:r,shouldUseTimeDampening:o,getAutoScrollerOptions:s})},Vq=e=>{let{container:t,subject:n,proposedScroll:r}=e;const i=n.height>t.height,o=n.width>t.width;return!o&&!i?r:o&&i?null:{x:o?0:r.x,y:i?0:r.y}};const Fq=ak(e=>e===0?0:e);var Fk=e=>{let{dragStartTime:t,container:n,subject:r,center:i,shouldUseTimeDampening:o,getAutoScrollerOptions:s}=e;const a={top:i.y-n.top,right:n.right-i.x,bottom:n.bottom-i.y,left:i.x-n.left},l=RT({container:n,distanceToEdges:a,dragStartTime:t,axis:Zw,shouldUseTimeDampening:o,getAutoScrollerOptions:s}),u=RT({container:n,distanceToEdges:a,dragStartTime:t,axis:fk,shouldUseTimeDampening:o,getAutoScrollerOptions:s}),c=Fq({x:u,y:l});if(no(c,Rt))return null;const d=Vq({container:n,subject:r,proposedScroll:c});return d?no(d,Rt)?null:d:null};const $q=ak(e=>e===0?0:e>0?1:-1),l0=(()=>{const e=(t,n)=>t<0?t:t>n?t-n:0;return t=>{let{current:n,max:r,change:i}=t;const o=Ot(n,i),s={x:e(o.x,r.x),y:e(o.y,r.y)};return no(s,Rt)?null:s}})(),$k=e=>{let{max:t,current:n,change:r}=e;const i={x:Math.max(n.x,t.x),y:Math.max(n.y,t.y)},o=$q(r),s=l0({max:i,current:n,change:o});return!s||o.x!==0&&s.x===0||o.y!==0&&s.y===0},u0=(e,t)=>$k({current:e.scroll.current,max:e.scroll.max,change:t}),Uq=(e,t)=>{if(!u0(e,t))return null;const n=e.scroll.max,r=e.scroll.current;return l0({current:r,max:n,change:t})},c0=(e,t)=>{const n=e.frame;return n?$k({current:n.scroll.current,max:n.scroll.max,change:t}):!1},Bq=(e,t)=>{const n=e.frame;return!n||!c0(e,t)?null:l0({current:n.scroll.current,max:n.scroll.max,change:t})};var jq=e=>{let{viewport:t,subject:n,center:r,dragStartTime:i,shouldUseTimeDampening:o,getAutoScrollerOptions:s}=e;const a=Fk({dragStartTime:i,container:t.frame,subject:n,center:r,shouldUseTimeDampening:o,getAutoScrollerOptions:s});return a&&u0(t,a)?a:null},zq=e=>{let{droppable:t,subject:n,center:r,dragStartTime:i,shouldUseTimeDampening:o,getAutoScrollerOptions:s}=e;const a=t.frame;if(!a)return null;const l=Fk({dragStartTime:i,container:a.pageMarginBox,subject:n,center:r,shouldUseTimeDampening:o,getAutoScrollerOptions:s});return l&&c0(t,l)?l:null},AT=e=>{let{state:t,dragStartTime:n,shouldUseTimeDampening:r,scrollWindow:i,scrollDroppable:o,getAutoScrollerOptions:s}=e;const a=t.current.page.borderBoxCenter,u=t.dimensions.draggables[t.critical.draggable.id].page.marginBox;if(t.isWindowScrollAllowed){const f=t.viewport,h=jq({dragStartTime:n,viewport:f,subject:u,center:a,shouldUseTimeDampening:r,getAutoScrollerOptions:s});if(h){i(h);return}}const c=Nq({center:a,destination:An(t.impact),droppables:t.dimensions.droppables});if(!c)return;const d=zq({dragStartTime:n,droppable:c,subject:u,center:a,shouldUseTimeDampening:r,getAutoScrollerOptions:s});d&&o(c.descriptor.id,d)},Wq=e=>{let{scrollWindow:t,scrollDroppable:n,getAutoScrollerOptions:r=()=>qu}=e;const i=Bu(t),o=Bu(n);let s=null;const a=c=>{s||B(!1);const{shouldUseTimeDampening:d,dragStartTime:f}=s;AT({state:c,scrollWindow:i,scrollDroppable:o,dragStartTime:f,shouldUseTimeDampening:d,getAutoScrollerOptions:r})};return{start:c=>{s&&B(!1);const d=Date.now();let f=!1;const h=()=>{f=!0};AT({state:c,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:h,scrollDroppable:h,getAutoScrollerOptions:r}),s={dragStartTime:d,shouldUseTimeDampening:f},f&&a(c)},stop:()=>{s&&(i.cancel(),o.cancel(),s=null)},scroll:a}},Hq=e=>{let{move:t,scrollDroppable:n,scrollWindow:r}=e;const i=(l,u)=>{const c=Ot(l.current.client.selection,u);t({client:c})},o=(l,u)=>{if(!c0(l,u))return u;const c=Bq(l,u);if(!c)return n(l.descriptor.id,u),null;const d=bn(u,c);return n(l.descriptor.id,d),bn(u,d)},s=(l,u,c)=>{if(!l||!u0(u,c))return c;const d=Uq(u,c);if(!d)return r(c),null;const f=bn(c,d);return r(f),bn(c,f)};return l=>{const u=l.scrollJumpRequest;if(!u)return;const c=An(l.impact);c||B(!1);const d=o(l.dimensions.droppables[c],u);if(!d)return;const f=l.viewport,h=s(l.isWindowScrollAllowed,f,d);h&&i(l,h)}},qq=e=>{let{scrollDroppable:t,scrollWindow:n,move:r,getAutoScrollerOptions:i}=e;const o=Wq({scrollWindow:n,scrollDroppable:t,getAutoScrollerOptions:i}),s=Hq({move:r,scrollWindow:n,scrollDroppable:t});return{scroll:u=>{if(!(i().disabled||u.phase!=="DRAGGING")){if(u.movementMode==="FLUID"){o.scroll(u);return}u.scrollJumpRequest&&s(u)}},start:o.start,stop:o.stop}};const Pa="data-rfd",xa=(()=>{const e=`${Pa}-drag-handle`;return{base:e,draggableId:`${e}-draggable-id`,contextId:`${e}-context-id`}})(),nv=(()=>{const e=`${Pa}-draggable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),Gq=(()=>{const e=`${Pa}-droppable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),CT={contextId:`${Pa}-scroll-container-context-id`},Kq=e=>t=>`[${t}="${e}"]`,vl=(e,t)=>e.map(n=>{const r=n.styles[t];return r?`${n.selector} { ${r} }`:""}).join(" "),Qq="pointer-events: none;";var Yq=e=>{const t=Kq(e),n=(()=>{const a=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:t(xa.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:a,dragging:Qq,dropAnimating:a}}})(),r=(()=>{const a=`
      transition: ${eu.outOfTheWay};
    `;return{selector:t(nv.contextId),styles:{dragging:a,dropAnimating:a,userCancel:a}}})(),i={selector:t(Gq.contextId),styles:{always:"overflow-anchor: none;"}},s=[r,n,i,{selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}}];return{always:vl(s,"always"),resting:vl(s,"resting"),dragging:vl(s,"dragging"),dropAnimating:vl(s,"dropAnimating"),userCancel:vl(s,"userCancel")}};const Xq=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?E.useLayoutEffect:E.useEffect;var Cn=Xq;const dg=()=>{const e=document.querySelector("head");return e||B(!1),e},PT=e=>{const t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.type="text/css",t};function Jq(e,t){const n=Te(()=>Yq(e),[e]),r=E.useRef(null),i=E.useRef(null),o=ee(St(d=>{const f=i.current;f||B(!1),f.textContent=d}),[]),s=ee(d=>{const f=r.current;f||B(!1),f.textContent=d},[]);Cn(()=>{!r.current&&!i.current||B(!1);const d=PT(t),f=PT(t);return r.current=d,i.current=f,d.setAttribute(`${Pa}-always`,e),f.setAttribute(`${Pa}-dynamic`,e),dg().appendChild(d),dg().appendChild(f),s(n.always),o(n.resting),()=>{const h=p=>{const y=p.current;y||B(!1),dg().removeChild(y),p.current=null};h(r),h(i)}},[t,s,o,n.always,n.resting,e]);const a=ee(()=>o(n.dragging),[o,n.dragging]),l=ee(d=>{if(d==="DROP"){o(n.dropAnimating);return}o(n.userCancel)},[o,n.dropAnimating,n.userCancel]),u=ee(()=>{i.current&&o(n.resting)},[o,n.resting]);return Te(()=>({dragging:a,dropping:l,resting:u}),[a,l,u])}function Uk(e,t){return Array.from(e.querySelectorAll(t))}var Bk=e=>{var t;return((t=e==null?void 0:e.ownerDocument)==null?void 0:t.defaultView)||window};function Pp(e){return e instanceof Bk(e).HTMLElement}function Zq(e,t){const n=`[${xa.contextId}="${e}"]`,r=Uk(document,n);if(!r.length)return null;const i=r.find(o=>o.getAttribute(xa.draggableId)===t);return!i||!Pp(i)?null:i}function e8(e){const t=E.useRef({}),n=E.useRef(null),r=E.useRef(null),i=E.useRef(!1),o=ee(function(f,h){const p={id:f,focus:h};return t.current[f]=p,function(){const _=t.current;_[f]!==p&&delete _[f]}},[]),s=ee(function(f){const h=Zq(e,f);h&&h!==document.activeElement&&h.focus()},[e]),a=ee(function(f,h){n.current===f&&(n.current=h)},[]),l=ee(function(){r.current||i.current&&(r.current=requestAnimationFrame(()=>{r.current=null;const f=n.current;f&&s(f)}))},[s]),u=ee(function(f){n.current=null;const h=document.activeElement;h&&h.getAttribute(xa.draggableId)===f&&(n.current=f)},[]);return Cn(()=>(i.current=!0,function(){i.current=!1;const f=r.current;f&&cancelAnimationFrame(f)}),[]),Te(()=>({register:o,tryRecordFocus:u,tryRestoreFocusRecorded:l,tryShiftRecord:a}),[o,u,l,a])}function t8(){const e={draggables:{},droppables:{}},t=[];function n(d){return t.push(d),function(){const h=t.indexOf(d);h!==-1&&t.splice(h,1)}}function r(d){t.length&&t.forEach(f=>f(d))}function i(d){return e.draggables[d]||null}function o(d){const f=i(d);return f||B(!1),f}const s={register:d=>{e.draggables[d.descriptor.id]=d,r({type:"ADDITION",value:d})},update:(d,f)=>{const h=e.draggables[f.descriptor.id];h&&h.uniqueId===d.uniqueId&&(delete e.draggables[f.descriptor.id],e.draggables[d.descriptor.id]=d)},unregister:d=>{const f=d.descriptor.id,h=i(f);h&&d.uniqueId===h.uniqueId&&(delete e.draggables[f],e.droppables[d.descriptor.droppableId]&&r({type:"REMOVAL",value:d}))},getById:o,findById:i,exists:d=>!!i(d),getAllByType:d=>Object.values(e.draggables).filter(f=>f.descriptor.type===d)};function a(d){return e.droppables[d]||null}function l(d){const f=a(d);return f||B(!1),f}const u={register:d=>{e.droppables[d.descriptor.id]=d},unregister:d=>{const f=a(d.descriptor.id);f&&d.uniqueId===f.uniqueId&&delete e.droppables[d.descriptor.id]},getById:l,findById:a,exists:d=>!!a(d),getAllByType:d=>Object.values(e.droppables).filter(f=>f.descriptor.type===d)};function c(){e.draggables={},e.droppables={},t.length=0}return{draggable:s,droppable:u,subscribe:n,clean:c}}function n8(){const e=Te(t8,[]);return E.useEffect(()=>function(){z.version.startsWith("16")||z.version.startsWith("17")?requestAnimationFrame(e.clean):e.clean()},[e]),e}var d0=z.createContext(null),Yf=()=>{const e=document.body;return e||B(!1),e};const r8={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"};var i8=r8;const o8=e=>`rfd-announcement-${e}`;function s8(e){const t=Te(()=>o8(e),[e]),n=E.useRef(null);return E.useEffect(function(){const o=document.createElement("div");return n.current=o,o.id=t,o.setAttribute("aria-live","assertive"),o.setAttribute("aria-atomic","true"),Ji(o.style,i8),Yf().appendChild(o),function(){setTimeout(function(){const l=Yf();l.contains(o)&&l.removeChild(o),o===n.current&&(n.current=null)})}},[t]),ee(i=>{const o=n.current;if(o){o.textContent=i;return}},[])}let a8=0;const jk={separator:"::"};function l8(e,t){return t===void 0&&(t=jk),Te(()=>`${e}${t.separator}${a8++}`,[t.separator,e])}function u8(e,t){t===void 0&&(t=jk);const n=z.useId();return Te(()=>`${e}${t.separator}${n}`,[t.separator,e,n])}var f0="useId"in z?u8:l8;function c8(e){let{contextId:t,uniqueId:n}=e;return`rfd-hidden-text-${t}-${n}`}function d8(e){let{contextId:t,text:n}=e;const r=f0("hidden-text",{separator:"-"}),i=Te(()=>c8({contextId:t,uniqueId:r}),[r,t]);return E.useEffect(function(){const s=document.createElement("div");return s.id=i,s.textContent=n,s.style.display="none",Yf().appendChild(s),function(){const l=Yf();l.contains(s)&&l.removeChild(s)}},[i,n]),i}var xp=z.createContext(null);function zk(e){const t=E.useRef(e);return E.useEffect(()=>{t.current=e}),t}function f8(){let e=null;function t(){return!!e}function n(s){return s===e}function r(s){e&&B(!1);const a={abandon:s};return e=a,a}function i(){e||B(!1),e=null}function o(){e&&(e.abandon(),i())}return{isClaimed:t,isActive:n,claim:r,release:i,tryAbandon:o}}function Gu(e){return e.phase==="IDLE"||e.phase==="DROP_ANIMATING"?!1:e.isDragging}const h8=9,p8=13,h0=27,Wk=32,m8=33,g8=34,y8=35,v8=36,_8=37,w8=38,E8=39,I8=40,T8={[p8]:!0,[h8]:!0};var Hk=e=>{T8[e.keyCode]&&e.preventDefault()};const S8=(()=>{const e="visibilitychange";return typeof document>"u"?e:[e,`ms${e}`,`webkit${e}`,`moz${e}`,`o${e}`].find(r=>`on${r}`in document)||e})();var kp=S8;const qk=0,xT=5;function b8(e,t){return Math.abs(t.x-e.x)>=xT||Math.abs(t.y-e.y)>=xT}const kT={type:"IDLE"};function R8(e){let{cancel:t,completed:n,getPhase:r,setPhase:i}=e;return[{eventName:"mousemove",fn:o=>{const{button:s,clientX:a,clientY:l}=o;if(s!==qk)return;const u={x:a,y:l},c=r();if(c.type==="DRAGGING"){o.preventDefault(),c.actions.move(u);return}c.type!=="PENDING"&&B(!1);const d=c.point;if(!b8(d,u))return;o.preventDefault();const f=c.actions.fluidLift(u);i({type:"DRAGGING",actions:f})}},{eventName:"mouseup",fn:o=>{const s=r();if(s.type!=="DRAGGING"){t();return}o.preventDefault(),s.actions.drop({shouldBlockNextClick:!0}),n()}},{eventName:"mousedown",fn:o=>{r().type==="DRAGGING"&&o.preventDefault(),t()}},{eventName:"keydown",fn:o=>{if(r().type==="PENDING"){t();return}if(o.keyCode===h0){o.preventDefault(),t();return}Hk(o)}},{eventName:"resize",fn:t},{eventName:"scroll",options:{passive:!0,capture:!1},fn:()=>{r().type==="PENDING"&&t()}},{eventName:"webkitmouseforcedown",fn:o=>{const s=r();if(s.type==="IDLE"&&B(!1),s.actions.shouldRespectForcePress()){t();return}o.preventDefault()}},{eventName:kp,fn:t}]}function A8(e){const t=E.useRef(kT),n=E.useRef(to),r=Te(()=>({eventName:"mousedown",fn:function(d){if(d.defaultPrevented||d.button!==qk||d.ctrlKey||d.metaKey||d.shiftKey||d.altKey)return;const f=e.findClosestDraggableId(d);if(!f)return;const h=e.tryGetLock(f,s,{sourceEvent:d});if(!h)return;d.preventDefault();const p={x:d.clientX,y:d.clientY};n.current(),u(h,p)}}),[e]),i=Te(()=>({eventName:"webkitmouseforcewillbegin",fn:c=>{if(c.defaultPrevented)return;const d=e.findClosestDraggableId(c);if(!d)return;const f=e.findOptionsForDraggable(d);f&&(f.shouldRespectForcePress||e.canGetLock(d)&&c.preventDefault())}}),[e]),o=ee(function(){const d={passive:!1,capture:!0};n.current=qn(window,[i,r],d)},[i,r]),s=ee(()=>{t.current.type!=="IDLE"&&(t.current=kT,n.current(),o())},[o]),a=ee(()=>{const c=t.current;s(),c.type==="DRAGGING"&&c.actions.cancel({shouldBlockNextClick:!0}),c.type==="PENDING"&&c.actions.abort()},[s]),l=ee(function(){const d={capture:!0,passive:!1},f=R8({cancel:a,completed:s,getPhase:()=>t.current,setPhase:h=>{t.current=h}});n.current=qn(window,f,d)},[a,s]),u=ee(function(d,f){t.current.type!=="IDLE"&&B(!1),t.current={type:"PENDING",point:f,actions:d},l()},[l]);Cn(function(){return o(),function(){n.current()}},[o])}function C8(){}const P8={[g8]:!0,[m8]:!0,[v8]:!0,[y8]:!0};function x8(e,t){function n(){t(),e.cancel()}function r(){t(),e.drop()}return[{eventName:"keydown",fn:i=>{if(i.keyCode===h0){i.preventDefault(),n();return}if(i.keyCode===Wk){i.preventDefault(),r();return}if(i.keyCode===I8){i.preventDefault(),e.moveDown();return}if(i.keyCode===w8){i.preventDefault(),e.moveUp();return}if(i.keyCode===E8){i.preventDefault(),e.moveRight();return}if(i.keyCode===_8){i.preventDefault(),e.moveLeft();return}if(P8[i.keyCode]){i.preventDefault();return}Hk(i)}},{eventName:"mousedown",fn:n},{eventName:"mouseup",fn:n},{eventName:"click",fn:n},{eventName:"touchstart",fn:n},{eventName:"resize",fn:n},{eventName:"wheel",fn:n,options:{passive:!0}},{eventName:kp,fn:n}]}function k8(e){const t=E.useRef(C8),n=Te(()=>({eventName:"keydown",fn:function(o){if(o.defaultPrevented||o.keyCode!==Wk)return;const s=e.findClosestDraggableId(o);if(!s)return;const a=e.tryGetLock(s,c,{sourceEvent:o});if(!a)return;o.preventDefault();let l=!0;const u=a.snapLift();t.current();function c(){l||B(!1),l=!1,t.current(),r()}t.current=qn(window,x8(u,c),{capture:!0,passive:!1})}}),[e]),r=ee(function(){const o={passive:!1,capture:!0};t.current=qn(window,[n],o)},[n]);Cn(function(){return r(),function(){t.current()}},[r])}const fg={type:"IDLE"},D8=120,N8=.15;function O8(e){let{cancel:t,getPhase:n}=e;return[{eventName:"orientationchange",fn:t},{eventName:"resize",fn:t},{eventName:"contextmenu",fn:r=>{r.preventDefault()}},{eventName:"keydown",fn:r=>{if(n().type!=="DRAGGING"){t();return}r.keyCode===h0&&r.preventDefault(),t()}},{eventName:kp,fn:t}]}function L8(e){let{cancel:t,completed:n,getPhase:r}=e;return[{eventName:"touchmove",options:{capture:!1},fn:i=>{const o=r();if(o.type!=="DRAGGING"){t();return}o.hasMoved=!0;const{clientX:s,clientY:a}=i.touches[0],l={x:s,y:a};i.preventDefault(),o.actions.move(l)}},{eventName:"touchend",fn:i=>{const o=r();if(o.type!=="DRAGGING"){t();return}i.preventDefault(),o.actions.drop({shouldBlockNextClick:!0}),n()}},{eventName:"touchcancel",fn:i=>{if(r().type!=="DRAGGING"){t();return}i.preventDefault(),t()}},{eventName:"touchforcechange",fn:i=>{const o=r();o.type==="IDLE"&&B(!1);const s=i.touches[0];if(!s||!(s.force>=N8))return;const l=o.actions.shouldRespectForcePress();if(o.type==="PENDING"){l&&t();return}if(l){if(o.hasMoved){i.preventDefault();return}t();return}i.preventDefault()}},{eventName:kp,fn:t}]}function M8(e){const t=E.useRef(fg),n=E.useRef(to),r=ee(function(){return t.current},[]),i=ee(function(h){t.current=h},[]),o=Te(()=>({eventName:"touchstart",fn:function(h){if(h.defaultPrevented)return;const p=e.findClosestDraggableId(h);if(!p)return;const y=e.tryGetLock(p,a,{sourceEvent:h});if(!y)return;const _=h.touches[0],{clientX:g,clientY:m}=_,w={x:g,y:m};n.current(),d(y,w)}}),[e]),s=ee(function(){const h={capture:!0,passive:!1};n.current=qn(window,[o],h)},[o]),a=ee(()=>{const f=t.current;f.type!=="IDLE"&&(f.type==="PENDING"&&clearTimeout(f.longPressTimerId),i(fg),n.current(),s())},[s,i]),l=ee(()=>{const f=t.current;a(),f.type==="DRAGGING"&&f.actions.cancel({shouldBlockNextClick:!0}),f.type==="PENDING"&&f.actions.abort()},[a]),u=ee(function(){const h={capture:!0,passive:!1},p={cancel:l,completed:a,getPhase:r},y=qn(window,L8(p),h),_=qn(window,O8(p),h);n.current=function(){y(),_()}},[l,r,a]),c=ee(function(){const h=r();h.type!=="PENDING"&&B(!1);const p=h.actions.fluidLift(h.point);i({type:"DRAGGING",actions:p,hasMoved:!1})},[r,i]),d=ee(function(h,p){r().type!=="IDLE"&&B(!1);const y=setTimeout(c,D8);i({type:"PENDING",point:p,actions:h,longPressTimerId:y}),u()},[u,r,i,c]);Cn(function(){return s(),function(){n.current();const p=r();p.type==="PENDING"&&(clearTimeout(p.longPressTimerId),i(fg))}},[r,s,i]),Cn(function(){return qn(window,[{eventName:"touchmove",fn:()=>{},options:{capture:!1,passive:!1}}])},[])}const V8=["input","button","textarea","select","option","optgroup","video","audio"];function Gk(e,t){if(t==null)return!1;if(V8.includes(t.tagName.toLowerCase()))return!0;const r=t.getAttribute("contenteditable");return r==="true"||r===""?!0:t===e?!1:Gk(e,t.parentElement)}function F8(e,t){const n=t.target;return Pp(n)?Gk(e,n):!1}var $8=e=>cr(e.getBoundingClientRect()).center;function U8(e){return e instanceof Bk(e).Element}const B8=(()=>{const e="matches";return typeof document>"u"?e:[e,"msMatchesSelector","webkitMatchesSelector"].find(r=>r in Element.prototype)||e})();function Kk(e,t){return e==null?null:e[B8](t)?e:Kk(e.parentElement,t)}function j8(e,t){return e.closest?e.closest(t):Kk(e,t)}function z8(e){return`[${xa.contextId}="${e}"]`}function W8(e,t){const n=t.target;if(!U8(n))return null;const r=z8(e),i=j8(n,r);return!i||!Pp(i)?null:i}function H8(e,t){const n=W8(e,t);return n?n.getAttribute(xa.draggableId):null}function q8(e,t){const n=`[${nv.contextId}="${e}"]`,i=Uk(document,n).find(o=>o.getAttribute(nv.id)===t);return!i||!Pp(i)?null:i}function G8(e){e.preventDefault()}function cd(e){let{expected:t,phase:n,isLockActive:r,shouldWarn:i}=e;return!(!r()||t!==n)}function Qk(e){let{lockAPI:t,store:n,registry:r,draggableId:i}=e;if(t.isClaimed())return!1;const o=r.draggable.findById(i);return!(!o||!o.options.isEnabled||!Mk(n.getState(),i))}function K8(e){let{lockAPI:t,contextId:n,store:r,registry:i,draggableId:o,forceSensorStop:s,sourceEvent:a}=e;if(!Qk({lockAPI:t,store:r,registry:i,draggableId:o}))return null;const u=i.draggable.getById(o),c=q8(n,u.descriptor.id);if(!c||a&&!u.options.canDragInteractiveElements&&F8(c,a))return null;const d=t.claim(s||to);let f="PRE_DRAG";function h(){return u.options.shouldRespectForcePress}function p(){return t.isActive(d)}function y(b,R){cd({expected:b,phase:f,isLockActive:p,shouldWarn:!0})&&r.dispatch(R())}const _=y.bind(null,"DRAGGING");function g(b){function R(){t.release(),f="COMPLETED"}f!=="PRE_DRAG"&&(R(),B(!1)),r.dispatch(DH(b.liftActionArgs)),f="DRAGGING";function A(O,k){if(k===void 0&&(k={shouldBlockNextClick:!1}),b.cleanup(),k.shouldBlockNextClick){const j=qn(window,[{eventName:"click",fn:G8,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(j)}R(),r.dispatch(Ck({reason:O}))}return{isActive:()=>cd({expected:"DRAGGING",phase:f,isLockActive:p,shouldWarn:!1}),shouldRespectForcePress:h,drop:O=>A("DROP",O),cancel:O=>A("CANCEL",O),...b.actions}}function m(b){const R=Bu(O=>{_(()=>Ak({client:O}))});return{...g({liftActionArgs:{id:o,clientSelection:b,movementMode:"FLUID"},cleanup:()=>R.cancel(),actions:{move:R}}),move:R}}function w(){const b={moveUp:()=>_(BH),moveRight:()=>_(zH),moveDown:()=>_(jH),moveLeft:()=>_(WH)};return g({liftActionArgs:{id:o,clientSelection:$8(c),movementMode:"SNAP"},cleanup:to,actions:b})}function v(){cd({expected:"PRE_DRAG",phase:f,isLockActive:p,shouldWarn:!0})&&t.release()}return{isActive:()=>cd({expected:"PRE_DRAG",phase:f,isLockActive:p,shouldWarn:!1}),shouldRespectForcePress:h,fluidLift:m,snapLift:w,abort:v}}const Q8=[A8,k8,M8];function Y8(e){let{contextId:t,store:n,registry:r,customSensors:i,enableDefaultSensors:o}=e;const s=[...o?Q8:[],...i||[]],a=E.useState(()=>f8())[0],l=ee(function(g,m){Gu(g)&&!Gu(m)&&a.tryAbandon()},[a]);Cn(function(){let g=n.getState();return n.subscribe(()=>{const w=n.getState();l(g,w),g=w})},[a,n,l]),Cn(()=>a.tryAbandon,[a.tryAbandon]);const u=ee(_=>Qk({lockAPI:a,registry:r,store:n,draggableId:_}),[a,r,n]),c=ee((_,g,m)=>K8({lockAPI:a,registry:r,contextId:t,store:n,draggableId:_,forceSensorStop:g||null,sourceEvent:m&&m.sourceEvent?m.sourceEvent:null}),[t,a,r,n]),d=ee(_=>H8(t,_),[t]),f=ee(_=>{const g=r.draggable.findById(_);return g?g.options:null},[r.draggable]),h=ee(function(){a.isClaimed()&&(a.tryAbandon(),n.getState().phase!=="IDLE"&&n.dispatch(i0()))},[a,n]),p=ee(()=>a.isClaimed(),[a]),y=Te(()=>({canGetLock:u,tryGetLock:c,findClosestDraggableId:d,findOptionsForDraggable:f,tryReleaseLock:h,isLockClaimed:p}),[u,c,d,f,h,p]);for(let _=0;_<s.length;_++)s[_](y)}const X8=e=>({onBeforeCapture:t=>{const n=()=>{e.onBeforeCapture&&e.onBeforeCapture(t)};z.version.startsWith("16")||z.version.startsWith("17")?n():wc.flushSync(n)},onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragEnd:e.onDragEnd,onDragUpdate:e.onDragUpdate}),J8=e=>({...qu,...e.autoScrollerOptions,durationDampening:{...qu.durationDampening,...e.autoScrollerOptions}});function _l(e){return e.current||B(!1),e.current}function Z8(e){const{contextId:t,setCallbacks:n,sensors:r,nonce:i,dragHandleUsageInstructions:o}=e,s=E.useRef(null),a=zk(e),l=ee(()=>X8(a.current),[a]),u=ee(()=>J8(a.current),[a]),c=s8(t),d=d8({contextId:t,text:o}),f=Jq(t,i),h=ee(k=>{_l(s).dispatch(k)},[]),p=Te(()=>y1({publishWhileDragging:OH,updateDroppableScroll:MH,updateDroppableIsEnabled:VH,updateDroppableIsCombineEnabled:FH,collectionStarting:LH},h),[h]),y=n8(),_=Te(()=>Pq(y,p),[y,p]),g=Te(()=>qq({scrollWindow:xq,scrollDroppable:_.scrollDroppable,getAutoScrollerOptions:u,...y1({move:Ak},h)}),[_.scrollDroppable,h,u]),m=e8(t),w=Te(()=>bq({announce:c,autoScroller:g,dimensionMarshal:_,focusMarshal:m,getResponders:l,styleMarshal:f}),[c,g,_,m,l,f]);s.current=w;const v=ee(()=>{const k=_l(s);k.getState().phase!=="IDLE"&&k.dispatch(i0())},[]),I=ee(()=>{const k=_l(s).getState();return k.phase==="DROP_ANIMATING"?!0:k.phase==="IDLE"?!1:k.isDragging},[]),b=Te(()=>({isDragging:I,tryAbort:v}),[I,v]);n(b);const R=ee(k=>Mk(_l(s).getState(),k),[]),A=ee(()=>ko(_l(s).getState()),[]),O=Te(()=>({marshal:_,focus:m,contextId:t,canLift:R,isMovementAllowed:A,dragHandleUsageInstructionsId:d,registry:y}),[t,_,d,m,R,A,y]);return Y8({contextId:t,store:w,registry:y,customSensors:r||null,enableDefaultSensors:e.enableDefaultSensors!==!1}),E.useEffect(()=>v,[v]),z.createElement(xp.Provider,{value:O},z.createElement(ex,{context:d0,store:w},e.children))}let eG=0;function tG(){return Te(()=>`${eG++}`,[])}function nG(){return z.useId()}var rG="useId"in z?nG:tG;function iG(e){const t=rG(),n=e.dragHandleUsageInstructions||Md.dragHandleUsageInstructions;return z.createElement(wW,null,r=>z.createElement(Z8,{nonce:e.nonce,contextId:t,setCallbacks:r,dragHandleUsageInstructions:n,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd,autoScrollerOptions:e.autoScrollerOptions},e.children))}const DT={dragging:5e3,dropAnimating:4500},oG=(e,t)=>t?eu.drop(t.duration):e?eu.snap:eu.fluid,sG=(e,t)=>{if(e)return t?Hu.opacity.drop:Hu.opacity.combining},aG=e=>e.forceShouldAnimate!=null?e.forceShouldAnimate:e.mode==="SNAP";function lG(e){const n=e.dimension.client,{offset:r,combineWith:i,dropping:o}=e,s=!!i,a=aG(e),l=!!o,u=l?ev.drop(r,s):ev.moveTo(r);return{position:"fixed",top:n.marginBox.top,left:n.marginBox.left,boxSizing:"border-box",width:n.borderBox.width,height:n.borderBox.height,transition:oG(a,o),transform:u,opacity:sG(s,l),zIndex:l?DT.dropAnimating:DT.dragging,pointerEvents:"none"}}function uG(e){return{transform:ev.moveTo(e.offset),transition:e.shouldAnimateDisplacement?void 0:"none"}}function cG(e){return e.type==="DRAGGING"?lG(e):uG(e)}function dG(e,t,n){n===void 0&&(n=Rt);const r=window.getComputedStyle(t),i=t.getBoundingClientRect(),o=nk(i,r),s=qf(o,n),a={client:o,tagName:t.tagName.toLowerCase(),display:r.display},l={x:o.marginBox.width,y:o.marginBox.height};return{descriptor:e,placeholder:a,displaceBy:l,client:o,page:s}}function fG(e){const t=f0("draggable"),{descriptor:n,registry:r,getDraggableRef:i,canDragInteractiveElements:o,shouldRespectForcePress:s,isEnabled:a}=e,l=Te(()=>({canDragInteractiveElements:o,shouldRespectForcePress:s,isEnabled:a}),[o,a,s]),u=ee(h=>{const p=i();return p||B(!1),dG(n,p,h)},[n,i]),c=Te(()=>({uniqueId:t,descriptor:n,options:l,getDimension:u}),[n,u,l,t]),d=E.useRef(c),f=E.useRef(!0);Cn(()=>(r.draggable.register(d.current),()=>r.draggable.unregister(d.current)),[r.draggable]),Cn(()=>{if(f.current){f.current=!1;return}const h=d.current;d.current=c,r.draggable.update(c,h)},[c,r.draggable])}var p0=z.createContext(null);function Xf(e){const t=E.useContext(e);return t||B(!1),t}function hG(e){e.preventDefault()}const pG=e=>{const t=E.useRef(null),n=ee(function(b){b===void 0&&(b=null),t.current=b},[]),r=ee(()=>t.current,[]),{contextId:i,dragHandleUsageInstructionsId:o,registry:s}=Xf(xp),{type:a,droppableId:l}=Xf(p0),u=Te(()=>({id:e.draggableId,index:e.index,type:a,droppableId:l}),[e.draggableId,e.index,a,l]),{children:c,draggableId:d,isEnabled:f,shouldRespectForcePress:h,canDragInteractiveElements:p,isClone:y,mapped:_,dropAnimationFinished:g}=e;if(!y){const b=Te(()=>({descriptor:u,registry:s,getDraggableRef:r,canDragInteractiveElements:p,shouldRespectForcePress:h,isEnabled:f}),[u,s,r,p,h,f]);fG(b)}const m=Te(()=>f?{tabIndex:0,role:"button","aria-describedby":o,"data-rfd-drag-handle-draggable-id":d,"data-rfd-drag-handle-context-id":i,draggable:!1,onDragStart:hG}:null,[i,o,d,f]),w=ee(b=>{_.type==="DRAGGING"&&_.dropping&&b.propertyName==="transform"&&(z.version.startsWith("16")||z.version.startsWith("17")?g():wc.flushSync(g))},[g,_]),v=Te(()=>{const b=cG(_),R=_.type==="DRAGGING"&&_.dropping?w:void 0;return{innerRef:n,draggableProps:{"data-rfd-draggable-context-id":i,"data-rfd-draggable-id":d,style:b,onTransitionEnd:R},dragHandleProps:m}},[i,m,d,_,w,n]),I=Te(()=>({draggableId:u.id,type:u.type,source:{index:u.index,droppableId:u.droppableId}}),[u.droppableId,u.id,u.index,u.type]);return z.createElement(z.Fragment,null,c(v,_.snapshot,I))};var mG=pG,Yk=(e,t)=>e===t,Xk=e=>{const{combine:t,destination:n}=e;return n?n.droppableId:t?t.droppableId:null};const gG=e=>e.combine?e.combine.draggableId:null,yG=e=>e.at&&e.at.type==="COMBINE"?e.at.combine.draggableId:null;function vG(){const e=St((i,o)=>({x:i,y:o})),t=St(function(i,o,s,a,l){return s===void 0&&(s=null),a===void 0&&(a=null),l===void 0&&(l=null),{isDragging:!0,isClone:o,isDropAnimating:!!l,dropAnimation:l,mode:i,draggingOver:s,combineWith:a,combineTargetFor:null}}),n=St(function(i,o,s,a,l,u,c){return l===void 0&&(l=null),u===void 0&&(u=null),c===void 0&&(c=null),{mapped:{type:"DRAGGING",dropping:null,draggingOver:l,combineWith:u,mode:o,offset:i,dimension:s,forceShouldAnimate:c,snapshot:t(o,a,l,u,null)}}});return(i,o)=>{if(Gu(i)){if(i.critical.draggable.id!==o.draggableId)return null;const s=i.current.client.offset,a=i.dimensions.draggables[o.draggableId],l=An(i.impact),u=yG(i.impact),c=i.forceShouldAnimate;return n(e(s.x,s.y),i.movementMode,a,o.isClone,l,u,c)}if(i.phase==="DROP_ANIMATING"){const s=i.completed;if(s.result.draggableId!==o.draggableId)return null;const a=o.isClone,l=i.dimensions.draggables[o.draggableId],u=s.result,c=u.mode,d=Xk(u),f=gG(u),p={duration:i.dropDuration,curve:s0.drop,moveTo:i.newHomeClientOffset,opacity:f?Hu.opacity.drop:null,scale:f?Hu.scale.drop:null};return{mapped:{type:"DRAGGING",offset:i.newHomeClientOffset,dimension:l,dropping:p,draggingOver:d,combineWith:f,mode:c,forceShouldAnimate:null,snapshot:t(c,a,d,f,p)}}}return null}}function Jk(e){return e===void 0&&(e=null),{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}const _G={mapped:{type:"SECONDARY",offset:Rt,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:Jk(null)}};function wG(){const e=St((s,a)=>({x:s,y:a})),t=St(Jk),n=St(function(s,a,l){return a===void 0&&(a=null),{mapped:{type:"SECONDARY",offset:s,combineTargetFor:a,shouldAnimateDisplacement:l,snapshot:t(a)}}}),r=s=>s?n(Rt,s,!0):null,i=(s,a,l,u)=>{const c=l.displaced.visible[s],d=!!(u.inVirtualList&&u.effected[s]),f=Rp(l),h=f&&f.draggableId===s?a:null;if(!c){if(!d)return r(h);if(l.displaced.invisible[s])return null;const _=Wa(u.displacedBy.point),g=e(_.x,_.y);return n(g,h,!0)}if(d)return r(h);const p=l.displacedBy.point,y=e(p.x,p.y);return n(y,h,c.shouldAnimate)};return(s,a)=>{if(Gu(s))return s.critical.draggable.id===a.draggableId?null:i(a.draggableId,s.critical.draggable.id,s.impact,s.afterCritical);if(s.phase==="DROP_ANIMATING"){const l=s.completed;return l.result.draggableId===a.draggableId?null:i(a.draggableId,l.result.draggableId,l.impact,l.afterCritical)}return null}}const EG=()=>{const e=vG(),t=wG();return(r,i)=>e(r,i)||t(r,i)||_G},IG={dropAnimationFinished:Pk},TG=ZP(EG,IG,null,{context:d0,areStatePropsEqual:Yk})(mG);var SG=TG;function Zk(e){return Xf(p0).isUsingCloneFor===e.draggableId&&!e.isClone?null:z.createElement(SG,e)}function bG(e){const t=typeof e.isDragDisabled=="boolean"?!e.isDragDisabled:!0,n=!!e.disableInteractiveElementBlocking,r=!!e.shouldRespectForcePress;return z.createElement(Zk,Ji({},e,{isClone:!1,isEnabled:t,canDragInteractiveElements:n,shouldRespectForcePress:r}))}const eD=e=>t=>e===t,RG=eD("scroll"),AG=eD("auto"),NT=(e,t)=>t(e.overflowX)||t(e.overflowY),CG=e=>{const t=window.getComputedStyle(e),n={overflowX:t.overflowX,overflowY:t.overflowY};return NT(n,RG)||NT(n,AG)},PG=()=>!1,tD=e=>e==null?null:e===document.body?PG()?e:null:e===document.documentElement?null:CG(e)?e:tD(e.parentElement);var xG=tD,rv=e=>({x:e.scrollLeft,y:e.scrollTop});const nD=e=>e?window.getComputedStyle(e).position==="fixed"?!0:nD(e.parentElement):!1;var kG=e=>{const t=xG(e),n=nD(e);return{closestScrollable:t,isFixedOnPage:n}},DG=e=>{let{descriptor:t,isEnabled:n,isCombineEnabled:r,isFixedOnPage:i,direction:o,client:s,page:a,closest:l}=e;const u=(()=>{if(!l)return null;const{scrollSize:h,client:p}=l,y=Nk({scrollHeight:h.scrollHeight,scrollWidth:h.scrollWidth,height:p.paddingBox.height,width:p.paddingBox.width});return{pageMarginBox:l.page.marginBox,frameClient:p,scrollSize:h,shouldClipSubject:l.shouldClipSubject,scroll:{initial:l.scroll,current:l.scroll,max:y,diff:{value:Rt,displacement:Rt}}}})(),c=o==="vertical"?Zw:fk,d=Ca({page:a,withPlaceholder:null,axis:c,frame:u});return{descriptor:t,isCombineEnabled:r,isFixedOnPage:i,axis:c,isEnabled:n,client:s,page:a,frame:u,subject:d}};const NG=(e,t)=>{const n=rk(e);if(!t||e!==t)return n;const r=n.paddingBox.top-t.scrollTop,i=n.paddingBox.left-t.scrollLeft,o=r+t.scrollHeight,s=i+t.scrollWidth,l=Qw({top:r,right:s,bottom:o,left:i},n.border);return Yw({borderBox:l,margin:n.margin,border:n.border,padding:n.padding})};var OG=e=>{let{ref:t,descriptor:n,env:r,windowScroll:i,direction:o,isDropDisabled:s,isCombineEnabled:a,shouldClipSubject:l}=e;const u=r.closestScrollable,c=NG(t,u),d=qf(c,i),f=(()=>{if(!u)return null;const p=rk(u),y={scrollHeight:u.scrollHeight,scrollWidth:u.scrollWidth};return{client:p,page:qf(p,i),scroll:rv(u),scrollSize:y,shouldClipSubject:l}})();return DG({descriptor:n,isEnabled:!s,isCombineEnabled:a,isFixedOnPage:r.isFixedOnPage,direction:o,client:c,page:d,closest:f})};const LG={passive:!1},MG={passive:!0};var OT=e=>e.shouldPublishImmediately?LG:MG;const dd=e=>e&&e.env.closestScrollable||null;function VG(e){const t=E.useRef(null),n=Xf(xp),r=f0("droppable"),{registry:i,marshal:o}=n,s=zk(e),a=Te(()=>({id:e.droppableId,type:e.type,mode:e.mode}),[e.droppableId,e.mode,e.type]),l=E.useRef(a),u=Te(()=>St((v,I)=>{t.current||B(!1);const b={x:v,y:I};o.updateDroppableScroll(a.id,b)}),[a.id,o]),c=ee(()=>{const v=t.current;return!v||!v.env.closestScrollable?Rt:rv(v.env.closestScrollable)},[]),d=ee(()=>{const v=c();u(v.x,v.y)},[c,u]),f=Te(()=>Bu(d),[d]),h=ee(()=>{const v=t.current,I=dd(v);if(v&&I||B(!1),v.scrollOptions.shouldPublishImmediately){d();return}f()},[f,d]),p=ee((v,I)=>{t.current&&B(!1);const b=s.current,R=b.getDroppableRef();R||B(!1);const A=kG(R),O={ref:R,descriptor:a,env:A,scrollOptions:I};t.current=O;const k=OG({ref:R,descriptor:a,env:A,windowScroll:v,direction:b.direction,isDropDisabled:b.isDropDisabled,isCombineEnabled:b.isCombineEnabled,shouldClipSubject:!b.ignoreContainerClipping}),j=A.closestScrollable;return j&&(j.setAttribute(CT.contextId,n.contextId),j.addEventListener("scroll",h,OT(O.scrollOptions))),k},[n.contextId,a,h,s]),y=ee(()=>{const v=t.current,I=dd(v);return v&&I||B(!1),rv(I)},[]),_=ee(()=>{const v=t.current;v||B(!1);const I=dd(v);t.current=null,I&&(f.cancel(),I.removeAttribute(CT.contextId),I.removeEventListener("scroll",h,OT(v.scrollOptions)))},[h,f]),g=ee(v=>{const I=t.current;I||B(!1);const b=dd(I);b||B(!1),b.scrollTop+=v.y,b.scrollLeft+=v.x},[]),m=Te(()=>({getDimensionAndWatchScroll:p,getScrollWhileDragging:y,dragStopped:_,scroll:g}),[_,p,y,g]),w=Te(()=>({uniqueId:r,descriptor:a,callbacks:m}),[m,a,r]);Cn(()=>(l.current=w.descriptor,i.droppable.register(w),()=>{t.current&&_(),i.droppable.unregister(w)}),[m,a,_,w,o,i.droppable]),Cn(()=>{t.current&&o.updateDroppableIsEnabled(l.current.id,!e.isDropDisabled)},[e.isDropDisabled,o]),Cn(()=>{t.current&&o.updateDroppableIsCombineEnabled(l.current.id,e.isCombineEnabled)},[e.isCombineEnabled,o])}function hg(){}const LT={width:0,height:0,margin:AW},FG=e=>{let{isAnimatingOpenOnMount:t,placeholder:n,animate:r}=e;return t||r==="close"?LT:{height:n.client.borderBox.height,width:n.client.borderBox.width,margin:n.client.margin}},$G=e=>{let{isAnimatingOpenOnMount:t,placeholder:n,animate:r}=e;const i=FG({isAnimatingOpenOnMount:t,placeholder:n,animate:r});return{display:n.display,boxSizing:"border-box",width:i.width,height:i.height,marginTop:i.margin.top,marginRight:i.margin.right,marginBottom:i.margin.bottom,marginLeft:i.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:r!=="none"?eu.placeholder:null}},UG=e=>{const t=E.useRef(null),n=ee(()=>{t.current&&(clearTimeout(t.current),t.current=null)},[]),{animate:r,onTransitionEnd:i,onClose:o,contextId:s}=e,[a,l]=E.useState(e.animate==="open");E.useEffect(()=>a?r!=="open"?(n(),l(!1),hg):t.current?hg:(t.current=setTimeout(()=>{t.current=null,l(!1)}),n):hg,[r,a,n]);const u=ee(d=>{d.propertyName==="height"&&(i(),r==="close"&&o())},[r,o,i]),c=$G({isAnimatingOpenOnMount:a,animate:e.animate,placeholder:e.placeholder});return z.createElement(e.placeholder.tagName,{style:c,"data-rfd-placeholder-context-id":s,onTransitionEnd:u,ref:e.innerRef})};var BG=z.memo(UG);class jG extends z.PureComponent{constructor(){super(...arguments),this.state={isVisible:!!this.props.on,data:this.props.on,animate:this.props.shouldAnimate&&this.props.on?"open":"none"},this.onClose=()=>{this.state.animate==="close"&&this.setState({isVisible:!1})}}static getDerivedStateFromProps(t,n){return t.shouldAnimate?t.on?{isVisible:!0,data:t.on,animate:"open"}:n.isVisible?{isVisible:!0,data:n.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!t.on,data:t.on,animate:"none"}}render(){if(!this.state.isVisible)return null;const t={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(t)}}const zG=e=>{const t=E.useContext(xp);t||B(!1);const{contextId:n,isMovementAllowed:r}=t,i=E.useRef(null),o=E.useRef(null),{children:s,droppableId:a,type:l,mode:u,direction:c,ignoreContainerClipping:d,isDropDisabled:f,isCombineEnabled:h,snapshot:p,useClone:y,updateViewportMaxScroll:_,getContainerForClone:g}=e,m=ee(()=>i.current,[]),w=ee(function(j){j===void 0&&(j=null),i.current=j},[]);ee(()=>o.current,[]);const v=ee(function(j){j===void 0&&(j=null),o.current=j},[]),I=ee(()=>{r()&&_({maxScroll:Lk()})},[r,_]);VG({droppableId:a,type:l,mode:u,direction:c,isDropDisabled:f,isCombineEnabled:h,ignoreContainerClipping:d,getDroppableRef:m});const b=Te(()=>z.createElement(jG,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},j=>{let{onClose:$,data:X,animate:oe}=j;return z.createElement(BG,{placeholder:X,onClose:$,innerRef:v,animate:oe,contextId:n,onTransitionEnd:I})}),[n,I,e.placeholder,e.shouldAnimatePlaceholder,v]),R=Te(()=>({innerRef:w,placeholder:b,droppableProps:{"data-rfd-droppable-id":a,"data-rfd-droppable-context-id":n}}),[n,a,b,w]),A=y?y.dragging.draggableId:null,O=Te(()=>({droppableId:a,type:l,isUsingCloneFor:A}),[a,A,l]);function k(){if(!y)return null;const{dragging:j,render:$}=y,X=z.createElement(Zk,{draggableId:j.draggableId,index:j.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},(oe,pe)=>$(oe,pe,j));return cj.createPortal(X,g())}return z.createElement(p0.Provider,{value:O},s(R,p),k())};var WG=zG;function HG(){return document.body||B(!1),document.body}const MT={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:HG},rD=e=>{let t={...e},n;for(n in MT)e[n]===void 0&&(t={...t,[n]:MT[n]});return t},pg=(e,t)=>e===t.droppable.type,VT=(e,t)=>t.draggables[e.draggable.id],qG=()=>{const e={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},t={...e,shouldAnimatePlaceholder:!1},n=St(o=>({draggableId:o.id,type:o.type,source:{index:o.index,droppableId:o.droppableId}})),r=St((o,s,a,l,u,c)=>{const d=u.descriptor.id;if(u.descriptor.droppableId===o){const p=c?{render:c,dragging:n(u.descriptor)}:null,y={isDraggingOver:a,draggingOverWith:a?d:null,draggingFromThisWith:d,isUsingPlaceholder:!0};return{placeholder:u.placeholder,shouldAnimatePlaceholder:!1,snapshot:y,useClone:p}}if(!s)return t;if(!l)return e;const h={isDraggingOver:a,draggingOverWith:d,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:u.placeholder,shouldAnimatePlaceholder:!0,snapshot:h,useClone:null}});return(o,s)=>{const a=rD(s),l=a.droppableId,u=a.type,c=!a.isDropDisabled,d=a.renderClone;if(Gu(o)){const f=o.critical;if(!pg(u,f))return t;const h=VT(f,o.dimensions),p=An(o.impact)===l;return r(l,c,p,p,h,d)}if(o.phase==="DROP_ANIMATING"){const f=o.completed;if(!pg(u,f.critical))return t;const h=VT(f.critical,o.dimensions);return r(l,c,Xk(f.result)===l,An(f.impact)===l,h,d)}if(o.phase==="IDLE"&&o.completed&&!o.shouldFlush){const f=o.completed;if(!pg(u,f.critical))return t;const h=An(f.impact)===l,p=!!(f.impact.at&&f.impact.at.type==="COMBINE"),y=f.critical.droppable.id===l;return h?p?e:t:y?e:t}return t}},GG={updateViewportMaxScroll:UH},KG=ZP(qG,GG,(e,t,n)=>({...rD(n),...e,...t}),{context:d0,areStatePropsEqual:Yk})(WG);var QG=KG;const FT=({links:e,formValidity:t,baseIndex:n,onDragEnd:r,removeLinkHandler:i,formValidityHandler:o})=>{const s=(a,l)=>({...l,opacity:a?.8:1});return T.jsx(iG,{onDragEnd:r,children:T.jsx(QG,{droppableId:"droppable",children:a=>T.jsxs("div",{...a.droppableProps,ref:a.innerRef,className:lW.container,children:[e.map((l,u)=>T.jsx(bG,{draggableId:l.id,index:u,isDragDisabled:l.id.startsWith(Aa.NEW_LINK_ID),children:(c,d)=>T.jsx("div",{ref:c.innerRef,...c.draggableProps,style:s(d.isDragging,c.draggableProps.style),children:T.jsx(sW,{dragProps:c.dragHandleProps,formValidity:t,link:l,index:n+u,removeLinkHandler:i,formValidityHandler:o},l.id)})},l.id)),a.placeholder]})})})},YG="_container_jvyz8_1",XG="_image_jvyz8_7",JG="_title_jvyz8_12",ZG="_subtitle_jvyz8_15",fd={container:YG,image:XG,title:JG,subtitle:ZG},e7="/assets/illustration-empty-31b8190f.svg",t7=E.memo(()=>T.jsxs("div",{className:fd.container,children:[T.jsx("img",{src:e7,alt:"illustration-empty",className:fd.image}),T.jsx("h1",{className:`${fd.title} title`,children:"Let's get you started"}),T.jsx("h3",{className:`${fd.subtitle} subtitle`,children:"Use the Add new link button to get started. Once you have more than one link, you can reorder and edit them. We're here to help you share your profiles with everyone!"})]})),$T={"container--links":"_container--links_ovoml_1","container--loader":"_container--loader_ovoml_8"},iD=(e,t)=>FU(Vr(yr,Jn.COLLECTION+t,e)),n7=(e,t)=>$U(pA(yr,Jn.COLLECTION+t),e),r7=(e,t,n)=>{const{id:r,...i}=e;return PA(Vr(yr,Jn.COLLECTION+n,r),{...i,index:t})},i7=(e,t,n)=>C_(Vr(yr,Jn.COLLECTION+n,e),t),UT=(e,t)=>e.map(n=>n[t]),o7=e=>e.reduce((t,n)=>{const{dirty:r,valid:i,link:o}=n;return r&&i?[...t,o]:t},[]),s7=(e,t)=>e.filter(n=>n.id!==t),a7=(e,t)=>e.map(n=>{const{id:r,...i}=n,o=r.startsWith(Aa.NEW_LINK_ID)?n7(i,t):i7(n.id,i,t);return{id:r,data:o}}),l7=e=>e.map(t=>({link:t,valid:!0,dirty:!1})),u7=async e=>{var s;const t=((s=xn.currentUser)==null?void 0:s.uid)||"",n=o7(e),r=a7(n,t),i=await Promise.all(r.map(a=>a.data)),o=r.map((a,l)=>{var u;return{id:a.id,newId:((u=i[l])==null?void 0:u.id)||a.id}});return n.map(a=>{const l=o.find(u=>u.id===a.id);return l?{...a,id:l.newId}:a})},c7=(e,t,n)=>{const r=Array.from(e),[i]=r.splice(t,1);return r.splice(n,0,i),r.map((o,s)=>({...o,index:s}))},d7=({newFirebaseLinks:e,formValidity:t,onRemoveLink:n,formValidityHandler:r})=>{const i=_s(),{links:o,loading:s}=hi(d=>d.list),a=async d=>{var p;if(!d.destination)return;const f=((p=xn.currentUser)==null?void 0:p.uid)||"",h=c7(o,d.source.index,d.destination.index);try{i(W1({links:h})),await Promise.all(h.map(y=>iD(y.id,f))),await Promise.all(h.map((y,_)=>r7(y,_,f)))}catch{i(W1({links:o})),Ee.error("Error reordering links. Please try again!",Hn)}},l=E.useMemo(()=>T.jsx(co,{position:"top-right",autoClose:3e3,theme:"colored"}),[]),u=E.useMemo(()=>s&&`${$T["container--loader"]}`,[s]),c=E.useMemo(()=>!s&&o.length!==0?`${$T["container--links"]}`:"",[o.length,s]);return T.jsxs("div",{className:`${Ui.subcontainer} ${c} ${u}`,children:[l,s&&T.jsx(Gw,{size:4}),!s&&T.jsxs(T.Fragment,{children:[e.length===0&&o.length===0&&T.jsx(t7,{}),e.length!==0&&T.jsx(FT,{onDragEnd:a,baseIndex:o.length,removeLinkHandler:n,formValidity:t,formValidityHandler:r,links:e}),o.length!==0&&T.jsx(FT,{onDragEnd:a,baseIndex:0,removeLinkHandler:n,formValidity:t,formValidityHandler:r,links:o})]})]})},f7=E.memo(ek),h7=()=>{const[e,t]=E.useState([]),[n,r]=E.useState([]),i=_s(),{links:o,loading:s}=hi(w=>w.list),a=E.useCallback(()=>{const w=n.map(I=>I.link.platform),[v]=Uu.filter(I=>!w.includes(I.value));t(I=>{const b=v.value;return[{id:Aa.NEW_LINK_ID+I.length,platform:b,index:I.length,value:""},...I]})},[n]),l=E.useMemo(()=>Uu.length===e.length+o.length,[o.length,e.length]),u=E.useMemo(()=>{const w=UT(n,"valid").some(I=>!I),v=UT(n,"dirty").every(I=>!I);return w||v||!e.length&&!o.length},[n,e.length,o.length]),c=w=>{r(v=>v.filter(I=>I.link.id!==w))},d=E.useCallback((w,v,I,b)=>{const[R,A]=w;r(O=>O.some(j=>j.link.id===b)?O.map(j=>j.link.id!==b?j:{valid:v,dirty:I,link:{...j.link,platform:R,value:A}}):[...O,{valid:v,dirty:I,link:{id:b,platform:R,index:O.length,value:A}}])},[]),f=E.useCallback(async w=>{var v;if(w.startsWith(Aa.NEW_LINK_ID)){t(I=>s7(I,w)),c(w);return}try{await iD(w,((v=xn.currentUser)==null?void 0:v.uid)||""),c(w),i(z6({linkId:w})),Ee.success("Link successfully deleted.",Hn)}catch{Ee.error("Error deleting link. Please try again!",Hn)}},[i]),h=E.useCallback(async()=>{i(H1({loading:!0}));try{const w=await u7(n);e.length&&t([]),i(W6({loading:!1,links:w})),Ee.success("Link/s successfully created/updated.",Hn)}catch{i(H1({loading:!1})),Ee.error("Error adding link. Please try again!",Hn)}},[i,n,e.length]);E.useEffect(()=>{s||r(l7(o))},[s,o]);const p=E.useMemo(()=>T.jsx(co,{position:"top-right",autoClose:3e3,theme:"colored"}),[]),y=E.useMemo(()=>T.jsx(Fr,{disabled:u,label:"Save",clickHandler:h}),[u,h]),_=E.useMemo(()=>T.jsx(Fr,{disabled:l,label:"+ Add new link",outlineMode:!0,clickHandler:a}),[l,a]),g=E.useMemo(()=>T.jsx(d7,{newFirebaseLinks:e,formValidity:n,onRemoveLink:f,formValidityHandler:d}),[n,e,f,d]),m=E.useMemo(()=>T.jsxs(T.Fragment,{children:[p,T.jsxs("div",{className:Ui.container,children:[T.jsx("h1",{className:"title",children:"Customize your links"}),T.jsx("h3",{className:"subtitle",children:"Add/edit/remove links below and then share all your profiles with the world!"}),_,g]}),T.jsx("div",{className:Ui.footer,children:T.jsx("div",{className:Ui.footer__wrapper,children:y})})]}),[_,g,y,p]);return T.jsx(f7,{children:m})},p7="_container_wth61_1",m7="_nav_wth61_5",g7="_subgrid_wth61_18",y7="_subgrid__link_wth61_23",v7="_subgrid__link__label_wth61_33",_7="_preview__link_wth61_53",w7="_preview__button_wth61_59",E7="_main_wth61_63",nn={container:p7,nav:m7,"nav__logo--desktop":"_nav__logo--desktop_wth61_15",subgrid:g7,subgrid__link:y7,subgrid__link__label:v7,"subgrid__link--active":"_subgrid__link--active_wth61_46",preview__link:_7,preview__button:w7,main:E7,"nav__logo--mobile":"_nav__logo--mobile_wth61_72"},I7="_container_vbmjt_1",T7={container:I7},S7=()=>T.jsx("div",{className:T7.container,children:T.jsx(Ax,{})}),b7="/assets/icon-links-header-acc5b02c.svg",R7="/assets/icon-preview-header-caefc8da.svg",A7="/assets/logo-devlinks-small-84b7af64.svg",C7="/assets/icon-profile-details-header-2d011074.svg",P7=()=>{var o,s;const e=vi(),t=Br(),n=_s(),r=((o=xn.currentUser)==null?void 0:o.uid)||"",i=()=>t(je.PREVIEW+`/${r}`);return E.useEffect(()=>{e.pathname===je.HOME&&t(je.LINK)},[t,e.pathname]),E.useEffect(()=>{n(Jl(r))},[r,n]),T.jsxs("div",{className:nn.container,children:[T.jsxs("nav",{className:nn.nav,children:[T.jsx("img",{src:A7,className:nn["nav__logo--mobile"],alt:"mobile__logo"}),T.jsx("img",{src:Ox,className:nn["nav__logo--desktop"],alt:"desktop__logo"}),T.jsxs("div",{className:nn.subgrid,children:[T.jsxs(Hm,{to:je.LINK,className:({isActive:a})=>`${nn.subgrid__link} ${a?nn["subgrid__link--active"]:""}`,children:[T.jsx("img",{src:b7,alt:"link"}),T.jsx("span",{className:nn.subgrid__link__label,children:"Links"})]}),T.jsxs(Hm,{to:je.PROFILE,className:({isActive:a})=>`${nn.subgrid__link} ${a?nn["subgrid__link--active"]:""}`,children:[T.jsx("img",{src:C7,alt:"profile"}),T.jsx("span",{className:nn.subgrid__link__label,children:"Profile Details"})]})]}),T.jsxs("div",{className:nn.preview,children:[T.jsx(Hm,{to:je.PREVIEW+`/${(s=xn.currentUser)==null?void 0:s.uid}`,className:nn.preview__link,children:T.jsx("img",{src:R7,alt:"preview"})}),T.jsx("div",{className:nn.preview__button,children:T.jsx(Fr,{label:"Preview",clickHandler:i,outlineMode:!0})})]})]}),T.jsx("main",{className:nn.main,children:T.jsx(S7,{})})]})},x7=({component:e})=>{const{user:t,loading:n}=hi(r=>r.auth);return n?T.jsx(Zx,{}):t?e:T.jsx(Z9,{to:je.LOGIN,replace:!0})},k7="_container_cyg3h_1",D7={container:k7},N7=()=>{const e=Br(),t=()=>e(-1);return T.jsx(Tp,{children:T.jsxs("div",{className:D7.container,children:[T.jsx("h1",{className:"title",children:"Page not found"}),T.jsx("h3",{className:"subtitle",children:"The page you requested is not found. Please check URL and try again."}),T.jsx(Fr,{label:"Go back",clickHandler:t})]})})},O7="_container_cyg3h_1",L7={container:O7},M7=()=>{const e=Br(),t=()=>e(`/${je.LOGIN}`);return T.jsx(Tp,{children:T.jsxs("div",{className:L7.container,children:[T.jsx("h1",{className:"title",children:"Unexpected Error"}),T.jsxs("h3",{className:"subtitle",children:["Please contact developer at: ",T.jsx("b",{children:"d.sisovic777@gmail.com"})]}),T.jsx(Fr,{label:"Go to login",clickHandler:t})]})})},V7=[{element:T.jsx(O5,{fallback:T.jsx(M7,{}),children:T.jsx(g6,{})}),children:[{path:je.HOME,element:T.jsx(x7,{component:T.jsx(P7,{})}),children:[{path:je.LINK,element:T.jsx(h7,{})},{path:je.PROFILE,element:T.jsx(D5,{})}]},{path:je.PREVIEW+"/:id",element:T.jsx(Wz,{})},{path:je.LOGIN,element:T.jsx(bz,{})},{path:je.REGISTER,element:T.jsx(F5,{})}],errorElement:T.jsx(N7,{})}],F7=a6(V7,{basename:"/Link-sharing"});Yy.createRoot(document.getElementById("root")).render(T.jsx(z.StrictMode,{children:T.jsx(ex,{store:q6,children:T.jsx(X9,{router:F7})})}));
